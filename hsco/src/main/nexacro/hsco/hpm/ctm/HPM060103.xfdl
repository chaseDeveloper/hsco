<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="HPM060103" classname="HPM060103" left="0" top="0" width="1059" height="735" titletext="강좌관리" oninit="HPM060103_oninit" onload="HPM060103_onload">
    <Layouts>
      <Layout>
        <Static id="sta_back12" taborder="163" cssclass="sta_WF_Labelbg" top="327" right="27" width="204" height="27"/>
        <Static id="sta_back00" taborder="155" cssclass="sta_WF_Labelbg" top="457" right="30" width="479" height="27"/>
        <Static id="sta_back08" taborder="158" cssclass="sta_WF_Labelbg" top="483" right="28" width="478" height="94"/>
        <Static id="sta_back07" taborder="134" cssclass="sta_WF_Labelbg" top="275" right="28" width="487" height="27"/>
        <Static id="sta_back05" taborder="119" cssclass="sta_WF_Labelbg" top="223" right="28" width="487" height="27"/>
        <Static id="sta_back14" taborder="109" cssclass="sta_WF_Labelbg" top="602" right="308" width="199" height="94"/>
        <Static id="sta_back13" taborder="105" cssclass="sta_WF_Labelbg" top="576" right="308" width="199" height="27"/>
        <Static id="sta_back11" taborder="84" cssclass="sta_WF_Labelbg" top="379" right="28" width="495" height="27"/>
        <Static id="sta_back10" taborder="81" cssclass="sta_WF_Labelbg" top="327" right="28" width="495" height="27"/>
        <Static id="sta_back3" taborder="34" cssclass="sta_WF_Labelbg" top="93" right="28" width="492" height="27"/>
        <Static id="sta_back2" taborder="29" cssclass="sta_WF_Labelbg" top="145" right="28" width="487" height="27"/>
        <Static id="sta_back1" taborder="31" cssclass="sta_WF_Labelbg" top="67" right="27" width="488" height="27"/>
        <Div id="div_search" taborder="0" left="0" top="0" right="28" height="33" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout width="1031" height="59">
              <Static id="Static06" taborder="26" text="15" visible="false" left="279" top="0" bottom="0" width="15" style="background:#00ffff66;"/>
              <Static id="Static01" taborder="39" text="15" visible="false" left="0" top="0" bottom="0" width="15" style="background:#00ffff66;"/>
              <Static id="sta_searchDept" taborder="40" text="담당부서" cssclass="sta_WFSA_Label" left="13" top="5" width="64" height="21"/>
              <Div id="div_dept" taborder="0" url="com::deptCode.xfdl" left="83" top="5" width="195" height="21" enable="false" async="false"/>
              <Static id="sta_searchDe" taborder="42" text="프로그램" cssclass="sta_WFSA_Label" left="294" top="5" width="70" height="21"/>
              <Edit id="edt_progrmNm_s" taborder="43" readonly="false" top="5" width="200" height="21" cssclass="edt_WF_Readonly" left="466"/>
              <Edit id="edt_progrmCode_s" taborder="45" readonly="false" top="5" width="100" height="21" left="364"/>
              <Button id="btn_progrmSearch" taborder="44" onclick="div_search_btn_progrmSearch_onclick" top="7" width="22" height="15" cssclass="btn_WF_Search" left="443"/>
            </Layout>
          </Layouts>
        </Div>
        <Grid id="grd_rentFcltsManageList" taborder="1" useinputpanel="false" left="1" top="67" right="621" bottom="0" binddataset="ds_rentProgrmManageList" cellsizingtype="col">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="200"/>
                <Column size="135"/>
                <Column size="100"/>
                <Column size="35"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="순번"/>
                <Cell col="1" text="담당부서"/>
                <Cell col="2" text="시설명"/>
                <Cell col="3" text="종목명"/>
                <Cell col="4" text="반명"/>
                <Cell col="5" text="등급명"/>
                <Cell col="6" text="프로그램명"/>
                <Cell col="7" text="강습요일"/>
                <Cell col="8" text="강습시간"/>
                <Cell col="9" text="정원"/>
                <Cell col="10" text="배정강사"/>
                <Cell col="11" text="폐지여부"/>
              </Band>
              <Band id="body">
                <Cell text="expr:currow+1"/>
                <Cell col="1" text="bind:DEPT_NM"/>
                <Cell col="2" text="bind:FCLTY_NM"/>
                <Cell col="3" displaytype="normal" text="bind:ITEM_NM"/>
                <Cell col="4" style="align:left;" text="bind:BAN_NM"/>
                <Cell col="5" text="bind:GRAD_NM"/>
                <Cell col="6" style="align:left;" text="bind:PROGRM_NM"/>
                <Cell col="7" style="align:left;" text="bind:TNCRS_DAYWEK_NM"/>
                <Cell col="8" text="bind:TIME"/>
                <Cell col="9" displaytype="number" edittype="none" style="align:right;" text="bind:PSNCPA" suppress="0"/>
                <Cell col="10" text="bind:INSTRCTR_NM"/>
                <Cell col="11" displaytype="checkbox" text="bind:ABL_AT"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static36" taborder="21" text="10" visible="false" left="0" top="33" width="1031" height="10" style="background:#dc143c3c;align:center middle;"/>
        <Static id="sta_gnfdList" taborder="22" text="강좌관리 목록" cssclass="sta_WF_Title02" left="0" top="43" width="120" height="19" style="align:left middle;"/>
        <Static id="Static02" taborder="23" text="5" visible="false" left="0" top="62" right="28" height="5" style="background:#dc143c3c;align:center middle;"/>
        <Static id="Static00" taborder="24" text="15" visible="false" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;" right="13"/>
        <Static id="Static01" taborder="25" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;" bottom="0"/>
        <Static id="Static42" taborder="26" text="상세정보" visible="false" left="437" top="43" bottom="0" width="10" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="sta_edcAcmsltDetail" taborder="27" text="시설관리상세" cssclass="sta_WF_Title02" top="65" right="509" width="103" height="19"/>
        <Static id="sta_progrmNm" taborder="28" text="프로그램명" cssclass="sta_WF_Label" top="145" right="492" width="120" height="27" style="align:right middle;"/>
        <Edit id="edt_progrmNm" taborder="5" top="148" right="30" width="460" height="21" cssclass="edt_WF_Essential" maxlength="300" lengthunit="ascii"/>
        <Static id="sta_itemSe" taborder="30" text="프로그램" cssclass="sta_WF_Label" top="67" right="492" width="120" height="27" style="align:right middle;"/>
        <Static id="sta_back4" taborder="35" cssclass="sta_WF_Labelbg" top="119" right="28" width="487" height="27"/>
        <Static id="sta_time" taborder="36" text="강습시간" cssclass="sta_WF_Label" top="119" right="492" width="120" height="27" style="align:right middle;"/>
        <Static id="sta_back9" taborder="67" cssclass="sta_WF_Labelbg" top="301" right="28" width="495" height="27"/>
        <Static id="sta_instrctrNm" taborder="68" text="배정강사" cssclass="sta_WF_Label" top="301" right="205" width="110" height="27" style="align:right middle;"/>
        <Static id="sta_rm" taborder="70" text="비고" cssclass="sta_WF_Label" top="379" right="492" width="120" height="27" style="align:right middle;" onclick="sta_rm_onclick"/>
        <Div id="div_dept" taborder="19" url="com::deptCode.xfdl" top="304" width="172" height="21" right="317" cssclass="div_WF_Essential" enable="false" async="false"/>
        <Static id="sta_mntnabAt" taborder="85" text="폐지여부" cssclass="sta_WF_Label" top="327" right="492" width="120" height="27" style="align:right middle;"/>
        <Edit id="edt_rm" taborder="20" lengthunit="ascii" maxlength="300" top="382" right="31" width="459" height="21"/>
        <Radio id="rdo_usePrposSe" taborder="18" codecolumn="codecolumn" datacolumn="datacolumn" direction="vertical" cssclass="rdo_WF_Essential" top="332" right="322" width="150" height="21" onitemclick="rdo_usePrposSe_onitemclick" value="0">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">예</Col>
              </Row>
              <Row>
                <Col id="codecolumn">0</Col>
                <Col id="datacolumn">아니오</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Button id="btn_trnsfer" taborder="2" text="초기데이터 갱신#1" onclick="btn_trnsfer_onclick" top="42" right="28" width="112" height="21" visible="false"/>
        <Static id="sta_back01" taborder="100" cssclass="sta_WF_Labelbg" top="405" right="28" height="53" width="522"/>
        <Static id="sta_intrcn" taborder="101" text="프로그램소개" cssclass="sta_WF_Label" top="576" width="110" height="53" style="align:right middle;" right="502"/>
        <TextArea id="txt_mainFcltyDc" taborder="103" top="408" right="31" height="47" width="459" lengthunit="ascii" maxlength="500"/>
        <Static id="sta_img" taborder="104" text="사진첨부" cssclass="sta_WF_Label" top="576" right="492" width="120" height="120" style="align:right middle;"/>
        <Button id="btn_fileUpload" taborder="110" text="사진등록" onclick="btn_fileUpload_onclick" top="579" right="408" width="78" height="21"/>
        <Button id="btn_fileDelete" taborder="113" text="사진삭제" onclick="btn_fileDelete_onclick" top="579" right="316" width="78" height="21"/>
        <ImageViewer id="img_photo" taborder="114" top="605" width="178" height="88" right="312"/>
        <Static id="sta_tncrsDaywek" taborder="116" text="강습요일" cssclass="sta_WF_Label" top="93" right="492" width="120" height="27" style="align:right middle;"/>
        <Static id="sta_rceptDt" taborder="118" text="신규회원접수기간" cssclass="sta_WF_Label" top="223" right="492" width="120" height="27" style="align:right middle;"/>
        <Calendar id="cal_useDe" taborder="120" readonly="false" dateformat="yyyy-MM-dd" top="226" width="100" height="21" right="389"/>
        <MaskEdit id="MaskEdit00" taborder="121" top="226" width="58" height="21" right="329" mask="##:##" maskchar=" " type="string" style="align:center;"/>
        <Calendar id="cal_useDe00" taborder="122" readonly="false" dateformat="yyyy-MM-dd" top="226" width="100" height="21" right="205"/>
        <Static id="sta_to" taborder="124" text="~" top="226" width="13" height="21" right="308"/>
        <Static id="sta_back06" taborder="125" cssclass="sta_WF_Labelbg" top="249" right="28" width="487" height="27"/>
        <Static id="sta_reRceptDt" taborder="126" text="기존회원접수기간" cssclass="sta_WF_Label" top="249" right="492" width="120" height="27" style="align:right middle;"/>
        <Calendar id="cal_useDe01" taborder="127" readonly="false" dateformat="yyyy-MM-dd" top="252" width="100" height="21" right="389"/>
        <MaskEdit id="MaskEdit02" taborder="128" top="252" width="58" height="21" right="329" mask="##:##" maskchar=" " type="string" style="align:center;"/>
        <Calendar id="cal_useDe02" taborder="129" readonly="false" dateformat="yyyy-MM-dd" top="252" width="100" height="21" right="205"/>
        <MaskEdit id="MaskEdit03" taborder="130" top="252" width="58" height="21" right="145" mask="##:##" maskchar=" " type="string" style="align:center;"/>
        <Static id="sta_to00" taborder="131" text="~" top="252" width="13" height="21" right="308"/>
        <Static id="sta_rtprgs" taborder="133" text="진도" cssclass="sta_WF_Label" top="275" right="492" width="120" height="27" style="align:right middle;"/>
        <Edit id="edt_rtprgs" taborder="136" lengthunit="ascii" maxlength="100" top="278" right="31" width="459" height="21"/>
        <Edit id="edt_siteUrl" taborder="137" top="356" width="173" height="21" right="31" maxlength="100"/>
        <MaskEdit id="MaskEdit04" taborder="138" top="122" width="58" height="21" cssclass="msk_WF_Essential" right="432" mask="##:##" maskchar=" " type="string" style="align:center;"/>
        <Static id="sta_to01" taborder="139" text="~" top="122" width="13" height="21" right="413"/>
        <MaskEdit id="MaskEdit05" taborder="140" top="122" width="58" height="21" cssclass="msk_WF_Essential" right="352" mask="##:##" maskchar=" " type="string" style="align:center;"/>
        <Div id="div_tncrsDaywek" taborder="142" top="96" width="460" height="21" style="border:1 solid red ;bordertype:normal 1 0 ;" right="30">
          <Layouts>
            <Layout width="470" height="21">
              <CheckBox id="chk_daywek2" taborder="0" text="월" left="63" top="-1" width="60" height="20" onchanged="div_tncrsDaywek_chk_daywek_onchanged" falsevalue="0" truevalue="2"/>
              <CheckBox id="chk_daywek3" taborder="1" text="화" left="123" top="-1" width="60" height="20" onchanged="div_tncrsDaywek_chk_daywek_onchanged" falsevalue="0" truevalue="3"/>
              <CheckBox id="chk_daywek4" taborder="2" text="수" left="183" top="-1" width="60" height="20" onchanged="div_tncrsDaywek_chk_daywek_onchanged" falsevalue="0" truevalue="4"/>
              <CheckBox id="chk_daywek5" taborder="3" text="목" left="243" top="-1" width="60" height="20" onchanged="div_tncrsDaywek_chk_daywek_onchanged" falsevalue="0" truevalue="5"/>
              <CheckBox id="chk_daywek6" taborder="4" text="금" left="303" top="-1" width="60" height="20" onchanged="div_tncrsDaywek_chk_daywek_onchanged" falsevalue="0" truevalue="6"/>
              <CheckBox id="chk_daywek7" taborder="5" text="토" value="0" truevalue="7" falsevalue="0" onchanged="div_tncrsDaywek_chk_daywek_onchanged" left="363" top="-1" width="60" height="20"/>
              <CheckBox id="chk_daywek1" taborder="6" text="일" value="0" truevalue="1" falsevalue="0" onchanged="div_tncrsDaywek_chk_daywek_onchanged" left="3" top="-1" width="60" height="20"/>
            </Layout>
          </Layouts>
        </Div>
        <Edit id="edt_instrctrNm" taborder="143" top="304" width="173" height="21" right="30" readonly="true" cssclass="edt_WF_Readonly"/>
        <Button id="btn_instrctrSearch" taborder="144" onclick="btn_instrctrSearch_onclick" cssclass="btn_WF_Search" top="307" width="22" height="15" right="28"/>
        <Static id="sta_gnfdList01" taborder="149" text="상세정보" cssclass="sta_WF_Title02" top="43" width="120" height="19" style="align:left middle;" right="492"/>
        <Static id="sta_img00" taborder="153" text="수강대상 및 요금" cssclass="sta_WF_Label" top="457" right="492" width="120" height="120" style="align:right middle;"/>
        <Button id="btn_gridDel" taborder="156" text="행삭제" cssclass="btn_WF_Griddel" top="461" right="32" width="64" height="19" onclick="btn_gridDel_onclick"/>
        <Button id="btn_gridAdd" taborder="157" text="행추가" cssclass="btn_WF_Gridadd" top="461" right="98" width="64" height="19" onclick="btn_gridAdd_onclick"/>
        <Grid id="grd_useChrgeManageList" taborder="159" binddataset="ds_useChrgeManageList" useinputpanel="false" autofittype="col" top="486" right="30" width="460" height="88" autoenter="select">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="80"/>
                <Column size="100"/>
                <Column size="150"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="수강대상"/>
                <Cell col="1" text="요금"/>
                <Cell col="2" text="비고"/>
              </Band>
              <Band id="body">
                <Cell displaytype="normal" edittype="normal" text="bind:TRGET_NM" editdisplay="display"/>
                <Cell col="1" displaytype="number" edittype="masknumber" editfilter="none" style="align:right;" text="bind:CHRGE" mask="!###,##9" maskchar=" " editlimit="6" editdisplay="display" editlimitbymask="both"/>
                <Cell col="2" edittype="normal" style="align:left;" text="bind:RM" editlimit="300" editdisplay="display" editlengthunit="ascii"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="sta_siteURL" taborder="160" text="사이트URL" cssclass="sta_WF_Label" top="353" right="205" width="110" height="27" style="align:right middle;"/>
        <MaskEdit id="MaskEdit01" taborder="161" type="string" mask="##:##" maskchar=" " top="226" right="145" width="58" height="21" style="align:center;"/>
        <Radio id="rdo_pchrgAt" taborder="162" codecolumn="codecolumn" datacolumn="datacolumn" direction="vertical" onitemclick="rdo_usePrposSe_onitemclick" cssclass="rdo_WF_Essential" top="332" right="35" width="150" height="21" value="1">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">예</Col>
              </Row>
              <Row>
                <Col id="codecolumn">0</Col>
                <Col id="datacolumn">아니오</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Static id="sta_pchrgAt" taborder="164" text="유료여부" cssclass="sta_WF_Label" top="327" right="205" width="110" height="27" style="align:right middle;"/>
        <Static id="sta_year00" taborder="88" text="담당부서" cssclass="sta_WF_Label" top="301" right="492" width="120" height="27" style="align:right middle;"/>
        <Static id="sta_back16" taborder="168" cssclass="sta_WF_Labelbg" top="197" right="28" width="492" height="27"/>
        <Static id="sta_year04" taborder="169" text="주소" cssclass="sta_WF_Label" top="197" right="492" width="120" height="27" style="align:right middle;"/>
        <Edit id="edt_adres" taborder="170" lengthunit="ascii" maxlength="300" cssclass="edt_WF_Essential" top="200" right="31" width="459" height="21"/>
        <Static id="sta_back17" taborder="171" cssclass="sta_WF_Labelbg" top="171" right="28" width="487" height="27"/>
        <Static id="sta_inqryTelno" taborder="172" text="문의전화번호" cssclass="sta_WF_Label" top="171" right="492" width="120" height="27" style="align:right middle;"/>
        <Edit id="edt_inqryTelno" taborder="173" inputtype="number" maxlength="20" cssclass="edt_WF_Essential" top="174" right="317" width="173" height="21"/>
        <Static id="sta_back15" taborder="166" cssclass="sta_WF_Labelbg" top="353" right="319" width="204" height="27"/>
        <Radio id="rdo_extrlCntcAt" taborder="165" codecolumn="codecolumn" datacolumn="datacolumn" direction="vertical" cssclass="rdo_WF_Essential" top="357" right="324" width="148" height="21">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">1</Col>
                <Col id="datacolumn">예</Col>
              </Row>
              <Row>
                <Col id="codecolumn">0</Col>
                <Col id="datacolumn">아니오</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Static id="sta_extrlCntcAt" taborder="167" text="외부연계여부" cssclass="sta_WF_Label" top="353" right="492" width="120" height="27" style="align:right middle;"/>
        <Edit id="edt_progrmCode" taborder="174" readonly="true" top="70" width="100" height="21" right="390" cssclass="edt_WF_Essential"/>
        <Button id="btn_progrmSearch" taborder="175" cssclass="btn_WF_Search" top="72" right="388" width="22" height="15" onclick="btn_progrmSearch_onclick"/>
        <Edit id="edt_progrmCodeNm" taborder="176" cssclass="edt_WF_Readonly" top="70" right="30" width="358" height="21"/>
        <Static id="sta_psncpa" taborder="117" text="정원" cssclass="sta_WF_Label" top="171" right="205" width="110" height="27" style="align:right middle;"/>
        <MaskEdit id="msk_psncpa" taborder="141" top="174" width="173" height="21" cssclass="msk_WF_Essential" right="30" type="number" maskchar=" " mask="#,###" limitbymask="both"/>
        <Static id="sta_psncpa00" taborder="177" cssclass="sta_WF_Label" top="119" right="206" width="110" height="27" style="align:right middle;" text="강좌년월"/>
        <Div id="div_ym" taborder="178" url="common::frmMonCal.xfdl" top="122" width="85" height="21" right="119" async="false"/>
        <Static id="sta_img01" taborder="179" text="강좌소개" cssclass="sta_WF_Label" top="405" right="492" width="120" height="53" style="align:right middle;"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item17" compid="MaskEdit01" propid="value" datasetid="ds_rentProgrmManageList" columnid="RCEPT_END_TM"/>
      <BindItem id="item0" compid="div_SEARCH.cmb_rentFcltsSe_s" propid="value" datasetid="ds_cond" columnid="SE"/>
      <BindItem id="item1" compid="edt_progrmNm" propid="value" datasetid="ds_rentProgrmManageList" columnid="PROGRM_NM"/>
      <BindItem id="item14" compid="div_SEARCH.cmb_pchrgAt_s" propid="value" datasetid="ds_cond" columnid="CL"/>
      <BindItem id="item15" compid="div_SEARCH.edt_fcltyNm_s" propid="value" datasetid="ds_cond" columnid="FCLTY_NM"/>
      <BindItem id="item18" compid="edt_rm" propid="value" datasetid="ds_rentProgrmManageList" columnid="RM"/>
      <BindItem id="item21" compid="rdo_usePrposSe" propid="value" datasetid="ds_rentProgrmManageList" columnid="ABL_AT"/>
      <BindItem id="item25" compid="txt_mainFcltyDc" propid="value" datasetid="ds_rentProgrmManageList" columnid="INTRCN"/>
      <BindItem id="item2" compid="cal_useDe" propid="value" datasetid="ds_rentProgrmManageList" columnid="RCEPT_BGNDE"/>
      <BindItem id="item4" compid="cal_useDe00" propid="value" datasetid="ds_rentProgrmManageList" columnid="RCEPT_ENDDE"/>
      <BindItem id="item6" compid="cal_useDe01" propid="value" datasetid="ds_rentProgrmManageList" columnid="RE_RCEPT_BGNDE"/>
      <BindItem id="item7" compid="cal_useDe02" propid="value" datasetid="ds_rentProgrmManageList" columnid="RE_RCEPT_ENDDE"/>
      <BindItem id="item8" compid="edt_rtprgs" propid="value" datasetid="ds_rentProgrmManageList" columnid="RTPRGS"/>
      <BindItem id="item9" compid="MaskEdit04" propid="value" datasetid="ds_rentProgrmManageList" columnid="BEGIN_TIME"/>
      <BindItem id="item10" compid="MaskEdit05" propid="value" datasetid="ds_rentProgrmManageList" columnid="END_TIME"/>
      <BindItem id="item11" compid="msk_psncpa" propid="value" datasetid="ds_rentProgrmManageList" columnid="PSNCPA"/>
      <BindItem id="item12" compid="edt_instrctrNm" propid="value" datasetid="ds_rentProgrmManageList" columnid="INSTRCTR_NM"/>
      <BindItem id="item13" compid="edt_siteUrl" propid="value" datasetid="ds_rentProgrmManageList" columnid="SITE_URL"/>
      <BindItem id="item22" compid="MaskEdit00" propid="value" datasetid="ds_rentProgrmManageList" columnid="RCEPT_BEGIN_TM"/>
      <BindItem id="item16" compid="MaskEdit02" propid="value" datasetid="ds_rentProgrmManageList" columnid="RE_RCEPT_BEGIN_TM"/>
      <BindItem id="item23" compid="MaskEdit03" propid="value" datasetid="ds_rentProgrmManageList" columnid="RE_RCEPT_END_TM"/>
      <BindItem id="item24" compid="rdo_pchrgAt" propid="value" datasetid="ds_rentProgrmManageList" columnid="PCHRG_AT"/>
      <BindItem id="item28" compid="rdo_extrlCntcAt" propid="value" datasetid="ds_rentProgrmManageList" columnid="EXTRL_CNTC_AT"/>
      <BindItem id="item26" compid="edt_adres" propid="value" datasetid="ds_rentProgrmManageList" columnid="ADRES"/>
      <BindItem id="item27" compid="edt_inqryTelno" propid="value" datasetid="ds_rentProgrmManageList" columnid="INQRY_TELNO"/>
      <BindItem id="item3" compid="div_search.edt_progrmNm_s" propid="value" datasetid="ds_cond" columnid="PROGRM_CODE_NM"/>
      <BindItem id="item19" compid="div_search.edt_progrmCode_s" propid="value" datasetid="ds_cond" columnid="PROGRM_CODE"/>
      <BindItem id="item5" compid="edt_progrmCode" propid="value" datasetid="ds_rentProgrmManageList" columnid="PROGRM_CODE"/>
      <BindItem id="item20" compid="edt_progrmCodeNm" propid="value" datasetid="ds_rentProgrmManageList" columnid="PROGRM_CODE_NM"/>
    </Bind>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="ds_cond_oncolumnchanged">
        <ColumnInfo>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="PROGRM_CODE" type="STRING" size="256"/>
          <Column id="PROGRM_CODE_NM" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">RCEPT_ENDDE</Col>
            <Col id="to"/>
            <Col id="lengthChkGb">LE</Col>
            <Col id="expr"/>
            <Col id="from">RCEPT_BGNDE</Col>
            <Col id="msgId">접수종료일^접수시작일</Col>
            <Col id="notNull"/>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">RE_RCEPT_ENDDE</Col>
            <Col id="PK"/>
            <Col id="notNull"/>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from">RE_RCEPT_BGNDE</Col>
            <Col id="to"/>
            <Col id="lengthChkGb">LE</Col>
            <Col id="msgId">재접수종료일^재접수시작일</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">END_TIME</Col>
            <Col id="PK"/>
            <Col id="notNull"/>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from">BEGIN_TIME</Col>
            <Col id="to"/>
            <Col id="lengthChkGb">LE</Col>
            <Col id="msgId">강습종료시간^강습시작시간</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">RCEPT_END_TM</Col>
            <Col id="from">RCEPT_BEGIN_TM</Col>
            <Col id="notNull"/>
            <Col id="lengthChkGb">LE</Col>
            <Col id="msgId">접수종료시간^접수시작시간</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">RE_RCEPT_END_TM</Col>
            <Col id="notNull"/>
            <Col id="from">RE_RCEPT_BEGIN_TM</Col>
            <Col id="lengthChkGb">LE</Col>
            <Col id="msgId">재접수종료시간^재접수시작시간</Col>
          </Row>
          <Row>
            <Col id="compId">ds_useChrgeManageList</Col>
            <Col id="colId">TRGET_NM</Col>
            <Col id="PK"/>
            <Col id="msgId">수강대상</Col>
            <Col id="notNull">Y</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">TNCRS_DAYWEK</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">강습요일</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">END_TIME</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">강습종료시간</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">BEGIN_TIME</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="type"/>
            <Col id="nlength"/>
            <Col id="from"/>
            <Col id="to"/>
            <Col id="lengthChkGb"/>
            <Col id="msgId">강습시작시간</Col>
            <Col id="expr"/>
            <Col id="func"/>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">ITEM</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">프로그램종목</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">PROGRM_NM</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">프로그램명</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">PSNCPA</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">정원</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">ABL_AT</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">폐지여부</Col>
          </Row>
          <Row>
            <Col id="colId">PCHRG_AT</Col>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">유료여부</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">EXTRL_CNTC_AT</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">외부연계여부</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">INQRY_TELNO</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">문의전화번호</Col>
          </Row>
          <Row>
            <Col id="compId">ds_rentProgrmManageList</Col>
            <Col id="colId">ADRES</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">주소</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_rentProgrmManageList" useclientlayout="true" oncolumnchanged="ds_rentProgrmManageList_oncolumnchanged" onrowposchanged="ds_rentProgrmManageList_onrowposchanged" onrowsetchanged="ds_rentProgrmManageList_onrowsetchanged" canrowposchange="ds_rentProgrmManageList_canrowposchange">
        <ColumnInfo>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="DEPT_NM" type="STRING" size="256"/>
          <Column id="PROGRM_SN" type="STRING" size="256"/>
          <Column id="ITEM_NM" type="STRING" size="256"/>
          <Column id="PROGRM_NM" type="STRING" size="256"/>
          <Column id="GRAD_NM" type="STRING" size="256"/>
          <Column id="BAN_NM" type="STRING" size="256"/>
          <Column id="FCLTY_NM" type="STRING" size="256"/>
          <Column id="TNCRS_DAYWEK" type="STRING" size="256"/>
          <Column id="BEGIN_TIME" type="STRING" size="256"/>
          <Column id="END_TIME" type="STRING" size="256"/>
          <Column id="PSNCPA" type="BIGDECIMAL" size="256"/>
          <Column id="RCEPT_BGNDE" type="STRING" size="256"/>
          <Column id="RCEPT_ENDDE" type="STRING" size="256"/>
          <Column id="RE_RCEPT_BGNDE" type="STRING" size="256"/>
          <Column id="RE_RCEPT_ENDDE" type="STRING" size="256"/>
          <Column id="RCEPT_BEGIN_TM" type="STRING" size="256"/>
          <Column id="RCEPT_END_TM" type="STRING" size="256"/>
          <Column id="RE_RCEPT_BEGIN_TM" type="STRING" size="256"/>
          <Column id="RE_RCEPT_END_TM" type="STRING" size="256"/>
          <Column id="INSTRCTR_SN" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="RTPRGS" type="STRING" size="256"/>
          <Column id="INTRCN" type="STRING" size="256"/>
          <Column id="ABL_AT" type="STRING" size="256"/>
          <Column id="SITE_URL" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="INSTRCTR_NM" type="STRING" size="256"/>
          <Column id="TIME" type="STRING" size="256"/>
          <Column id="TNCRS_DAYWEK_NM" type="STRING" size="256"/>
          <Column id="PCHRG_AT" type="STRING" size="256"/>
          <Column id="EXTRL_CNTC_AT" type="STRING" size="256"/>
          <Column id="INQRY_TELNO" type="STRING" size="256"/>
          <Column id="ADRES" type="STRING" size="256"/>
          <Column id="PROGRM_CODE_NM" type="STRING" size="256"/>
          <Column id="PROGRM_CODE" type="STRING" size="256"/>
          <Column id="YM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_itemSe_s">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_gradSe">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_trgetSe">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fileCond" useclientlayout="true">
        <ColumnInfo>
          <Column id="FILE_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fileList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="PROGRS" type="BIGDECIMAL" size="16"/>
          <Column id="ORGINL_FILE_NM" type="string" size="32"/>
          <Column id="FILE_EXTSN" type="string" size="32"/>
          <Column id="FILE_STRE_COURS" type="string" size="32"/>
          <Column id="FILE_ID" type="string" size="32"/>
          <Column id="SN" type="bigdecimal" size="16"/>
          <Column id="SYS_SE_CODE" type="string" size="32"/>
          <Column id="FILE_IMAGE" type="string" size="32"/>
          <Column id="FILE_TY" type="string" size="32"/>
          <Column id="JOB_SE" type="string" size="32"/>
          <Column id="DELETE_IMAGE" type="string" size="32"/>
          <Column id="STRE_FILE_NM" type="string" size="32"/>
          <Column id="FILE_MG" type="bigdecimal" size="16"/>
          <Column id="FILE_CN" type="string" size="32"/>
          <Column id="FILE_ORDR" type="bigdecimal" size="16"/>
          <Column id="TRNSMIS_FILE_SIZE" type="string" size="32"/>
          <Column id="USE_AT" type="string" size="32"/>
          <Column id="STTUS" type="string" size="32"/>
          <Column id="FILE_SN" type="bigdecimal" size="16"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_useChrgeManageList" useclientlayout="true">
        <ColumnInfo>
          <Column id="TRGET_NM" type="STRING" size="256"/>
          <Column id="CHRGE" type="BIGDECIMAL" size="256"/>
          <Column id="SN" type="STRING" size="256"/>
          <Column id="RM" type="STRING" size="256"/>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="PROGRM_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond2" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="PROGRM_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_itemSe">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_progrmList" useclientlayout="true">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond3">
        <ColumnInfo>
          <Column id="DEPT_CODE" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="PROGRM_CODE" type="STRING" size="256"/>
          <Column id="PROGRM_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID		: HPM060103
 * 화면명		: 대관(프로그램)관리
 * 화면설명	: 대관(프로그램)을 관리한다.
 * 작성일		: 2017.08.07
 * 작성자		: 정 민 
 * 수정이력	: 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 */
 
 
/***********************************************************************
 * Script Include
 ************************************************************************/
// 시스템 공통 라이브러리 Include
include "lib::comInclude.xjs";
include "lib::comUpDownUtils.xjs";

include "mis_lib::misUtil.xjs";
/**********************************************************************
* 화면 변수 선언부
***********************************************************************/
this.saveRow = -1;
this.File_UpDownManager = null;
/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/

this.HPM060103_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
    this.fn_init_form();
    this.fn_init_dataset();

}

this.HPM060103_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{ 
}

/**********************************************************************
* Form/Dataset 오브젝트 초기화
***********************************************************************/

/*
 * 함수명      : initForm
 * 설명         : Form을 초기화한다.
 * params          : None
 * return Type     : None
 * 사용법        : this.initForm();
 */
this.fn_init_form = function()
{
    this.gfn_initForm(this);

	this.ds_cond.clearData();
	this.ds_cond.addRow();
//	this.ds_cond.setColumn(0, "DEPT_CODE", "000000");
//	this.ds_cond.setColumn(0, "DEPT_NM"  , "화성도시공사");
 	this.ds_cond.setColumn(0, "DEPT_CODE",     this.gfn_getDeptId());
 	this.ds_cond.setColumn(0, "DEPT_NM"  ,     this.gfn_getDeptName());
	this.ds_cond.setColumn(0, "PROGRM_CODE", "");
	
	this.div_search.div_dept.fn_setBind("ds_cond", "DEPT_CODE", "DEPT_NM");
	this.div_dept.fn_setBind("ds_rentProgrmManageList", "DEPT_CODE", "DEPT_NM");
	this.div_ym.fn_setBind("ds_rentProgrmManageList", "YM");


	var fileConfig = {
      useMultiUpload : true,
      onChange: this.fn_onFileSelected,    // 파일 선택 이벤트 핸들러
      onSuccess : this.fn_onFileSuccess,   // 전송 성공 이벤트 핸들러
      allowTypes : ["jpg","jpeg","gif","png"]	// 선택 허용 파일유형
    };
	
	this.File_UpDownManager = new this.fileUpDownManager(this, "HPM", "HPM");
    this.File_UpDownManager.init(fileConfig);

    // 공통코드
    var comboParams = [		
							 ["ds_itemSe_s", "HPM014", "1", "전체"]			// 종목구분
							,["ds_gradSe"  , "HPM015", "1", "해당없음"]	// 등급구분
							,["ds_trgetSe" , "HPM016", "1", ""]				// 대상구분
                      ];
    var callback = function (svcId, errorCode, errorMsg) {
        this.ds_gradSe.setColumn(0, "CODE", null);
        
        this.ds_itemSe.copyData(this.ds_itemSe_s);
        this.ds_itemSe.deleteRow(0);
      
        // 공통코드와 연계된 초기검색조건 설정
		// 수정가능여부를 판별하기위해 권한그룹 체크
		if(this.gfn_authGrpId("DEV_GRP") != -1) {			// 개발자
			this.chargerAt = true;
		}
		if(this.gfn_authGrpId("HPM_ADMIN") != -1) {			// 대관관리자
			this.chargerAt = true;
		}
		if(this.gfn_authGrpId("ALL_ADMIN") != -1) {			// 전체권한
			this.chargerAt = true;
		}
		if(this.gfn_authGrpId("HSCO_ADMIN") != -1) {		// 루트권한자
			this.chargerAt = true;
		}
		
		// 수정가능한 경우 부서변경 가능
		if(this.chargerAt){
			this.div_search.div_dept.set_enable(true);
		}
      
        this.fn_search();  
    };
    
    this.gfn_comboLoad (comboParams, callback);
}


/*
 * 함수명      : initDataset
 * 설명         : Dataset을 초기화한다
 * params          : None
 * return Type     : None
 * 사용법        : this.initDataset();
 */
this.fn_init_dataset = function()
{
    this.gfn_initCondDs(this, this.div_search);   
}


/**********************************************************************
* Transaction 영역 시작
***********************************************************************
*
* 1. Transaction 관련 이벤트 핸들러
* 2. call Transaction 영역
* 3. callback 영역(Transaction, Popup)
*
***********************************************************************/



/**********************************************************************
* Transaction 관련 이벤트 핸들러
***********************************************************************/

/*
 * 함수명  	: fn_search
 * 설명 		: 조회 버튼 클릭시 이벤트 발생
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{
     if(Ex.util.isUpdated(this.ds_rentProgrmManageList)) {
         if(!this.gfn_message("confirm.변경.취소.여부")) {
             return false;    // 아니오
         }
     }

	// dataset 초기화
	this.ds_rentProgrmManageList.clearData();
	
	//validation 체크
    if(!this.gfn_checkValidation_NoUpdChk(this.ds_cond, this.ds_validation)) {
        return;
    }

	this.fn_transaction("selectRentProgrmManageList");
}


/*
 * 함수명  	: 
 * 설명 		: 저장 버튼 클릭시 이벤트 발생
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_save();
 */
this.fn_save = function()
{
    // 데이터셋 미변경 체크
    if (!this.comUtils.isDatasetUpdated(this.ds_rentProgrmManageList) && !this.comUtils.isDatasetUpdated(this.ds_useChrgeManageList)) {
        this.gfn_message("comm.데이터.변경.없음")
        return false;
    }
    
        //validation 체크
    if(!this.gfn_checkValidation_NoUpdChk(this.ds_rentProgrmManageList, this.ds_validation)) {
        return;
    }

    if(this.gfn_message("confirm.저장.여부")) {
        this.saveRow = this.ds_rentProgrmManageList.rowposition;
		this.fn_transaction("saveRentProgrmManageList");  
    }
}


/*
 * 함수명  	: fn_insert
 * 설명 		: 신규 버튼 클릭시 이벤트 발생
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_insert();
 */
this.fn_insert = function() {
	
	var nRow = this.ds_rentProgrmManageList.addRow();
	
	var deptCode = this.ds_cond.getColumn(0, "DEPT_CODE");
	var deptNm   = this.ds_cond.getColumn(0, "DEPT_NM");
	
	this.ds_rentProgrmManageList.setColumn(nRow, "DEPT_CODE", deptCode);
	this.ds_rentProgrmManageList.setColumn(nRow, "DEPT_NM"  , deptNm);
	this.ds_rentProgrmManageList.setColumn(nRow, "ABL_AT"   , "0");
	this.ds_rentProgrmManageList.setColumn(nRow, "GRAD",      null);		// 초기값(해당없음)
}


/*
 * 함수명  	: fn_delete
 * 설명 		: 삭제 버튼 클릭시 이벤트 발생
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_delete();
 */
this.fn_delete = function() {
	
   if (this.gfn_message("confirm.삭제여부")) {
        if(this.ds_rentProgrmManageList.getRowCount() > 0) {
			var cRow = this.ds_rentProgrmManageList.rowposition;
			this.ds_rentProgrmManageList.deleteRow(cRow);
        }
    }
}


/*
 * 함수명  	: fn_cancel
 * 설명 		: 취소 버튼 클릭시 이벤트 발생
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_cancel();
 */
this.fn_cancel = function() {

     // 데이터셋 변경 체크
    if(Ex.util.isUpdated(this.ds_rentProgrmManageList)) {
        if(!this.gfn_message("confirm.변경.취소.여부")) {
            return false;
        }
    }

    if (this.gfn_message("confirm.취소여부")) {
        this.ds_rentProgrmManageList.reset();
        this.ds_rentProgrmManageList.applyChange();
    }

}
/**********************************************************************
* call Transaction 영역
***********************************************************************/

/*
 * 함수명      : fn_transaction
 * 설명         : Transaction 요청 처리 함수
 * params          : strSvcId : 서비스요청 ID
 * return Type     : None
 * 사용법        : this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
    switch (strSvcId) {
        //  프로그램 목록 조회
        case "selectProgrmList":
            var sController       = "hsco/hpm/ctm/HPM060103/selectProgrmList.do";
            var sInDatasets       = "input1=ds_cond";
            var sOutDatasets      = "ds_progrmList=output1";
            break;
        // 대관(프로그램) 목록 조회
        case "selectRentProgrmManageList":
            var sController       = "hsco/hpm/ctm/HPM060103/selectRentProgrmManageList.do";
            var sInDatasets       = "input1=ds_cond";
            var sOutDatasets      = "ds_rentProgrmManageList=output1";
            break;
        // 사용요금 목록 조회
        case "selectUseChrgeManageList":
            var sController       = "hsco/hpm/ctm/HPM060103/selectUseChrgeManageList.do";
            var sInDatasets       = "input1=ds_cond2";
            var sOutDatasets      = "ds_useChrgeManageList=output1";
            break;
        //  대관(프로그램) 목록 저장
        case "saveRentProgrmManageList":
            var sController       = "hsco/hpm/ctm/HPM060103/saveRentProgrmManageList.do";
            var sInDatasets       = "input1=ds_rentProgrmManageList:U input2=ds_useChrgeManageList:U";
            var sOutDatasets      = "";
            break;
        // ======== 첨부파일 관련 transaction ========
        // 첨부파일 조회
        case "selectAtchFile":
            var sController  = "/hsco/cmm/file/selectAtchmnFileList.do";
            var sInDatasets  = "input1=ds_fileCond";
            var sOutDatasets = "ds_fileList=output1";
            break;
        // 첨부파일 삭제
        case "deleteAtchFile":
            var sController     = "hsco/cmm/file/deleteFile.do";
            var sInDatasets     = "input1=ds_fileList:U";
            var sOutDatasets    = "ds_fileList=output1";
            break;
    }

    Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets);
}


/**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
 /*
 * 함수명      : fn_callBack
 * 설명         : Transaction Callback 처리
 * params          : strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type     : None
 * 사용법        :
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
    if(nErrorCode != '0') {
        this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
    }

    if (nErrorCode == '0'){
    switch (strSvcId) {
        //  프로그램 목록 조회
        case "selectProgrmList":
            break;
            
        // 대관(프로그램) 목록 조회
        case "selectRentProgrmManageList":
             if(this.saveRow != -1) {
                 this.ds_rentProgrmManageList.set_rowposition(this.saveRow);
                 this.saveRow = -1;
             }
			
			// 버튼, 팝업 enabled
			this.fn_setObjectProperty();
			
            break;
        // 사용요금 목록 조회
        case "selectUseChrgeManageList":
             break;
        //  대관(프로그램) 목록 저장
         case "saveRentProgrmManageList":
             this.fn_search();
             break;
        //  대관(프로그램) 이관
         case "trnsferProgrmInfoList":
			 this.gfn_message("success.처리.성공"); 
			 this.fn_search();
             break;
        // ======== 첨부파일 관련 transaction ========
        // 첨부파일 조회
        case "selectAtchFile":
			// 첨부파일(사진) 표시 실행
			if(this.ds_fileList.rowcount > 0){
				this.fn_photo_view();
			}else {
				this.img_photo.set_image("");
			}
            break;
        // 첨부파일 삭제
        case "deleteAtchFile":
			this.img_photo.set_image("");
            break;
        }
    }
}

/**********************************************************************
* Transaction 영역 끝
***********************************************************************/

/**********************************************************************
* non-Transaction 관련 컴포넌트 이벤트 처리 함수
***********************************************************************
*
* 1. Dataset 관련 이벤트 처리
* 2. Button 관련 이벤트 처리
* 3. Grid 관련 이벤트 처리
* 4. 공통함수 처리
* 5. Object 관련 이벤트 처리
*
***********************************************************************/


/**********************************************************************
* Dataset 관련 이벤트 처리
***********************************************************************/

/*
 * 함수명		: ds_rentProgrmManageList_oncolumnchanged
 * 설명			: 시설관리목록 데이터셋 값 변경후 발생
 * params		: None
 * return Type	: None
 * 사용법		: this.ds_rentProgrmManageList_oncolumnchanged
 */
this.ds_rentProgrmManageList_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
 	// 시각 validation
 	if(e.columnid == "BEGIN_TIME" || e.columnid == "END_TIME" || e.columnid == "RCEPT_BEGIN_TM" || e.columnid == "RCEPT_END_TM" || e.columnid == "RE_RCEPT_BEGIN_TM" || e.columnid == "RE_RCEPT_END_TM" ) {
 
 		var tm = e.newvalue.replace(/\s/g, '0');
 		var tm_front = nexacro.toNumber(tm.substr(0, 2));
 		var tm_back = nexacro.toNumber(tm.substr(2, 2));
 		
 		if(tm_front > 23 || tm_back > 59) {
 			alert("시각을 다시 확인해주세요.");
 			obj.setColumn(e.row, e.columnid, e.oldvalue);
 		}else {
 			obj.setColumn(e.row, e.columnid, tm);
 		}
 	}
 	
 	// 프로그램 코드
 	if(e.columnid == "PROGRM_CODE") {
		
 		var progrmCode = obj.getColumn(e.row, "PROGRM_CODE");
		var progrmRow  = this.ds_progrmList.findRow("CODE", progrmCode);
 		
 		// 요일
 	 	var p_trnasDaywekNm = "";
 		if(!this.comUtils.isNull(obj.getColumn(e.row, "TNCRS_DAYWEK"))) {
			p_trnasDaywekNm = (" "+this.fn_getTransDaywek(obj.getColumn(e.row, "TNCRS_DAYWEK")));
 		}

		// 시작시간
		var beginTm = "";
		if(!this.comUtils.isNull(obj.getColumn(e.row, "BEGIN_TIME"))) {
			beginTm  = " ";
			beginTm += (obj.getColumn(e.row, "BEGIN_TIME").substring(0, 2)) + "시";
			
		}
		
		// 프로그램명 셋팅
		var progrmNm = this.ds_progrmList.getColumn(progrmRow, "CODE_NM");
		progrmNm += p_trnasDaywekNm;
		progrmNm += beginTm;
		
		
		obj.setColumn(e.row, "PROGRM_NM", progrmNm);
 	}
 	
 	// 요일
  	if(e.columnid == "TNCRS_DAYWEK") { 	
 	 	var trnasDaywek = "";
 	 	var p_trnasDaywekNm = "";
 	 	
 		if(!this.comUtils.isNull(e.newvalue)) {
 		 	var trnasDaywekNm = this.fn_getTransDaywek(e.newvalue, ", ");
 			obj.setColumn(e.row, "TNCRS_DAYWEK_NM", trnasDaywekNm);
			p_trnasDaywekNm = (" "+ this.fn_getTransDaywek(e.newvalue));
 		}

		var progrmCode = obj.getColumn(e.row, "PROGRM_CODE");
		var progrmRow  = this.ds_progrmList.findRow("CODE", progrmCode);
		
		// 시작시간
		var beginTm = "";
		if(!this.comUtils.isNull(obj.getColumn(e.row, "BEGIN_TIME"))) {
			beginTm  = " ";
			beginTm += (obj.getColumn(e.row, "BEGIN_TIME").substring(0, 2)) + "시";
			
		}
		
		// 프로그램명 셋팅
		var progrmNm = this.ds_progrmList.getColumn(progrmRow, "CODE_NM");
		progrmNm += p_trnasDaywekNm;
		progrmNm += beginTm;
		
		
		obj.setColumn(e.row, "PROGRM_NM", progrmNm);
  	}
  	
  	// 시간
  	if(e.columnid == "BEGIN_TIME") {
 		
 		var progrmCode = obj.getColumn(e.row, "PROGRM_CODE");
		var progrmRow  = this.ds_progrmList.findRow("CODE", progrmCode);
 		
 		// 요일
 	 	var p_trnasDaywekNm = "";
 		if(!this.comUtils.isNull(obj.getColumn(e.row, "TNCRS_DAYWEK"))) {
			p_trnasDaywekNm = (" "+this.fn_getTransDaywek(obj.getColumn(e.row, "TNCRS_DAYWEK")));
 		}

		// 시작시간
		var beginTm = "";
		if(!this.comUtils.isNull(e.newvalue)) {
			beginTm  = " ";
			beginTm += (obj.getColumn(e.row, "BEGIN_TIME").substring(0, 2)) + "시";
			
		}
		
		// 프로그램명 셋팅
		var progrmNm = this.ds_progrmList.getColumn(progrmRow, "CODE_NM");
		progrmNm += p_trnasDaywekNm;
		progrmNm += beginTm;
		
		
		obj.setColumn(e.row, "PROGRM_NM", progrmNm);
  	}
 	
}


/*
 * 함수명		: ds_rentProgrmManageList_onrowposchanged
 * 설명			: 시설관리목록 데이터셋 행 변경후 발생
 * params		: None
 * return Type	: None
 * 사용법		: this.ds_rentProgrmManageList_onrowposchanged("SELECT");
 */
this.ds_rentProgrmManageList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	this.ds_useChrgeManageList.clearData();
	// 체크박스 셋팅
	this.fn_setCheckboxVal();
	
	if(e.newrow > -1) {
		var cRow = obj.rowposition;

		var deptCode = obj.getColumn(cRow, "DEPT_CODE");
		var manageNo = obj.getColumn(cRow, "PROGRM_SN");
		
		// 수강요금
		this.ds_cond2.clearData();
		this.ds_cond2.addRow();
		
		this.ds_cond2.setColumn(0, "DEPT_CODE", deptCode);
		this.ds_cond2.setColumn(0, "PROGRM_SN", manageNo);
		
		this.fn_transaction("selectUseChrgeManageList");
		
		// 첨부파일
		this.ds_fileCond.clearData();
		this.ds_fileCond.addRow();
		this.ds_fileCond.setColumn(0, "FILE_SN", this.ds_rentProgrmManageList.getColumn(cRow, "FILE_SN"));

		this.ds_fileList.clearData();
		this.fn_transaction("selectAtchFile");
	}
}
/**********************************************************************
* Button 관련 이벤트 처리
***********************************************************************/


/*
 * 함수명		: btn_trnsfer_onclick
 * 설명			: 초기데이터 갱신
 * params		: None
 * return Type	: None
 * 사용법		: this.btn_trnsfer_onclick();
 */
this.btn_trnsfer_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var deptCode = this.ds_cond.getColumn(0, "DEPT_CODE");
	
	if(!this.comUtils.isNull(deptCode)) {
		if(application.confirm("초기데이터로 갱신하시겠습니까?\n계속 진행하시면 기존 데이터는 삭제됩니다.")) { 
			this.fn_transaction("trnsferProgrmInfoList");  
		}
	}
}


 /*
 * 함수명  	: btn_fileUpload_onclick
 * 설명 		: 첨부파일 업로드 버튼클릭 시
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_fileUpload_onclick();
 */
this.btn_fileUpload_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(this.ds_fileList.rowcount < 1){
		mCallback = function() {
			this.fn_autoFileSn(
				 "HPM"									// 대분류   (SYS_SE)
				,"HPM"									// 업무구분 (JOB_SE)
				, this.File_UpDownManager	            // fileManager 오브젝트
				, this.ds_fileList		               	// fileObject
				, this.ds_rentProgrmManageList	    	// fileSn을 불러오거나 반영해야 하는 컬럼
				, "TBHPM_RENT_PROGRM_MANAGE"			// fileSn을 저장할 테이블
				, "FILE_SN"								// fileSn 컬럼명이 다를 경우를 대비
				, ["DEPT_CODE", "PROGRM_SN"]			// fileSn을 저장할 테이블의 PK (FileSn 확인 및 자동반영목적)
			);
		}
		
		this.gfn_message("info.저장.초과", "이미지 파일만", null, null, mCallback);
		//this.mCallback();
	} else {
		this.gfn_message("info.저장.초과", "최대 1개 까지만");
	}
}


 /*
 * 함수명  	: btn_fileDelete_onclick
 * 설명 		: 첨부파일 삭제 버튼클릭 시
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_fileDelete_onclick();
 */
this.btn_fileDelete_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(this.ds_fileList.getRowCount() > 0) {
		if(application.confirm("첨부파일을 삭제하시겠습니까?")) {	
			this.ds_fileList.deleteRow(0);
			this.fn_transaction("deleteAtchFile");
		}
	}
}


this.btn_instrctrSearch_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_popInstrctrInfo(obj, e);
}
/**********************************************************************
* Grid 관련 이벤트 처리
***********************************************************************/

/**********************************************************************
* 공통함수 처리
***********************************************************************/

/**********************************************************************
* Tab 관련 이벤트 처리
***********************************************************************/

/**********************************************************************
* Popup 관련 이벤트 처리
***********************************************************************/
/*
 * 함수명  	: fn_popInstrctrInfo
 * 설명 		: 강사조회 팝업 호출
 * params  		: obj:Button,  e:nexacro.ClickEventInfo
 * return Type 	: None
 * 사용법		: this.fn_popInstrctrInfo(obj:Button,  e:nexacro.ClickEventInfo)
 */
this.fn_popInstrctrInfo = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var parm = {
	   arg_0      : this
	};
	
	this.gfn_popup("popInstrctrInfo", 500, 465, "", parm, "hpm_ctm::HPM060103_P01.xfdl", "fn_popCallBack", true);
}

/*
 * 함수명  	: btn_progrmSearch_onclick
 * 설명 		: 프로그램조회 팝업 호출
 * params  		: obj:Button,  e:nexacro.ClickEventInfo
 * return Type 	: None
 * 사용법		: this.btn_progrmSearch_onclick(obj:Button,  e:nexacro.ClickEventInfo)
 */
this.btn_progrmSearch_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_popProgrmSearch("popProgrmSearch", "1");
}

/*
 * 함수명  	: div_search_btn_progrmSearch_onclick
 * 설명 		: 프로그램조회 팝업 호출(검색조건)
 * params  		: obj:Button,  e:nexacro.ClickEventInfo
 * return Type 	: None
 * 사용법		: this.div_search_btn_progrmSearch_onclick(obj:Button,  e:nexacro.ClickEventInfo)
 */
this.div_search_btn_progrmSearch_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_popProgrmSearch("popDivSearchProgrmSearch", "");
}

/*
 * 함수명  	: fn_popInstrctrInfoCallBack
 * 설명 		: 강사조회 팝업 콜백 처리
 * params  		: sPopupId, sReturn
 * return Type 	: None
 * 사용법		: this.fn_popInstrctrInfoCallBack(sPopupId, sReturn)
 */
this.fn_popCallBack = function(sPopupId, sReturn)
{
	if(sPopupId == "popInstrctrInfo")
	{
		var dsTemp = new Dataset();
		var loadCnt = dsTemp.loadXML(sReturn);
        if(loadCnt) {
			var cRow = this.ds_rentProgrmManageList.rowposition;
			this.ds_rentProgrmManageList.setColumn(cRow, "INSTRCTR_SN", dsTemp.getColumn(0, "INSTRCTR_SN"));
			this.ds_rentProgrmManageList.setColumn(cRow, "INSTRCTR_NM" , dsTemp.getColumn(0, "INSTRCTR_NM"));
        }
	}
	
	if(sPopupId == "popProgrmSearch")
	{
		var dsTemp = new Dataset();
		var loadCnt = dsTemp.loadXML(sReturn);
        if(loadCnt) {
			var cRow = this.ds_rentProgrmManageList.rowposition;
			this.ds_rentProgrmManageList.setColumn(cRow, "PROGRM_CODE"    , dsTemp.getColumn(0, "PROGRM_CODE"));
			this.ds_rentProgrmManageList.setColumn(cRow, "PROGRM_CODE_NM" , dsTemp.getColumn(0, "PROGRM_CODE_NM"));
        }
	}
	
	if(sPopupId == "popDivSearchProgrmSearch")
	{
		var dsTemp = new Dataset();
		var loadCnt = dsTemp.loadXML(sReturn);
        if(loadCnt) {
			this.ds_cond.setColumn(0, "PROGRM_CODE"    , dsTemp.getColumn(0, "PROGRM_CODE"));
			this.ds_cond.setColumn(0, "PROGRM_CODE_NM" , dsTemp.getColumn(0, "PROGRM_CODE_NM"));
        }
	}
}


this.fn_popProgrmSearch = function(sPopupId, s_useAt) {
	var deptCode = this.ds_cond.getColumn(0, "DEPT_CODE");
	var useAt = !this.comUtils.isNull(s_useAt) ? s_useAt : "";
	
	if(this.comUtils.isNull(deptCode)) {
		alert("담당부서를 먼저 선택해주세요.");
	}

	var parm = {
	    arg_0      : this
	   ,deptCode   : deptCode
	   ,useAt      : useAt
	};
	
	this.gfn_popup(sPopupId, 500, 465, "프로그램선택", parm, "hpm_ctm::HPM060103_P02.xfdl", "fn_popCallBack", true);
}
/**********************************************************************
* 사용자 정의 함수
***********************************************************************/


 /*
 * 함수명  	: fn_photo_view
 * 설명 		: 사진 이미지 뷰어에 표시하기
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_photo_view();
 */
this.fn_photo_view = function(){
	
	var fileExtsn = this.ds_fileList.getColumn(0, "FILE_EXTSN");
	var fileSn = this.ds_fileList.getColumn(0, "FILE_SN");			// atchFileInfArr[0];	// 파일일련번호(파일경로)
	var fileOrder = this.ds_fileList.getColumn(0, "FILE_ORDR");		// atchFileInfArr.length > 2 ? atchFileInfArr[1] : "";	// 파일 순차번호
	var fileName = this.ds_fileList.getColumn(0, "ATCH_FILE");		// 실제 파일명
	var fileType = this.ds_fileList.getColumn(0, "FILE_TY");  		// 파일 타입
	
	if(fileType.indexOf("image/")>-1){
		var param = {};
		param["FILE_SN"] = fileSn;
		param["FILE_ORDR"] = fileOrder;
		var strUrl = application.gv_host + "hsco/cmm/download/viewImage.do";
		var params = "?FILE_SN=" + fileSn + "&FILE_ORDR=" + fileOrder;
		this.img_photo.set_image(strUrl + params);
	}
}

this.btn_gridAdd_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var masterRow = this.ds_rentProgrmManageList.rowposition;
	var deptCode = this.ds_rentProgrmManageList.getColumn(masterRow, "DEPT_CODE");
	var progrmSn = this.ds_rentProgrmManageList.getColumn(masterRow, "PROGRM_SN");
	
	var detailRow = this.ds_useChrgeManageList.addRow();
	this.ds_useChrgeManageList.setColumn(detailRow, "DEPT_CODE", deptCode);
	this.ds_useChrgeManageList.setColumn(detailRow, "PROGRM_SN", progrmSn);
}

this.btn_gridDel_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if (this.gfn_message("confirm.삭제여부")) {
	
        if(this.ds_useChrgeManageList.getRowCount() > 0) {
			var cRow = this.ds_useChrgeManageList.rowposition;
			this.ds_useChrgeManageList.deleteRow(cRow);
		}
    }
}


this.div_tncrsDaywek_chk_daywek_onchanged = function(obj:CheckBox, e:nexacro.CheckBoxChangeEventInfo)
{
	var cRow = this.ds_rentProgrmManageList.rowposition;
	var tncrsDaywek = this.ds_rentProgrmManageList.getColumn(cRow, "TNCRS_DAYWEK");
	var tncrsDaywekArr = !this.comUtils.isNull(tncrsDaywek) ? tncrsDaywek.split("-") : [];
	var new_tncrsDaywek = [];
	
	if(this.comUtils.isNull(this.ds_rentProgrmManageList.getColumn(cRow, "TNCRS_DAYWEK"))) {
		tncrsDaywek = "";
	}
		
	// 체크
 	if(obj.value != "0") {
 		if(tncrsDaywek.indexOf(obj.value) == -1) {
 			tncrsDaywekArr.push(obj.value);
 			tncrsDaywekArr.sort();
 		}
 	// 체크해제
 	}else {
		for(var i = 0; i < tncrsDaywekArr.length; i++) {
			if(tncrsDaywekArr[i] == obj.truevalue) {
				tncrsDaywekArr.splice(i, 1);
				break;
			}
 		}	
 	}
	new_tncrsDaywek = (tncrsDaywekArr.toString()).replace(/[,]/g, "-");
	this.ds_rentProgrmManageList.setColumn(cRow, "TNCRS_DAYWEK", new_tncrsDaywek);
}

this.fn_setCheckboxVal = function() {

	// 강습요일 체크박스 초기화
	this.div_tncrsDaywek.chk_daywek1.set_value(0);
	this.div_tncrsDaywek.chk_daywek2.set_value(0);
	this.div_tncrsDaywek.chk_daywek3.set_value(0);
	this.div_tncrsDaywek.chk_daywek4.set_value(0);
	this.div_tncrsDaywek.chk_daywek5.set_value(0);
	this.div_tncrsDaywek.chk_daywek6.set_value(0);
	this.div_tncrsDaywek.chk_daywek7.set_value(0);
	
	var cRow = this.ds_rentProgrmManageList.rowposition;
	var tncrsDaywek = !this.comUtils.isNull(this.ds_rentProgrmManageList.getColumn(cRow, "TNCRS_DAYWEK")) ? this.ds_rentProgrmManageList.getColumn(cRow, "TNCRS_DAYWEK") : "";
			
	for(var i = 1; i < 8; i++) {
		if(tncrsDaywek.indexOf(i) > -1) {
			// 동적으로 오브젝트 생성
			eval("this.div_tncrsDaywek.chk_daywek"+i+".set_value("+i+")");
		}
	}
}



this.fn_getTransDaywek = function(tncrsDaywek, s_csv) {

	var daywek = ['일', '월', '화', '수', '목', '금', '토'];
	var new_tncrsDaywek = "";	
	var csv = !this.comUtils.isNull(s_csv) ? s_csv : "";
	
	if(!this.comUtils.isNull(tncrsDaywek)) {
		var tncrsDaywekArr = tncrsDaywek.split("-");

		for(var j = 0; j < tncrsDaywekArr.length; j++) {

			if(j > 0) {
				new_tncrsDaywek += csv
			}	
			
			new_tncrsDaywek += daywek[tncrsDaywekArr[j]-1];
			
		}
	}
		
	return new_tncrsDaywek;
}


/*
 * 함수명		: ds_rentProgrmManageList_onrowsetchanged
 * 설명			: 프로그램관리목록 데이터셋 행 갯수 변경시 발생
 * params		: obj:Dataset, e:nexacro.DSRowsetChangeEventInfo
 * return Type	: None
 * 사용법		: this.ds_rentProgrmManageList_onrowsetchanged(obj:Dataset, e:nexacro.DSRowsetChangeEventInfo)
 */
this.ds_rentProgrmManageList_onrowsetchanged = function(obj:Dataset, e:nexacro.DSRowsetChangeEventInfo)
{  
	this.fn_setObjectProperty();
}

this.fn_setObjectProperty = function() {
		
	// 행 갯수에 따라서
	var result = (this.ds_rentProgrmManageList.getRowCount() > 0) ? true : false;
			
	// 파일업로드 버튼
	this.btn_fileUpload.set_enable(result);
	this.btn_fileDelete.set_enable(result); 
	 
	// 강습요일 체크박스
	this.div_tncrsDaywek.chk_daywek1.set_readonly(!result);
	this.div_tncrsDaywek.chk_daywek2.set_readonly(!result);
	this.div_tncrsDaywek.chk_daywek3.set_readonly(!result);
	this.div_tncrsDaywek.chk_daywek4.set_readonly(!result);
	this.div_tncrsDaywek.chk_daywek5.set_readonly(!result);
	this.div_tncrsDaywek.chk_daywek6.set_readonly(!result);
	this.div_tncrsDaywek.chk_daywek7.set_readonly(!result);
		
	// 수강대상 및 요금 행추가/삭제 버튼
	this.btn_gridAdd.set_enable(result);
	this.btn_gridDel.set_enable(result);
	
	// 배정강사 팝업 버튼
	this.btn_instrctrSearch.set_enable(result);

}


/*
 * 함수명  	: ds_rentProgrmManageList_canrowposchange
 * 설명 		: 대관(프로그램) 목록 행 변경시 발생
 * params  		: None
 * return Type 	: None
 * 사용법		: this.ds_rentProgrmManageList_canrowposchange(obj,e);
 */
this.ds_rentProgrmManageList_canrowposchange = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	if(Ex.util.isUpdated(this.ds_useChrgeManageList)) {
	    if (!this.gfn_message("confirm.변경.취소.여부")) {
	        return false;
		}else {
			this.ds_useChrgeManageList.reset();
			this.ds_useChrgeManageList.applyChange();
		}
	}
}
this.ds_cond_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	if(e.columnid == "DEPT_CODE") {
		this.fn_transaction("selectProgrmList");
	}
	
	if(e.columnid == "PROGRM_CODE") {
		if(!this.comUtils.isNull(e.columnid)) {
			obj.setColumn(0, "PROGRM_CODE_NM", "");
		}
	}
}

]]></Script>
  </Form>
</FDL>
