<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="HPM050201" classname="HPM050201" left="0" top="0" width="1059" height="737" titletext="팝업정보관리" oninit="HPM050201_oninit" onload="HPM050201_onload">
    <Layouts>
      <Layout>
        <Static id="Static00" taborder="1" text="15" visible="false" left="1031" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static01" taborder="2" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;"/>
        <Static id="Static08" taborder="4" text="10" visible="false" left="0" top="0" height="10" style="background:#dc143c3c;align:center middle;" right="28"/>
        <Static id="sta_title01" taborder="5" text="팝업정보관리" cssclass="sta_WF_Title02" left="0" top="10" width="151" height="21"/>
        <Static id="Static04" taborder="6" text="5" onclick="Tab00_tabpage5_Static02_onclick" visible="false" left="0" top="31" height="5" style="background:#dc143c3c;align:center middle;" right="28"/>
        <Static id="Static02" taborder="7" text="5" onclick="Tab00_tabpage5_Static02_onclick" visible="false" left="0" top="195" height="5" style="background:#dc143c3c;align:center middle;" right="28"/>
        <Static id="sta_title02" taborder="8" text="팝업목록" cssclass="sta_WF_Title02" left="0" top="206" width="151" height="21"/>
        <Static id="Static13" taborder="9" text="10" visible="false" left="0" top="227" height="10" style="background:#dc143c3c;align:center middle;" right="28"/>
        <Div id="div_info" taborder="10" left="0" top="36" height="159" style="border:1 solid #808080ff ;" right="28">
          <Layouts>
            <Layout width="1024" height="653">
              <Static id="Static08" taborder="44" cssclass="sta_WF_Labelbg" left="0" top="0" width="553" height="27"/>
              <Static id="Static05" taborder="42" cssclass="sta_WF_Labelbg" left="550" top="130" right="1" height="27"/>
              <Static id="Static06" taborder="30" cssclass="sta_WF_Labelbg" top="0" height="105" onclick="div_info_Static06_onclick" right="0" left="564"/>
              <Static id="Static04" taborder="23" cssclass="sta_WF_Labelbg" left="550" top="104" height="27" right="1"/>
              <Static id="Static03" taborder="0" cssclass="sta_WF_Labelbg" position="fixed" left="-1" top="26" width="0.1%" height="3"/>
              <Static id="Static02" taborder="1" cssclass="sta_WF_Labelbg" left="-1" top="104" width="554" height="27"/>
              <Static id="Static01" taborder="2" cssclass="sta_WF_Labelbg" left="-1" top="78" width="554" height="27"/>
              <Static id="Static00" taborder="3" cssclass="sta_WF_Labelbg" left="-1" top="52" width="554" height="27"/>
              <Static id="Static11" taborder="4" cssclass="sta_WF_Labelbg" left="0" top="26" width="553" height="27"/>
              <Static id="sta_NM001" taborder="5" text="시작일시" cssclass="sta_WF_Label" top="26" height="27" left="0" width="100"/>
              <Static id="sta_NM003" taborder="6" text="가로사이즈" cssclass="sta_WF_Label" left="0" top="52" height="27" width="100"/>
              <Static id="sta_NM15" taborder="7" cssclass="sta_WF_Label" left="0" top="78" height="27" text="가로위치" width="100"/>
              <Static id="sta_NM16" taborder="8" text="제목" cssclass="sta_WF_Label" left="0" top="0" height="27" width="100"/>
              <Static id="sta_NM17" taborder="10" text="이미지" cssclass="sta_WF_Label" left="552" top="0" height="105" width="100"/>
              <Edit id="edt_bbsId00" taborder="16" readonly="false" left="102" top="3" height="21" width="448" cssclass="edt_WF_Essential" lengthunit="utf8" maxlength="750"/>
              <Static id="sta_NM00" taborder="21" text="세로위치" cssclass="sta_WF_Label" left="276" top="78" height="27" width="100"/>
              <Edit id="edt_imgUrl" taborder="18" readonly="false" left="654" top="107" height="21" right="3" lengthunit="utf8" maxlength="750"/>
              <Static id="sta_NM01" taborder="22" text="이미지&#13;&#10;링크URL" cssclass="sta_WF_Label" left="552" top="104" height="27" width="100"/>
              <Calendar id="Calendar00" taborder="26" left="0" top="27" width="0" height="0"/>
              <Static id="sta_NM002" taborder="27" text="종료일시" cssclass="sta_WF_Label" left="276" top="26" height="27" width="100"/>
              <Calendar id="calEnd" taborder="11" left="378" top="29" height="21" width="110" dateformat="yyyy-MM-dd" value="null" readonly="false" cssclass="cal_WF_Essential"/>
              <Static id="sta_NM004" taborder="28" text="세로사이즈" cssclass="sta_WF_Label" left="276" top="52" height="27" width="100"/>
              <Static id="sta_NM05" taborder="29" text="사용여부" cssclass="sta_WF_Label" left="276" top="104" height="27" width="100"/>
              <Radio id="rdo_USE_ENNC" taborder="17" index="0" innerdataset="@ds_use_ennc" codecolumn="CD" datacolumn="CD_NM" value="1" direction="vertical" left="381" top="109" width="169" height="21" style="align:left;" cssclass="rdo_WF_Essential"/>
              <Calendar id="calBgn" taborder="9" left="102" top="29" width="110" height="21" dateformat="yyyy-MM-dd" value="null" oneditclick="div_info_calBgn_oneditclick" editformat="yyyy-MM-dd" readonly="false" cssclass="cal_WF_Essential"/>
              <Button id="btn_uploadFiles" taborder="32" text="파일업로드" onclick="btn_uploadFiles_onclick" cssclass="btn_WF_Process" top="2" height="19" right="167" width="80"/>
              <Button id="btn_downFiles" taborder="33" text="다운로드" onclick="btn_downFiles_onclick" cssclass="btn_WF_Process" top="2" height="19" right="85" width="80"/>
              <MaskEdit id="shour" taborder="34" left="214" top="29" height="21" maxlength="4" inputtype="number" width="60" imemode="none" mask="##:##" maskchar=" " type="string" style="align:center;" cssclass="msk_WF_Essential"/>
              <MaskEdit id="ehour" taborder="35" left="490" top="29" height="21" maxlength="4" inputtype="number" width="60" mask="##:##" maskchar=" " type="string" style="align:center;" cssclass="msk_WF_Essential"/>
              <Static id="Static07" taborder="36" cssclass="sta_WF_Labelbg" left="-1" top="130" width="555" height="27"/>
              <Static id="sta_NM06" taborder="37" text="순서" cssclass="sta_WF_Label" left="0" top="104" width="100" height="27"/>
              <Static id="sta_NM07" taborder="39" text="팝업종류" cssclass="sta_WF_Label" left="0" top="130" width="100" height="27"/>
              <Radio id="rdo_USE_ENNC00" taborder="40" codecolumn="CODE" datacolumn="CODE_NM" value="1" direction="vertical" left="105" top="135" width="169" height="21" style="align:left;" cssclass="rdo_WF_Essential" innerdataset="@ds_bannerType"/>
              <Static id="sta_NM08" taborder="41" text="텍스트" cssclass="sta_WF_Label" left="552" top="130" width="100" height="27"/>
              <Button id="btn_textEdit" taborder="43" text="텍스트 편집" cssclass="btn_WF_Process" left="654" top="134" width="69" height="19" onclick="div_info_btn_textEdit_onclick"/>
              <Button id="btn_deleteFile" taborder="45" text="파일삭제" onclick="btn_delFiles_onclick" cssclass="btn_WF_Process" top="2" right="3" width="80" height="19" visible="true"/>
              <MaskEdit id="MaskEdit00" taborder="46" left="102" top="55" width="150" height="21" mask="#,##0" limitbymask="both"/>
              <Static id="Static09" taborder="48" text="px" left="256" top="54" width="17" height="21"/>
              <Static id="Static10" taborder="49" text="px" left="532" top="54" width="17" height="21"/>
              <MaskEdit id="MaskEdit02" taborder="50" left="378" top="55" width="150" height="21" mask="#,##0" limitbymask="both"/>
              <Static id="Static12" taborder="51" text="px" left="532" top="80" width="17" height="21"/>
              <MaskEdit id="MaskEdit03" taborder="52" left="378" top="81" width="150" height="21" mask="#,##0" limitbymask="both"/>
              <Grid id="grd_fileList" taborder="53" binddataset="ds_fileList" useinputpanel="false" autofittype="col" onheadclick="div_info_grd_fileList_onheadclick" left="654" top="23" right="2" height="79">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="242"/>
                      <Column size="125"/>
                      <Column size="119"/>
                      <Column size="108"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="32"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="파일명"/>
                      <Cell col="1" text="파일형식"/>
                      <Cell col="2" text="확장자"/>
                      <Cell col="3" text="사이즈"/>
                    </Band>
                    <Band id="body">
                      <Cell style="align:left;" text="bind:ORGINL_FILE_NM"/>
                      <Cell col="1" displaytype="image" text="bind:FILE_IMAGE"/>
                      <Cell col="2" text="bind:FILE_EXTSN"/>
                      <Cell col="3" text="bind:FILE_MG"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Grid id="grd_bannerList" taborder="11" binddataset="ds_bannerList" useinputpanel="false" autofittype="col" left="0" top="237" bottom="1" right="28" onheadclick="grd_bannerList_onheadclick" cellsizingtype="col" oncellclick="grd_bannerList_oncellclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40" band="left"/>
                <Column size="177"/>
                <Column size="62"/>
                <Column size="69"/>
                <Column size="100"/>
                <Column size="58"/>
                <Column size="100"/>
                <Column size="60"/>
                <Column size="100"/>
                <Column size="66"/>
                <Column size="55"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="번호"/>
                <Cell col="1" text="제목"/>
                <Cell col="2" text="팝업순서"/>
                <Cell col="3" text="사용여부"/>
                <Cell col="4" colspan="2" text="시작일시"/>
                <Cell col="6" colspan="2" text="종료일시"/>
                <Cell col="8" text="등록일자"/>
                <Cell col="9" text="팝업종류"/>
                <Cell col="10" text="미리보기"/>
              </Band>
              <Band id="body">
                <Cell expr="expr:currow + 1"/>
                <Cell col="1" displaytype="normal" edittype="none" style="align:left;" text="bind:BANNER_SJ"/>
                <Cell col="2" text="bind:ORDER_SEQ"/>
                <Cell col="3" displaytype="checkbox" text="bind:USE_AT"/>
                <Cell col="4" displaytype="date" text="bind:APPLC_BGNDE" calendardisplaynulltype="none"/>
                <Cell col="5" text="bind:APPLC_BGNTM" mask="##:##" maskchar=" "/>
                <Cell col="6" displaytype="date" text="bind:APPLC_ENDDE" calendardisplaynulltype="none"/>
                <Cell col="7" text="bind:APPLC_ENDTM" mask="##:##" maskchar=" "/>
                <Cell col="8" displaytype="date" text="bind:REGIST_DT" calendardisplaynulltype="none"/>
                <Cell col="9" displaytype="combo" text="bind:BANNER_TYPE" combodataset="ds_bannerType" combocodecol="CODE" combodatacol="CODE_NM"/>
                <Cell col="10" displaytype="image" text="theme://images/btn_WF_Search.png"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static10" taborder="13" text="px" left="257" top="117" width="17" height="21"/>
        <MaskEdit id="MaskEdit02" taborder="14" left="103" top="118" width="150" height="21" mask="#,##0" limitbymask="both"/>
        <MaskEdit id="MaskEdit00" taborder="15" mask="#,##0" limitbymask="both" left="103" top="144" width="172" height="21"/>
      </Layout>
    </Layouts>
    <Bind>
      <BindItem id="item0" compid="Div00.div_info.spn_acntYear" propid="value" datasetid="ds_hpmWebzin" columnid="PBLICTE_YEAR"/>
      <BindItem id="item5" compid="Div00.div_info.cmb_month" propid="value" datasetid="ds_hpmWebzin" columnid="PBLICTE_MONTH"/>
      <BindItem id="item1" compid="Div00.div_info.chk_inadqcEntrpsAt01" propid="value" datasetid="ds_hpmWebzin" columnid="USE_AT"/>
      <BindItem id="item2" compid="Div00.div_info.edt_bbsId" propid="value" datasetid="ds_hpmWebzin" columnid="WEBZIN_SJ"/>
      <BindItem id="item3" compid="Div00.div_info.edt_bbsId00" propid="value" datasetid="ds_hpmWebzin" columnid="PDF_URL"/>
      <BindItem id="item25" compid="div_info.rdo_USE_ENNC" propid="value" datasetid="ds_bannerList" columnid="USE_AT"/>
      <BindItem id="item4" compid="div_info.calBgn" propid="value" datasetid="ds_bannerList" columnid="APPLC_BGNDE"/>
      <BindItem id="item6" compid="div_info.calEnd" propid="value" datasetid="ds_bannerList" columnid="APPLC_ENDDE"/>
      <BindItem id="item11" compid="div_info.edt_bbsId00" propid="value" datasetid="ds_bannerList" columnid="BANNER_SJ"/>
      <BindItem id="item12" compid="div_info.edt_imgUrl" propid="value" datasetid="ds_bannerList" columnid="BANNER_IMG_URL"/>
      <BindItem id="item14" compid="div_info.shour" propid="value" datasetid="ds_bannerList" columnid="APPLC_BGNTM"/>
      <BindItem id="item15" compid="div_info.ehour" propid="value" datasetid="ds_bannerList" columnid="APPLC_ENDTM"/>
      <BindItem id="item13" compid="div_info.rdo_USE_ENNC00" propid="value" datasetid="ds_bannerList" columnid="BANNER_TYPE"/>
      <BindItem id="item7" compid="div_info.MaskEdit00" propid="value" datasetid="ds_bannerList" columnid="WIDTH_SIZE"/>
      <BindItem id="item8" compid="div_info.MaskEdit02" propid="value" datasetid="ds_bannerList" columnid="VRTICL_SIZE"/>
      <BindItem id="item9" compid="div_info.MaskEdit03" propid="value" datasetid="ds_bannerList" columnid="VRTICL_LC"/>
      <BindItem id="item10" compid="MaskEdit02" propid="value" datasetid="ds_bannerList" columnid="WIDTH_LC"/>
      <BindItem id="item16" compid="MaskEdit00" propid="value" datasetid="ds_bannerList" columnid="ORDER_SEQ"/>
    </Bind>
    <Objects>
      <Dataset id="ds_cond" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="PBLANC_NO" type="STRING" size="256"/>
          <Column id="APPLC_BGNDE1" type="STRING" size="256"/>
          <Column id="APPLC_BGNDE2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">ds_bannerList</Col>
            <Col id="colId">BANNER_SJ</Col>
            <Col id="PK"/>
            <Col id="notNull">Y</Col>
            <Col id="msgId">제목</Col>
          </Row>
          <Row>
            <Col id="colId">APPLC_BGNDE</Col>
            <Col id="compId">ds_bannerList</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">시작일자</Col>
          </Row>
          <Row>
            <Col id="colId">APPLC_ENDDE</Col>
            <Col id="compId">ds_bannerList</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">종료일자</Col>
          </Row>
          <Row>
            <Col id="colId">USE_AT</Col>
            <Col id="compId">ds_bannerList</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">사용여부</Col>
          </Row>
          <Row>
            <Col id="colId">BANNER_TYPE</Col>
            <Col id="compId">ds_bannerList</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">팝업종류</Col>
          </Row>
          <Row>
            <Col id="colId">APPLC_BGNTM</Col>
            <Col id="compId">ds_bannerList</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">시작일시</Col>
          </Row>
          <Row>
            <Col id="colId">APPLC_ENDTM</Col>
            <Col id="compId">ds_bannerList</Col>
            <Col id="notNull">Y</Col>
            <Col id="msgId">종료일시</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_condDtl" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="BANNER_ID" type="STRING" size="256"/>
          <Column id="BANNER_TYPE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_use_ennc" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CD" type="STRING" size="256"/>
          <Column id="CD_NM" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD">1</Col>
            <Col id="CD_NM">사용</Col>
          </Row>
          <Row>
            <Col id="CD">0</Col>
            <Col id="CD_NM">미사용</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_bannerList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_bannerList_onrowposchanged" oncolumnchanged="ds_bannerList_oncolumnchanged">
        <ColumnInfo>
          <Column id="BANNER_ID" type="STRING" size="256"/>
          <Column id="BANNER_SJ" type="STRING" size="256"/>
          <Column id="BANNER_CN" type="STRING" size="256"/>
          <Column id="BANNER_URL" type="STRING" size="256"/>
          <Column id="TMPLAT_ID" type="STRING" size="256"/>
          <Column id="FILE_SN" type="STRING" size="256"/>
          <Column id="WIDTH_SIZE" type="STRING" size="256"/>
          <Column id="VRTICL_SIZE" type="STRING" size="256"/>
          <Column id="WIDTH_LC" type="STRING" size="256"/>
          <Column id="VRTICL_LC" type="STRING" size="256"/>
          <Column id="APPLC_BGNDE" type="STRING" size="256"/>
          <Column id="APPLC_ENDDE" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="INNER_SANCTN_ID" type="STRING" size="256"/>
          <Column id="CONFM_AT" type="STRING" size="256"/>
          <Column id="APPLC_AT" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="BANNER_TYPE" type="STRING" size="256"/>
          <Column id="IN_SANCTNSTS_IMG" type="STRING" size="256"/>
          <Column id="LAST_SANCTN_STTUS" type="STRING" size="256"/>
          <Column id="APPLC_BGNTM" type="STRING" size="256"/>
          <Column id="APPLC_ENDTM" type="STRING" size="256"/>
          <Column id="BANNER_IMG_URL" type="STRING" size="4000"/>
          <Column id="ORDER_SEQ" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fileList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="PROGRS" type="BIGDECIMAL" size="16"/>
          <Column id="ORGINL_FILE_NM" type="string" size="256"/>
          <Column id="FILE_EXTSN" type="string" size="32"/>
          <Column id="FILE_STRE_COURS" type="string" size="32"/>
          <Column id="FILE_ID" type="string" size="256"/>
          <Column id="SN" type="bigdecimal" size="16"/>
          <Column id="SYS_SE_CODE" type="string" size="32"/>
          <Column id="FILE_IMAGE" type="string" size="256"/>
          <Column id="FILE_TY" type="string" size="32"/>
          <Column id="JOB_SE" type="string" size="32"/>
          <Column id="DELETE_IMAGE" type="string" size="256"/>
          <Column id="STRE_FILE_NM" type="string" size="256"/>
          <Column id="FILE_MG" type="bigdecimal" size="16"/>
          <Column id="FILE_CN" type="string" size="256"/>
          <Column id="FILE_ORDR" type="bigdecimal" size="16"/>
          <Column id="TRNSMIS_FILE_SIZE" type="string" size="32"/>
          <Column id="USE_AT" type="string" size="32"/>
          <Column id="STTUS" type="string" size="32"/>
          <Column id="FILE_SN" type="bigdecimal" size="16"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond_fileSn" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="FILE_SN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_recomInfo" useclientlayout="true">
        <ColumnInfo>
          <Column id="INNER_SANCTN_ID" type="STRING" size="16"/>
          <Column id="INNER_SANCTN_MDL_ID" type="STRING" size="10"/>
          <Column id="SYS_SE_CODE" type="STRING" size="256"/>
          <Column id="JOB_SE" type="STRING" size="256"/>
          <Column id="LAST_SANCTN_STEP" type="STRING" size="256"/>
          <Column id="SANCTN_STEP" type="STRING" size="256"/>
          <Column id="LAST_SANCTNER_ID" type="STRING" size="256"/>
          <Column id="LAST_SANCTN_DT" type="STRING" size="256"/>
          <Column id="JOB_KEY" type="STRING" size="256"/>
          <Column id="LAST_SANCTN_STTUS" type="STRING" size="256"/>
          <Column id="BANNER_ID" type="STRING" size="256"/>
          <Column id="BANNER_TYPE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_cond02" useclientlayout="true">
        <ColumnInfo>
          <Column id="BANNER_ID" type="STRING" size="256"/>
          <Column id="BANNER_TYPE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ubiDataset" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="BANNER_ID" type="STRING" size="256"/>
          <Column id="BANNER_SJ" type="STRING" size="256"/>
          <Column id="BANNER_CN" type="STRING" size="256"/>
          <Column id="BANNER_URL" type="STRING" size="256"/>
          <Column id="USE_AT" type="STRING" size="256"/>
          <Column id="INNER_SANCTN_ID" type="STRING" size="256"/>
          <Column id="SANCTN_STTUS" type="STRING" size="256"/>
          <Column id="REGISTER_ID" type="STRING" size="256"/>
          <Column id="REGIST_DT" type="STRING" size="256"/>
          <Column id="REGISTER_NM" type="STRING" size="256"/>
          <Column id="S1_SANCTNER_NM" type="STRING" size="256"/>
          <Column id="S2_SANCTNER_NM" type="STRING" size="256"/>
          <Column id="S3_SANCTNER_NM" type="STRING" size="256"/>
          <Column id="S4_SANCTNER_NM" type="STRING" size="256"/>
          <Column id="S5_SANCTNER_NM" type="STRING" size="256"/>
          <Column id="S6_SANCTNER_NM" type="STRING" size="256"/>
          <Column id="S1_SANCTN_DT" type="STRING" size="256"/>
          <Column id="S2_SANCTN_DT" type="STRING" size="256"/>
          <Column id="S3_SANCTN_DT" type="STRING" size="256"/>
          <Column id="S4_SANCTN_DT" type="STRING" size="256"/>
          <Column id="S5_SANCTN_DT" type="STRING" size="256"/>
          <Column id="S6_SANCTN_DT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sanctnSttus">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="gds_apprline" useclientlayout="true">
        <ColumnInfo>
          <Column id="APPRLINE_COL1" type="STRING" size="256"/>
          <Column id="APPRLINE_COL2" type="STRING" size="256"/>
          <Column id="APPRLINE_COL3" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_fileList00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CHK" type="STRING" size="256"/>
          <Column id="PROGRS" type="BIGDECIMAL" size="16"/>
          <Column id="ORGINL_FILE_NM" type="string" size="256"/>
          <Column id="FILE_EXTSN" type="string" size="32"/>
          <Column id="FILE_STRE_COURS" type="string" size="256"/>
          <Column id="FILE_ID" type="string" size="256"/>
          <Column id="SN" type="bigdecimal" size="16"/>
          <Column id="SYS_SE_CODE" type="string" size="32"/>
          <Column id="FILE_IMAGE" type="string" size="32"/>
          <Column id="FILE_TY" type="string" size="32"/>
          <Column id="JOB_SE" type="string" size="32"/>
          <Column id="DELETE_IMAGE" type="string" size="32"/>
          <Column id="STRE_FILE_NM" type="string" size="256"/>
          <Column id="FILE_MG" type="bigdecimal" size="16"/>
          <Column id="FILE_CN" type="string" size="256"/>
          <Column id="FILE_ORDR" type="bigdecimal" size="16"/>
          <Column id="TRNSMIS_FILE_SIZE" type="string" size="32"/>
          <Column id="USE_AT" type="string" size="32"/>
          <Column id="STTUS" type="string" size="32"/>
          <Column id="FILE_SN" type="bigdecimal" size="16"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bannerType">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">001</Col>
            <Col id="CODE_NM">이미지</Col>
          </Row>
          <Row>
            <Col id="CODE">002</Col>
            <Col id="CODE_NM">텍스트</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   : HPM050201
 * 화면명   : 팝업정보관리
 * 화면설명 : 배너정보 등록/수정/삭제
 * 작성일   : 2016.04.26
 * 작성자   : 박병일
 * 수정이력 :
 ***********************************************************************
 *     수정일     수정자   내용 
 ***********************************************************************
 *
 ***********************************************************************
 */
 

/***********************************************************************
 * Script Include
 ***********************************************************************/
include "lib::comInclude.xjs";
include "mis_lib::misUtil.xjs";
include "lib::comUpDownUtils.xjs";
include "lib::comInnerSanct.xjs";
 
/***********************************************************************
 * 화면 변수 선언부
 ***********************************************************************/
this.nRowPos = 0;   
this.File_UpDownManager = null;

 /***********************************************************************
 * 메뉴 변수 선언부
 ************************************************************************/
 
/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.HPM050201_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_misFormInit(this);	
	this.fn_init_dataset();
}

this.HPM050201_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
    this.fn_init_form();
	// Combo에 사용되는 Dataset Load
	this.fn_loadCombo();
	// 검색조건 컴포넌트 초기값 부여
}

//----------------------------------
// Form/Dataset 오브젝트 초기화
//----------------------------------
this.fn_init_form = function()
{
	this.gfn_initForm(this);
	//조회일자(기간) OBJ
	this.fn_search();
	
}

//--------------------------
// Dataset을 초기화한다. 
//--------------------------
this.fn_init_dataset = function()
{
	// 조건에 사용되는 Dataset 초기화
	//this.gfn_initCondDs(this, this.div_search);
	
	// 파일 메니저 설정
	var fileConfig = {
		useMultiUpload : false,
		onChange: this.fn_onFileSelected,	// 파일 선택 이벤트 핸들러
		onSuccess : this.fn_onFileSuccess	// 전송 성공 이벤트 핸들러
	};
	this.File_UpDownManager = new this.fileUpDownManager(this, "HPM", "CTM");
	this.File_UpDownManager.init(fileConfig);		
}

//--------------------------------------
// 화면의 Combo 에 데이터를 불러온다.
//--------------------------------------
 this.fn_loadCombo = function ()
{

}


//--------------------------------------------------------
// 화면의 Combo 에 데이터를 불러온다. (Non-공통코드)
//--------------------------------------------------------
this.fn_loadComboNonCodeTbl = function (strDs, obj)
{

}

this.fn_callbackAfter = function (svcId)
{

}
 
/***********************************************************************
* Transaction 영역 시작
************************************************************************/

/***********************************************************************
 * Transaction 관련 이벤트 핸들러
 **********************************************************************/

//-------
// 조회
//------- 
this.fn_search = function()
{
	if(Ex.util.isUpdated(this.ds_bannerList)) {
        if(!this.gfn_message("confirm.변경.취소.여부")) {
            return false;    // 아니오
        }
    }
    
    this.ds_fileList.clearData();
    this.ds_bannerList.clearData();
    this.ds_condDtl.clearData();
    this.ds_condDtl.addRow();
	this.fn_transaction("selectBannerList");
}

//------- 
// 저장
//------- 
this.fn_save = function()
{	 
		if(!this.gfn_checkValidation_NoUpdChk(this.ds_bannerList, this.ds_validation)) {
			return;
		} 

        //저장여부체크     
		if(this.gfn_message("confirm.저장.여부"))	{
		    nRowPos = this.ds_bannerList.rowposition;
		    var nRow = this.ds_fileList.rowposition;
		    		   
	        var fileName  = this.ds_fileList.getColumn(0, "STRE_FILE_NM");
	        var fileExtsn  = this.ds_fileList.getColumn(0, "FILE_EXTSN");
	    		    
		    this.ds_bannerList.setColumn(nRowPos,"FILE_SN",this.ds_fileList.getColumn(nRow, "FILE_SN"));
			this.fn_transaction("mainCUD");
		}
}     
   
//-----------------
// 첨부파일 조회  
//-----------------
this.fn_search_fileList = function()
{
	var cRow   = this.ds_bannerList.rowposition;
	var fileSn = this.ds_bannerList.getColumn(cRow, "FILE_SN");	
	this.ds_cond_fileSn.clearData();
	var nRow = this.ds_cond_fileSn.addRow();	
	this.ds_cond_fileSn.setColumn(nRow, "FILE_SN", fileSn);	

	this.ds_fileList.clearData();
	this.fn_transaction("selectAtchFile");
}

//-----------------
// 첨부파일 조회(첨부파일)
//-----------------
this.fn_etcSearch_fileList = function()
{
	var cRow   = this.ds_bannerList.rowposition;
	var fileSn_pdf = this.ds_bannerList.getColumn(cRow, "FILE_SN_PDF");
	this.ds_cond_fileSnEtc.clearData();
	var nRow = this.ds_cond_fileSnEtc.addRow();
    this.ds_cond_fileSnEtc.setColumn(nRow, "FILE_SN", fileSn_pdf);
    
	this.ds_fileList00.clearData();
	this.fn_transaction("selectAtchFileEtc"); 
}
/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/

/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId)
{
	switch (strSvcId) {
	 
		case "selectBannerList": // List 불러오기
			var sController   	= "hsco/hpm/ctm/HPM050201/selectPopupList.do";
			var sInDatasets   	= "input1=ds_condDtl";
			var sOutDatasets  	= "ds_bannerList=output1";
			break;	
		case "selectPopup": // List 불러오기
			var sController   	= "hsco/hpm/ctm/HPM050201/selectPopup.do";
			var sInDatasets   	= "input1=ds_condDtl";
			var sOutDatasets  	= "ds_bannerList=output1";
			break;				 
		case "mainCUD": // 저장
			var sController   	= "hsco/hpm/ctm/HPM050201/mainCUD.do";
			var sInDatasets   	= "input1=ds_bannerList:U";
			var sOutDatasets  	= "";
			break;
						
		case "selectAtchFile": //첨부파일조회
			var sController  = "/hsco/cmm/file/selectAtchmnFileList.do";
			var sInDatasets  = "input1=ds_cond_fileSn";
			var sOutDatasets = "ds_fileList=output1";
			break;
			
		case "selectAtchFileEtc": //첨부파일조회
			var sController  = "/hsco/cmm/file/selectAtchmnFileList.do";
			var sInDatasets  = "input1=ds_cond_fileSnEtc";
			var sOutDatasets = "ds_fileList00=output1";
     		break; 			
       case "deleteFile":  // 오입력된 파일 정보 삭제
			var sController     = "hsco/cmm/file/deleteFile.do";
			var sInDatasets     = "input1=ds_fileList:U";
			var sOutDatasets    = "ds_fileList=output1";
					
       case "deleteFileEtc":  // 오입력된 첨부파일 정보 삭제
			var sController     = "hsco/cmm/file/deleteFile.do";
			var sInDatasets     = "input1=ds_fileList:U";
			var sOutDatasets    = "ds_fileList00=output1";
	}

	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets);
}

 /**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/

 /*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		:
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	if(nErrorCode != '0') {
		this.gfn_callback_message(strSvcId, nErrorCode, strErrorMsg);
	} else {
		switch (strSvcId) {
		
			case "selectBannerList": // List 불러오기			
				this.ds_bannerList.set_rowposition(nRowPos);
				nRowPos = 0;							
				break;		
		
			case "mainCUD": // 저장
				this.gfn_message("success.처리.성공");
				this.fn_search();	
					
			case "selectAtchFile":
			    this.fn_fileExtChk();// 파일 업로드 확장자 체크 추가
				break;													
            case "deleteFileEtc": // 삭제
                trace("this.ds_bannerList.rowposition:"+this.ds_bannerList.rowposition);
                
                this.ds_bannerList.setColumn(this.ds_bannerList.rowposition,"BANNER_URL","");
                //this.ds_bannerList.setColumn(nRowPos,"BANNER_URL",fileUrl);
                break;

		}
	}
}

/***********************************************************************
* Transaction 영역 끝
************************************************************************/

/***********************************************************************
 * non-Transaction 관련 컴포넌트 이벤트 처리 함수
 ***********************************************************************/ 
//---------
// 신규
//---------
this.fn_insert = function()  
{
	var nRowPos = this.ds_bannerList.addRow();
	var today = this.comUtils.getClientDate("YYYYMMDD");
	
	this.ds_bannerList.setColumn(nRowPos, "APPLC_BGNDE", today);
	this.ds_bannerList.setColumn(nRowPos, "APPLC_BGNTM", "0000");
	this.ds_bannerList.setColumn(nRowPos, "APPLC_ENDDE", today);
	this.ds_bannerList.setColumn(nRowPos, "APPLC_ENDTM", "2359");	
	this.ds_bannerList.setColumn(nRowPos, "WIDTH_SIZE","484");//WIDTH값 484으로 고정
	this.ds_bannerList.setColumn(nRowPos, "VRTICL_SIZE","378");//HEIGHT값 378로 고정		    	
	this.ds_bannerList.setColumn(nRowPos, "VRTICL_LC", "0");	
	this.ds_bannerList.setColumn(nRowPos, "WIDTH_LC", "0");	
	this.ds_bannerList.setColumn(nRowPos, "WIDTH_LC", "0");	
	this.ds_bannerList.setColumn(nRowPos, "USE_AT", "1");
}

//--------- 
// 취소
//---------
this.fn_cancel = function()
{
	if (this.gfn_message("confirm.취소여부")) {
		this.ds_bannerList.reset();			//DATASET ROLLBACK
		this.ds_bannerList.applyChange();	//DATASET COMMIT
	}
}

//---------
// 삭제
//---------
this.fn_delete = function()
{	
	var nRow = this.ds_bannerList.rowposition;
	
	if (this.gfn_message("confirm.삭제여부")) {
		this.ds_bannerList.deleteRow(nRow);
		this.fn_search_fileList();
	} 
}
 
//좌측 "0"패딩처리하는 함수
this.fn_prependZero = function(num, len)
{
	while(num.toString().length < len) {
		num = "0" + num;
	}
	return num;
}

//----------------------------------------------------
// Grid Head 클릭 이벤트 처리(Grid 데이터 정렬) 
//----------------------------------------------------
this.grd_bannerList_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
    this.gfn_gridSort(obj, e); // Grid 데이터 정렬
}

//----------------------------------------------
// 선택삭제 버튼 클릭시
//----------------------------------------------
this.btn_delFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var fRow = this.ds_fileList.rowposition;
	
	if(fRow < -1) {
		if(application.confirm("첨부파일을 삭제하시겠습니까?")) {	
			var chkVal = this.ds_fileList.getColumn(fRow, "CHK");
			this.ds_fileList.deleteRow(fRow);

			var strSvcId   	 = "deleteFile"; 
			var sController  = "hsco/cmm/file/deleteFile.do";
			var sInDatasets  = "input1=ds_fileList:U";
			var sOutDatasets = "ds_fileList=output1";
	
			Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets);
		 }
	}
} 


//----------------------------------------------
// 파일업로드 버튼 클릭시
//----------------------------------------------
this.btn_uploadFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{   
	if(this.ds_fileList.rowcount < 1){
	// 첨부파일 업로드(fileSn 자동채번 / 첨부파일 Master에 ROW추가 / 파일 업로드 및 자동저장 / 테이블에 fileSn반영 / 데이터셋에 fileSn반영, 단 신규 ROW가 아닐경우 ROWTYPE은 유지)
		this.fn_autoFileSn(
			 "HPM"						// 대분류   (SYS_SE)
			,"CTM"						// 업무구분 (JOB_SE)
			, this.File_UpDownManager	// fileManager 오브젝트
			, this.ds_fileList		    // fileObject
			, this.ds_bannerList	    // fileSn을 불러오거나 반영해야 하는 컬럼
			, "TBHPM_BANNER_INFO"		// fileSn을 저장할 테이블
			, "FILE_SN"					// fileSn 컬럼명이 다를 경우를 대비
			, ["BANNER_ID"]				// fileSn을 저장할 테이블의 PK (FileSn 확인 및 자동반영목적)
		);
		this.gfn_message("info.저장.초과", "이미지 파일만", null, null, mCallback);
		//this.mCallback();
	} else {
		this.gfn_message("info.저장.초과", "최대 1개 까지만");
	}
}

//----------------------------------------------
// 파일업로드 버튼 클릭시(첨부파일)
//----------------------------------------------
this.btn_uploadFiles00_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{   
	// 첨부파일 업로드(fileSn 자동채번 / 첨부파일 Master에 ROW추가 / 파일 업로드 및 자동저장 / 테이블에 fileSn반영 / 데이터셋에 fileSn반영, 단 신규 ROW가 아닐경우 ROWTYPE은 유지)
	this.fn_autoFileSn(
		 "HPM"						// 대분류   (SYS_SE)
		,"CTM"						// 업무구분 (JOB_SE)
		, this.File_UpDownManager	// fileManager 오브젝트
		, this.ds_fileList00		    // fileObject
		, this.ds_bannerList	    // fileSn을 불러오거나 반영해야 하는 컬럼
		, "TBHPM_BANNER_INFO"		// fileSn을 저장할 테이블
		, "FILE_SN_ETC"					// fileSn 컬럼명이 다를 경우를 대비
		, ["BANNER_ID"]				// fileSn을 저장할 테이블의 PK (FileSn 확인 및 자동반영목적)
	);
} 


//----------------------------------------------
// 선택다운로드 버튼 클릭시
//----------------------------------------------
this.btn_downFiles_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var fRow = this.ds_fileList.rowposition; 
	if(fRow > -1) {
		var fileSn    = this.ds_fileList.getColumn(fRow, "FILE_SN");
		var fileOrder = this.ds_fileList.getColumn(fRow, "FILE_ORDR");
		var fileName  = this.ds_fileList.getColumn(fRow, "ORGINL_FILE_NM");
		var chk       = this.ds_fileList.getColumn(fRow, "CHK");
		this.File_UpDownManager.download(fileSn, fileOrder, fileName);
	}	
}


 /*
 * 함수명  	: btn_fileDelete_onclick
 * 설명 		: 첨부파일 삭제 버튼클릭 시
 * params  		: None
 * return Type 	: None
 * 사용법		: this.btn_fileDelete_onclick();
 */
this.btn_fileDelete_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if(this.ds_fileList.getRowCount() > 0) {
		if(application.confirm("첨부파일을 삭제하시겠습니까?")) {	
			this.ds_fileList.deleteRow(0);
			this.fn_transaction("deleteAtchFile");
		}
	}
}

//----------------------------------------------
// 첨부파일목록 그리드 HEAD 클릭시
//----------------------------------------------
this.div_info_grd_fileList_onheadclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.col == 0){	
		//모든 체크박스 선택
		this.gfn_setGridCheckAll(obj, e);
	}else {
		//선택한 헤드에 따른 정렬
		this.gfn_gridSort(obj, e);
	}
} 
 
//----------------------------- 
// 팝업목록 rowposchanged
//-----------------------------
this.ds_bannerList_onrowposchanged = function(obj:Dataset, e:nexacro.DSRowPosChangeEventInfo)
{
	this.fn_search_fileList();	
	var nRow = this.ds_bannerList.rowposition;
	if(nRow > -1) {
		var type = this.ds_bannerList.getColumn(nRow, "BANNER_TYPE");
		// 팝업종류 -- 이미지, 텍스트
		if(type == "001") {		// 이미지
			// hide
			this.div_info.btn_textEdit.set_enable(false);
			
			// show
			this.div_info.btn_deleteFile.set_enable(true);
			this.div_info.btn_downFiles.set_enable(true);
			this.div_info.btn_uploadFiles.set_enable(true);
			this.div_info.edt_imgUrl.set_enable(true);
			this.div_info.edt_imgUrl.set_readonly(false);
			this.div_info.edt_imgUrl.set_cssclass("");
			
		}else if(type == "002") {		// 텍스트
			// hide
			this.div_info.btn_deleteFile.set_enable(false);
			this.div_info.btn_downFiles.set_enable(false);
			this.div_info.btn_uploadFiles.set_enable(false);
			this.div_info.edt_imgUrl.set_enable(false);
			this.div_info.edt_imgUrl.set_readonly(true);
			this.div_info.edt_imgUrl.set_cssclass("edt_WF_Readnly");
			
			// show
			this.div_info.btn_textEdit.set_enable(true);
		}
	}
}

/***********************************************************************
* 사용자 정의 함수
************************************************************************/
//파일 확장자 체크 
this.fn_fileExtChk  = function(){

	var nRow = this.ds_fileList.rowposition;//파일 데이터셋	
	var fileExtsn  = this.ds_fileList.getColumn(nRow, "FILE_EXTSN");//파일 업로드 확장자
	
	if (fileExtsn == "undefined") return;
	if (fileExtsn.toLowerCase() != "jpg"&&fileExtsn.toLowerCase() != "jpeg"&&fileExtsn.toLowerCase() != "gif"&&fileExtsn.toLowerCase() != "png"&&fileExtsn.toLowerCase() != "bmp"){//파일확장자가 pdf 가 아닌 경우 오류 메시지 출력하고, 등록된 이미지 삭제처리
	    this.gfn_message("info.파일.업로드.타입.불가","이미지가 아닌|이미지 파일만 업로드 가능합니다.");
	    this.ds_fileList.deleteRow(nRow);;//잘못 등록된 파일목록에서 삭제
	    this.fn_transaction("deleteFile");//오입력된 파일정보 삭제
	    return; 
	}	
 
	var nRow00 = this.ds_fileList00.rowposition;//pdf 파일 데이터셋	
	var fileExtsn00  = this.ds_fileList00.getColumn(nRow00, "FILE_EXTSN");//pdf 파일 업로드 확장자

	if (fileExtsn00 == "undefined") return;
	//확장자가 asp, php, jsp, aspx, cgi, exe 일 경우 오류처리
	if (fileExtsn.toLowerCase() == "asp"&&fileExtsn.toLowerCase() == "php"&&fileExtsn.toLowerCase() == "jsp"&&fileExtsn.toLowerCase() == "aspx"&&fileExtsn.toLowerCase() == "cgi"&&fileExtsn.toLowerCase() == "exe"){//파일확장자가 pdf 가 아닌 경우 오류 메시지 출력하고, 등록된 이미지 삭제처리
	    this.gfn_message("info.파일.업로드.타입.불가","허용된 파일이 아닌|허용된 파일만 업로드 가능합니다.");
	    this.ds_fileList00.deleteRow(nRow00);//잘못 등록된 파일목록에서 삭제
	    this.fn_transaction("deleteFileEtc");//오입력된 파일정보 삭제 
	    return;
	}	        	    
}

// 텍스트 편집
this.div_info_btn_textEdit_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var nRow = this.ds_bannerList.rowposition;
	var popupId = this.ds_bannerList.getColumn(nRow, "BANNER_ID");

	if(Ex.util.isUpdated(this.ds_bannerList)) {
        if(!this.gfn_message("confirm.변경.취소.여부")) {
            return false;    // 아니오
        }
    }

	if(this.comUtils.isNull(popupId)) {
		alert("팝업을 먼저 저장 후, 텍스트를 입력해주세요.");
		return false;
	}
	
	var parm = {
		 arg_0      : this
		,popupId    : popupId
	};

   this.gfn_popup("popPopup", 500, 465, "팝업수정", parm, "hpm_ctm::HPM050201_P01.xfdl", "fn_popPopupCallback", true);
}

this.ds_bannerList_oncolumnchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	// 팝업종류 -- 이미지, 텍스트
	if(e.columnid == "BANNER_TYPE") {
		if(e.newvalue == "001") {		// 이미지
			// hide
			this.div_info.btn_textEdit.set_enable(false);
			
			// show
			this.div_info.btn_deleteFile.set_enable(true);
			this.div_info.btn_downFiles.set_enable(true);
			this.div_info.btn_uploadFiles.set_enable(true);
			this.div_info.edt_imgUrl.set_enable(true);
			this.div_info.edt_imgUrl.set_readonly(false);
			this.div_info.edt_imgUrl.set_cssclass("");
			
		}else if(e.newvalue == "002") {		// 텍스트
			// hide
			this.div_info.btn_deleteFile.set_enable(false);
			this.div_info.btn_downFiles.set_enable(false);
			this.div_info.btn_uploadFiles.set_enable(false);
			this.div_info.edt_imgUrl.set_enable(false);
			this.div_info.edt_imgUrl.set_readonly(true);
			this.div_info.edt_imgUrl.set_cssclass("edt_WF_Readnly");
			
			// show
			this.div_info.btn_textEdit.set_enable(true);
		}
	}
}

this.grd_bannerList_oncellclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	if(e.col == 10){
		var nRow = this.ds_bannerList.rowposition;
		var popupId = this.ds_bannerList.getColumn(nRow, "BANNER_ID");
		system.execBrowser("https://yeyak.hsuco.or.kr/previewPopup.do?popupId="+popupId);
	}
}
]]></Script>
  </Form>
</FDL>
