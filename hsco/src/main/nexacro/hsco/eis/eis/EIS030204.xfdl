<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\..\default_typedef.xml"/>
  <Form id="EIS030204" classname="EIS030204" left="0" top="0" width="1059" height="735" titletext="보상현황" oninit="EIS030204_oninit" onload="EIS030204_onload" onbeforeclose="EIS030204_onbeforeclose">
    <Layouts>
      <Layout>
        <Div id="div_work" taborder="1" text="Div01" left="0" top="65" right="28" bottom="0">
          <Layouts>
            <Layout>
              <Grid id="grd_totalVolmWtnncList" taborder="0" useinputpanel="false" left="0" top="1" right="0" cssclass="grd02_WF_blue" binddataset="DS_TBCMP_THING_WTNNC" height="201" autofittype="col">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="95"/>
                      <Column size="135"/>
                      <Column size="75"/>
                      <Column size="75"/>
                      <Column size="85"/>
                      <Column size="135"/>
                      <Column size="75"/>
                      <Column size="135"/>
                      <Column size="135"/>
                      <Column size="85"/>
                    </Columns>
                    <Rows>
                      <Row size="24" band="head"/>
                      <Row size="24" band="head"/>
                      <Row size="50"/>
                      <Row size="50"/>
                      <Row size="50"/>
                    </Rows>
                    <Band id="head">
                      <Cell rowspan="2" text="구분"/>
                      <Cell col="1" rowspan="2" text="금액계"/>
                      <Cell col="2" colspan="4" text="토지"/>
                      <Cell col="6" colspan="2" text="물건"/>
                      <Cell col="8" rowspan="2" text="지출금액"/>
                      <Cell col="9" rowspan="2" text="진행률"/>
                      <Cell row="1" col="2" text="인원"/>
                      <Cell row="1" col="3" text="필지"/>
                      <Cell row="1" col="4" text="면적"/>
                      <Cell row="1" col="5" text="금액"/>
                      <Cell row="1" col="6" text="건수"/>
                      <Cell row="1" col="7" text="금액"/>
                    </Band>
                    <Band id="body">
                      <Cell style="selectbackground:#ffffffff;" text="협  의"/>
                      <Cell col="1" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:T1_AMT" mask="9,999"/>
                      <Cell col="2" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:L1_OWNER_CNT" mask="9,999"/>
                      <Cell col="3" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:L1_CNT" mask="9,999"/>
                      <Cell col="4" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:L1_AR_AMT" mask="9,999"/>
                      <Cell col="5" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:L1_AMT" mask="9,999"/>
                      <Cell col="6" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:M1_CNT" mask="9,999"/>
                      <Cell col="7" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:M1_AMT" mask="9,999"/>
                      <Cell col="8" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:T3_AMT" mask="9,999"/>
                      <Cell col="9" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:PROGRS_RT" mask="9,999.00 %"/>
                      <Cell row="1" style="selectbackground:#ffffffff;" text="미협의&#10;&#13;(수용신청)"/>
                      <Cell row="1" col="1" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:T2_AMT" mask="9,999"/>
                      <Cell row="1" col="2" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:L2_OWNER_CNT" mask="9,999"/>
                      <Cell row="1" col="3" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:L2_CNT" mask="9,999"/>
                      <Cell row="1" col="4" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:L2_AR_AMT" mask="9,999"/>
                      <Cell row="1" col="5" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:L2_AMT" mask="9,999"/>
                      <Cell row="1" col="6" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:M2_CNT" mask="9,999"/>
                      <Cell row="1" col="7" displaytype="number" style="align:right;padding:0 5 0 0;selectbackground:#ffffffff;" text="bind:M2_AMT" mask="9,999"/>
                      <Cell row="1" col="8" style="selectbackground:#ffffffff;"/>
                      <Cell row="1" col="9" displaytype="number" style="selectbackground:#ffffffff;"/>
                      <Cell row="2" style="line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="합  계"/>
                      <Cell row="2" col="1" displaytype="number" style="align:right;padding:0 5 0 0;line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="bind:T_AMT" mask="9,999"/>
                      <Cell row="2" col="2" displaytype="number" style="align:right;padding:0 5 0 0;line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="bind:L_OWNER_CNT" mask="9,999"/>
                      <Cell row="2" col="3" displaytype="number" style="align:right;padding:0 5 0 0;line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="bind:L_CNT" mask="9,999"/>
                      <Cell row="2" col="4" displaytype="number" style="align:right;padding:0 5 0 0;line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="bind:L_AR_AMT" mask="9,999"/>
                      <Cell row="2" col="5" displaytype="number" style="align:right;padding:0 5 0 0;line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="bind:L_AMT" mask="9,999"/>
                      <Cell row="2" col="6" displaytype="number" style="align:right;padding:0 5 0 0;line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="bind:M_CNT" mask="9,999"/>
                      <Cell row="2" col="7" displaytype="number" style="align:right;padding:0 5 0 0;line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="bind:M_AMT" mask="9,999"/>
                      <Cell row="2" col="8" displaytype="number" style="align:right;padding:0 5 0 0;line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="bind:T3_AMT" mask="9,999"/>
                      <Cell row="2" col="9" displaytype="number" style="align:right;padding:0 5 0 0;line:1 solid #ffd8cdff ;background:#ffeae4ff;background2:#ffeae4ff;color:#e04c21ff;color2:#e04c21ff;font:bold 9 Gulim;selectbackground:#ffeae4ff;selectcolor:#e04c21ff;selectfont:bold 9 Gulim;selectline:1 solid #ffd8cdff ;" text="bind:PROGRS_RT" mask="9,999.00 %"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static02" taborder="11" text="15" visible="false" left="1031" top="0" width="15" height="735" style="background:#1b3cd23c;align:center middle;"/>
        <Static id="Static00" taborder="12" text="스&#13;&#10;크&#13;&#10;롤&#13;&#10;13" visible="false" top="0" right="0" width="13" height="735" style="background:#d07b173c;align:center middle;"/>
        <Div id="div_search" taborder="0" left="0" top="0" right="28" height="33" cssclass="div_WFSA_Box">
          <Layouts>
            <Layout>
              <Static id="sta_bsnsAreaCode" taborder="2" text="사업지구" cssclass="sta_WFSA_Label" left="15" top="5" width="64" height="21"/>
              <Combo id="cmb_bsns_code" taborder="0" innerdataset="@ds_BSNS" codecolumn="BSNS_CODE" datacolumn="BSNS_ALL_NM" left="79" top="5" width="350" height="21" cssclass="cmb_WF_Essential" displayrowcount="15"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="dtl_guide12" taborder="14" text="10" visible="false" left="0" top="32" width="1031" height="10" style="background:hotpink;color:#333333ff;align:center middle;opacity:50;"/>
        <Static id="dtl_guide00" taborder="15" text="5" visible="false" left="0" top="61" width="1031" height="5" style="background:hotpink;color:#333333ff;align:center middle;opacity:50;"/>
        <WebBrowser id="chart1" left="3.02%" top="320" right="52%" taborder="16" height="366" visible="false"/>
        <WebBrowser id="chart2" left="52%" top="320" right="5%" height="366" taborder="17" visible="false"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_totalVolmWtnnc" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="false" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="GUBUN" type="STRING" size="256"/>
          <Column id="TOTAL_AMOUNT" type="STRING" size="256"/>
          <Column id="T_MCNT" type="STRING" size="256"/>
          <Column id="T_NMPR" type="STRING" size="256"/>
          <Column id="T_AR" type="STRING" size="256"/>
          <Column id="T_AMOUNT" type="STRING" size="256"/>
          <Column id="J_CNT" type="STRING" size="256"/>
          <Column id="J_AMOUNT" type="STRING" size="256"/>
          <Column id="B_CNT" type="STRING" size="256"/>
          <Column id="B_AMOUNT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cond00" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="BSNS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_bsnsAreaCode" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="CODE_NM" type="STRING" size="256"/>
          <Column id="FULL_CODE_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_validation" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="compId" type="STRING" size="256"/>
          <Column id="colId" type="STRING" size="256"/>
          <Column id="PK" type="STRING" size="256"/>
          <Column id="notNull" type="STRING" size="256"/>
          <Column id="type" type="STRING" size="256"/>
          <Column id="nlength" type="STRING" size="256"/>
          <Column id="from" type="STRING" size="256"/>
          <Column id="to" type="STRING" size="256"/>
          <Column id="lengthChkGb" type="STRING" size="256"/>
          <Column id="msgId" type="STRING" size="256"/>
          <Column id="expr" type="STRING" size="256"/>
          <Column id="func" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="compId">div_search</Col>
            <Col id="colId">cmb_bsns_code</Col>
            <Col id="msgId">사업지구</Col>
            <Col id="notNull">Y</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="DS_TBCMP_THING_WTNNC">
        <ColumnInfo>
          <Column id="T_AMT" type="STRING" size="256"/>
          <Column id="L_OWNER_CNT" type="STRING" size="256"/>
          <Column id="L_CNT" type="STRING" size="256"/>
          <Column id="L_AR_AMT" type="STRING" size="256"/>
          <Column id="L_AMT" type="STRING" size="256"/>
          <Column id="M_CNT" type="STRING" size="256"/>
          <Column id="M_AR_AMT" type="STRING" size="256"/>
          <Column id="M_AMT" type="STRING" size="256"/>
          <Column id="T1_AMT" type="STRING" size="256"/>
          <Column id="L1_OWNER_CNT" type="STRING" size="256"/>
          <Column id="L1_CNT" type="STRING" size="256"/>
          <Column id="L1_AR_AMT" type="STRING" size="256"/>
          <Column id="L1_AMT" type="STRING" size="256"/>
          <Column id="M1_CNT" type="STRING" size="256"/>
          <Column id="M1_AR_AMT" type="STRING" size="256"/>
          <Column id="M1_AMT" type="STRING" size="256"/>
          <Column id="T2_AMT" type="STRING" size="256"/>
          <Column id="L2_OWNER_CNT" type="STRING" size="256"/>
          <Column id="L2_CNT" type="STRING" size="256"/>
          <Column id="L2_AR_AMT" type="STRING" size="256"/>
          <Column id="L2_AMT" type="STRING" size="256"/>
          <Column id="M2_CNT" type="STRING" size="256"/>
          <Column id="M2_AR_AMT" type="STRING" size="256"/>
          <Column id="M2_AMT" type="STRING" size="256"/>
          <Column id="T3_AMT" type="STRING" size="256"/>
          <Column id="L3_AMT" type="STRING" size="256"/>
          <Column id="M3_AMT" type="STRING" size="256"/>
          <Column id="PROGRS_RT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_BSNS" useclientlayout="0">
        <ColumnInfo>
          <Column id="BSNS_CODE" type="string" size="5"/>
          <Column id="BSNS_NM" type="string" size="100"/>
          <Column id="BSNS_ALL_NM" type="string" size="100"/>
          <Column id="BSNS_TY" type="string" size="3"/>
          <Column id="RM" type="string" size="200"/>
          <Column id="STRWRK_DE" type="string" size="8"/>
          <Column id="COMPET_DE" type="string" size="8"/>
          <Column id="BSNS_CONFM_DE" type="string" size="8"/>
          <Column id="MVN_DE" type="string" size="8"/>
          <Column id="RN" type="string" size="8"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.0"><![CDATA[/***********************************************************************
 * 화면ID   	: 	EIS030204
 * 화면명   	: 	보상현황
 * 화면설명 	: 	보상현황
 * 작성일   	: 	2015.07.20
 * 작성자   	: 	변승우
 * 수정이력 	: 
 ***********************************************************************
 *     수정일     수정자   내용
 ***********************************************************************
 *
 *
 ***********************************************************************
 */
 
 
/***********************************************************************
 * Script Include 
 ***********************************************************************/
include "pms_lib::cmpUtilInclude.xjs";
include "lib::rMateChartH5.xjs";
include "lib::rMateChartH5License.xjs";

var ratioTxt = "";
/***********************************************************************
 * onInit / onLoad 영역
 ***********************************************************************/
this.EIS030204_oninit = function(obj:Form, e:nexacro.InitEventInfo)
{
	this.fn_init();
	this.fn_init_form();
	this.fn_init_dataset();	
}		
	
this.EIS030204_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	this.fn_load_combo();
	
	// 차트 set
	var host = application.services["svcurl"].url;
	var htmlUrl = host + "rmate/nexacroChartH5Sample.html";		// 차트를 그릴 html의 url
	var scriptRootUrl = host + "rmate";							// rMateChartH5의 assets과 js가 저장된 url
	var chartVars = this.makeChartVars();
	this.rMateChartCreate(this.chart1, scriptRootUrl, htmlUrl, chartVars);	// 차트1 생성
	this.rMateChartCreate(this.chart2, scriptRootUrl, htmlUrl, chartVars);	// 차트2 생성
}

this.EIS030204_onbeforeclose = function(obj:Form, e:nexacro.CloseEventInfo)
{
	this.rMateChartClear(this.chart1);		// 차트1 clear
	this.rMateChartClear(this.chart2);		// 차트2 clear
}
	
/***********************************************************************
 * Form/Dataset 오브젝트 초기화
 ***********************************************************************/ 
 
/*
 * 함수명  	: initForm
 * 설명 		: Form을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initForm();
 */ 	
this.fn_init_form = function()
{
}
	
/*
 * 함수명  	: initDataset
 * 설명 		: Dataset을 초기화한다.
 *                주로, 조건 Dataset들(ds_cond, ds_cond_00, ds_cond_01, ...) 을 초기화한다.
 * params  		: None
 * return Type 	: None
 * 사용법		: this.initDataset();
 */
this.fn_init_dataset = function()
{
	this.gfn_initCondDs(this, this.div_search);		
}	

/*
 * 함수명  	: fn_get_codeList
 * 설명 		: 모든 코드 리스트 검색
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_get_codeList();
 */
this.fn_load_combo = function(){
	this.fn_fill_combo(this.div_search.cmb_bsns_code, "hsco/pms/prj/bsnsCdList.do", "선택", null);		// 사업코드목록
	
	//this.fn_add_comboHeader(this, this.div_search.cmb_bsns_code, "선택"); 
	//this.fn_get_userBsnsArea(this.ds_bsnsAreaCode, "선택");				//사업지구
}


/*
 * 함수명  	: fn_search
 * 설명 		: 시행자제시 정보 내역 조회 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_search();
 */
this.fn_search = function()
{
	//validation Check	
	if(this.gfn_checkValidation(this.div_search, this.ds_validation) == false){
		return false;
	}
	
	this.ds_cond00.clearData();
	this.ds_cond00.addRow();
	this.ds_cond00.setColumn(0, "BSNS_CODE", this.div_search.cmb_bsns_code.value);
	
	//this.sta_message01.set_text("");
	this.fn_transaction("selectTotalVolmWtnncList");
} 	


/*
 * 함수명  	: fn_close
 * 설명 		: 종료 이벤트 처리
 * params  		: None
 * return Type 	: None
 * 사용법		: this.fn_close();
 */ 
this.fn_close = function()
{
	this.close();
}		



/**********************************************************************
 * CALL TRANSACTION 영역
 **********************************************************************/
/*
 * 함수명  	: fn_transaction
 * 설명 		: Transaction 요청 처리 함수
 * params  		: strSvcId : 서비스요청 ID
 * return Type 	: None
 * 사용법		: this.fn_transaction("SELECT");
 */
this.fn_transaction = function(strSvcId, rowposition)
{
	var bSync = true;
	switch (strSvcId) {
		case "selectTotalVolmWtnncList": 	
			var sController   	= "hsco/eis/eis/EIS030201/rewardMainList.do";
			var sInDatasets   	= "input1=ds_cond00";
			var sOutDatasets  	= "DS_TBCMP_THING_WTNNC=output1";
			break;
	}
	
	if(this.fn_validate_tranasaction(strSvcId, sController, sInDatasets, sOutDatasets) == false){
		return;
	}
	
	Ex.core.tran(this, strSvcId, sController, sInDatasets, sOutDatasets, "", null, null, bSync); 
} 

/**********************************************************************
 * Transaction Callback 영역
 ***********************************************************************/
/*
 * 함수명  	: fn_callBack
 * 설명 		: Transaction Callback 처리
 * params  		: strSvcId    : 서비스요청 ID
 *                nErrorCode  : 오류 메시지 코드 ([예] 0 : Success, 그밖의 경우, error)
 *                strErrorMsg : 오류 메시지([예]  success.insert|정상적으로 등록되었습니다.)
 * return Type 	: None
 * 사용법		: 
 */
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg)
{
	var bSuccess = nErrorCode == 0?true:false;

	if(bSuccess) {
		switch (strSvcId) {
			case "selectTotalVolmWtnncList":
				if(this.DS_TBCMP_THING_WTNNC.rowcount == 0){
					this.DS_TBCMP_THING_WTNNC.addRow();
					this.chart_data_create();
					this.chart1.set_visible(false);
					this.chart2.set_visible(false);
				}
				else{
					this.chart_data_create();
					this.chart1.set_visible(true);
					this.chart2.set_visible(true);
				}

				this.DS_TBCMP_THING_WTNNC.set_rowposition(-1);
				//this.sta_message01.set_text("협의비율 : " + this.nvl(this.DS_TBCMP_THING_WTNNC.getColumn(0, "YPER"),"0") + "%(금액대비)");
				
				break;
		}
	}
	
	this.fn_callback_message(strSvcId, nErrorCode, strErrorMsg);
}




/***********************************************************************************
* 설명	: 차트관련 영역
***********************************************************************************/
// 차트 데이터
var chartData1 = [];
var chartData2 = [];

// 차트 레이아웃
var layoutStr1 =
                '<rMateChart backgroundColor="#FFFFFF"  borderStyle="none">'
                    +'<Options>'
                //        +'<Caption text="Annual Report"/>'
                    +'</Options>'
                    +'<Pie2DChart id="chart" innerRadius="0.3" showDataTips="true" selectionMode="single">'
                        +'<series>'
                            +'<Pie2DSeries nameField="se" field="amt" startAngle="-90" renderDirection="clockwise" labelJsFunction="pieSeriesLabelFunc" labelPosition="insideWithCallout" fontSize="11" fontWeight="bold" fontFamily ="Gulim">'	// labelPosition="callout"
                                +'<showDataEffect>'
                                    //+'<SeriesZoom duration="1000"/>'
                                    +'<SeriesInterpolate/>'
                                +'</showDataEffect>'
                                +'<fills>'			
									+'<SolidColor color="#BBEE71" />'
									+'<SolidColor color="#FED202" />'
								+'</fills>'
                            +'</Pie2DSeries>'
                        +'</series>'
                        +'<backgroundElements>'
                            +'<CanvasElement>'
                                +'<Label text="토지" horizontalCenter="0" verticalCenter="0" fontSize="15" fontWeight="bold" fontFamily ="Gulim" color="#777777" backgroundAlpha="0"/>'
                            +'</CanvasElement>'
                        +'</backgroundElements>'
                    +'</Pie2DChart>'
                +'</rMateChart>';
                
var layoutStr2 =
                '<rMateChart backgroundColor="#FFFFFF"  borderStyle="none">'
                    +'<Options>'
                //        +'<Caption text="Annual Report"/>'
                    +'</Options>'
                    +'<Pie2DChart id="chart" innerRadius="0.3" showDataTips="true" selectionMode="single">'
                        +'<series>'
                            +'<Pie2DSeries nameField="se" field="amt" startAngle="-90" renderDirection="clockwise" labelJsFunction="pieSeriesLabelFunc" labelPosition="insideWithCallout" fontSize="11" fontWeight="bold" fontFamily ="Gulim">'	// labelPosition="callout"
                                +'<showDataEffect>'
                                    //+'<SeriesZoom duration="1000"/>'
                                    +'<SeriesInterpolate/>'
                                +'</showDataEffect>'
                                +'<fills>'			
									
									+'<SolidColor color="#FED202" />'
									+'<SolidColor color="#BBEE71" />'
								+'</fills>'
                            +'</Pie2DSeries>'
                        +'</series>'
                        +'<backgroundElements>'
                            +'<CanvasElement>'
                                +'<Label text="물건" horizontalCenter="0" verticalCenter="0" fontSize="15" fontWeight="bold" fontFamily ="Gulim" color="#777777" backgroundAlpha="0"/>'
                            +'</CanvasElement>'
                        +'</backgroundElements>'
                    +'</Pie2DChart>'
                +'</rMateChart>';

this.makeChartVars = function() {
	var chartVars = "";

	var rMateOnLoadCallFunction = "rMateChartOnLoad";
	chartVars += "rMateOnLoadCallFunction="+rMateOnLoadCallFunction;

	return chartVars;
}


// 차트 데이터, 레이아웃 set
this.rMateChartOnLoad = function(id) {
	if (id == "chart1") {
		this.rMateChartSetLayout(this.chart1, layoutStr1);
		this.rMateChartSetData(this.chart1, chartData1);
	}
	else if (id == "chart2") {
		this.rMateChartSetLayout(this.chart2, layoutStr2);
		this.rMateChartSetData(this.chart2, chartData2);
	}
}


/*
 * 차트 데이터 생성
 */
this.chart_data_create = function()
{
	chartData1 = [];
    chartData2 = [];
	
	chartData1.push({se : "협의",   amt : this.DS_TBCMP_THING_WTNNC.getColumn(0, "L1_AMT")});
	chartData1.push({se : "미협의", amt : this.DS_TBCMP_THING_WTNNC.getColumn(0, "L2_AMT")});
	
	chartData2.push({se : "협의",   amt : this.DS_TBCMP_THING_WTNNC.getColumn(0, "M1_AMT")});
	chartData2.push({se : "미협의", amt : this.DS_TBCMP_THING_WTNNC.getColumn(0, "M2_AMT")});
    
    // 차트 reload
	this.rMateChartSetData(this.chart1, chartData1);
	this.rMateChartSetData(this.chart2, chartData2);
}


this.pieSeriesLabelFunc = function(seriesId, index, data, values)
{
	//return data["se"]+"\n("+ String(values[0]).replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,') + ")";		// 예) 협의 (111,111,111)
	return data["se"]+"\n("+ Number(values[1]).toFixed(2) + "%)";
}]]></Script>
  </Form>
</FDL>
