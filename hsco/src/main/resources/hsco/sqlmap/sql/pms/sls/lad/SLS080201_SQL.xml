<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="SLS080201_SQL">	

<!--
SQL File Name : SLS080201_SQL.xml
Description : 토지계약관리
Modification Information
수정일		수정자		Version	Query Id
2015.10.06	최승락		1.0		최초 생성
-->


    <!-- 쿼리명 : 토지계약 목록 조회
	설명 : 토지계약 목록 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.06	최승락	최초생성
	작성자 : 최승락
	최초작성일 : 2015.10.06
	-->
	<select id="SLS080201DAO.selectLadLcntrctrList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">

			WITH
			TAB_01 AS
			(
			SELECT
				  LAD_CSTMR_NO 	/*토지고객번호*/
				, CSTMR_NM		/*고객명*/
				, SFCOM_DEC_ALL(IHIDNUM) AS IHIDNUM		/*주민등록번호*/
				, ZIP			/*우편번호*/
				, ADRES			/*주소*/
				, ADRES_DETAIL	/*상세주소*/
				, TELNO			/*전화번호*/
				, MBTLNO		/*휴대폰번호*/
				, EMAIL			/*이메일*/
			  FROM TBSLS_LAD_CSTMR
			 WHERE 1 = 1
			),
			TAB_02 AS
			(
			SELECT
				  T1.LAD_CODE		/*토지코드*/
				, T1.BLCK			/*블록*/
				, T1.LOT			/*롯트*/
				, T1.LOT_TY			/*롯트타입*/
				, T1.BLCK || '-' || T1.LOT || '-' || T1.LOT_TY AS BLCK_LOT_TY	/*블록-롯트-롯트타입*/
				, T1.LAD_SE			/*토지구분*/
				, T1.PRPOS_SE		/*용도구분*/
				, T1.CNTRCT_STTUS	/*계약상태*/
				, T1.LOCPLC_ZIP			  /*소재지우편번호*/
				, T1.LOCPLC_BASS_ADRES	  /*소재지기본주소*/
				, T1.LOCPLC_DETAIL_ADRES  /*소재지상세주소*/
				, T1.SUPLY_CODE	    /*그룹코드*/
				, T2.CNTRCTR_NO		
				, (
				    SELECT S1.LAD_NM
					FROM TBSLS_LAD_INFO S1
				    WHERE S1.LAD_CODE = T1.LAD_CODE
				  ) AS LAD_NM
				, T2.LAD_CSTMR_NO	
				, T2.CNTRCT_TY		
				, T2.SUPLY_SE
				, T2.CANCL_DE
			  FROM TBSLS_LAD_DETAIL_INFO T1
				, TBSLS_LCNTRCTR T2
			 WHERE 1 = 1
			   AND T1.LAD_CODE = T2.LAD_CODE(+)
			   AND T1.BLCK = T2.BLCK(+)
			   AND T1.LOT = T2.LOT(+)
			   AND T1.LOT_TY = T2.LOT_TY(+)
				<isEqual property="CANCL_SE" compareValue="0">
					   AND ( T2.CANCL_DE(+) IS NULL OR T2.CNTRCTR_NO(+) IS NULL )
				</isEqual>
				
				<isNotEmpty property="DONG">
					   AND T1.LOCPLC_BASS_ADRES LIKE '%' ||#DONG#|| '%'
			    </isNotEmpty>
				<isNotEmpty property="LOCPLC_BASS">
					   AND T1.LOCPLC_BASS_ADRES_LNM = #LOCPLC_BASS#
				</isNotEmpty>
				<isNotEmpty property="LOCPLC_DETAIL">
					   AND T1.LOCPLC_DETAIL_ADRES_LNM = #LOCPLC_DETAIL#
				</isNotEmpty>			
			)
			SELECT B.LAD_CODE
				, B.BLCK
				, B.LOT
				, B.LOT_TY
				, B.BLCK_LOT_TY
				, B.CNTRCTR_NO
				, B.LAD_SE
				, B.PRPOS_SE
				, B.CNTRCT_TY
				, B.CNTRCT_STTUS
				, B.LOCPLC_ZIP			  
				, B.LOCPLC_BASS_ADRES	 
				, B.LOCPLC_DETAIL_ADRES  
				, B.SUPLY_CODE	   
				, B.SUPLY_SE
				, B.LAD_NM
				, B.CANCL_DE
				, A.LAD_CSTMR_NO
				, A.CSTMR_NM
				, CASE WHEN B.CNTRCTR_NO IS NULL THEN '' ELSE RPAD(A.CSTMR_NM, 8, ' ') || ' [' || B.CNTRCTR_NO || ']' END AS ALL_CNTRCTR_NO
			  FROM TAB_01 A
				, TAB_02 B
			 WHERE 1 = 1

			   AND A.LAD_CSTMR_NO(+) = B.LAD_CSTMR_NO
			<isNotEmpty property="LAD_CODE">
			   AND B.LAD_CODE = #LAD_CODE#
			</isNotEmpty>
			<isNotEmpty property="BLCK">
			   AND B.BLCK = #BLCK#
			</isNotEmpty>
			<isNotEmpty property="LOT">
			   AND B.LOT = #LOT#
			</isNotEmpty>
			<isNotEmpty property="LOT_TY">
			   AND B.LOT_TY = #LOT_TY#
			</isNotEmpty>
			<isNotEmpty property="LAD_SE">
			   AND B.LAD_SE = #LAD_SE#
			</isNotEmpty>
			<isNotEmpty property="PRPOS_SE">
			   AND B.PRPOS_SE = #PRPOS_SE#
			</isNotEmpty>
			<isNotEmpty property="CNTRCT_STTUS">
			   AND B.CNTRCT_STTUS = #CNTRCT_STTUS#
			</isNotEmpty>
			<isNotEmpty property="CNTRCT_TY">
			   AND B.CNTRCT_TY = #CNTRCT_TY#
			</isNotEmpty>
			<isNotEmpty property="SUPLY_SE">
			   AND B.SUPLY_SE = #SUPLY_SE#
			</isNotEmpty>
			
			<isEqual property="CANCL_SE" compareValue="1">
			   AND B.CANCL_DE IS NOT NULL
			</isEqual>
			
			<isNotEmpty property="CSTMR_NM">
			   AND A.CSTMR_NM LIKE '%' ||#CSTMR_NM#|| '%'
			</isNotEmpty>
			
			<isNotEmpty property="CSTMR_NO">
			   AND A.LAD_CSTMR_NO = #CSTMR_NO#
			</isNotEmpty>
						
			 ORDER BY B.LAD_CODE, TO_NUMBER(B.BLCK), TO_NUMBER(B.LOT), B.LOT_TY
	</select>
    
    
    <!-- 쿼리명 : 토지계약 상세 조회
	설명 : 토지계약 상세 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.06	최승락	최초생성
	작성자 : 최승락
	최초작성일 : 2015.10.06
	-->
	<select id="SLS080201DAO.selectLadLcntrctrInfo" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			WITH
			TAB_01 AS
			(
			SELECT 
				  T2.LAD_CSTMR_NO
				, T2.CSTMR_NM
				, SFCOM_DEC_ALL(T2.IHIDNUM) AS IHIDNUM
				, T2.ZIP
				, T2.ADRES
				, T2.ADRES_DETAIL
				, T2.TELNO
				, T2.MBTLNO
				, T2.EMAIL
			  FROM TBSLS_LCNTRCTR T1
				, TBSLS_LAD_CSTMR T2
			 WHERE 1 = 1
			   AND T1.LAD_CSTMR_NO = T2.LAD_CSTMR_NO
			)
			,
			TAB_02 AS
			(
			SELECT T1.LAD_CODE
				, T1.BLCK
				, T1.LOT
				, T1.LOT_TY
				, T1.PRPOS_SE
				,T1.LOCPLC_ZIP
		        ,T1.LOCPLC_BASS_ADRES
		        ,T1.LOCPLC_DETAIL_ADRES
		        ,T1.LOCPLC_ZIP_LNM
		        ,T1.LOCPLC_BASS_ADRES_LNM
		        ,T1.LOCPLC_DETAIL_ADRES_LNM
		        ,T1.BGNN_AR
		        ,T1.BGNN_UNTPC
		        ,T1.BGNN_AMOUNT
		        ,T1.DCSN_AR
		        ,T1.DCSN_UNTPC
		        ,nvl(T1.DCSN_AMOUNT,0) as DCSN_AMOUNT
		        ,T1.ALL_AR
		        ,T1.REMVL_FLFL_GTN
		        ,T1.RENT_GTN
		        ,T1.FYER_RNTCHRG
				, T2.LAD_CSTMR_NO
				, T2.CNTRCTR_NO
				, T2.CNTRCTR_MTLTY
				, T2.SUPLY_SE				
				, T2.CNTRCT_TY
				, T2.CNTRCT_DE
				, T2.RENT_BGNDE
				, T2.RENT_ENDDE
				, T2.ZIP_DM
				, T2.BASS_ADRES_DM
				, T2.DETAIL_ADRES_DM
				, T2.ETC_CTTPC
				, T2.FAXNO
				, T2.ENTRPS_CHARGER
				, T2.ENTRPS_DEPT
				, T2.ENTRPS_TELNO
				, T2.CTRTC_FILE_COURS
				, T2.CTRTC_FILE  
				, T3.FILE_SN 
                , T3.FILE_ORDR 
				, T2.RM
	            , T3.ORGINL_FILE_NM        AS FILE_NM
	            , T3.FILE_EXTSN            AS FILE_EXTSN
			  FROM TBSLS_LAD_DETAIL_INFO T1
				, TBSLS_LCNTRCTR T2
				, TBCOM_CMMN_ATCHMNFL T3 
			 WHERE T1.LAD_CODE = T2.LAD_CODE
			   AND T1.BLCK = T2.BLCK
			   AND T1.LOT = T2.LOT
			   AND T1.LOT_TY = T2.LOT_TY
			   AND T2.FILE_SN = T3.FILE_SN(+)
			)
			SELECT 
				  B.LAD_CODE
				, B.BLCK
		        , B.FILE_SN 
		        , B.FILE_ORDR 				
				, B.LOT
				, B.LOT_TY
				, B.CNTRCTR_NO
				, A.CSTMR_NM
				, B.CNTRCTR_MTLTY
				, A.IHIDNUM
				, B.PRPOS_SE
				, B.SUPLY_SE
				, A.ZIP
				, A.ADRES
				, A.ADRES_DETAIL
				, B.ZIP_DM
				, B.BASS_ADRES_DM
				, B.DETAIL_ADRES_DM
				, B.CNTRCT_TY
				, B.CNTRCT_DE
				, B.RENT_BGNDE
				, B.RENT_ENDDE
				, A.TELNO
				, B.ETC_CTTPC
				, A.MBTLNO
				, B.FAXNO
				, B.ENTRPS_CHARGER
				, B.ENTRPS_DEPT
				, B.ENTRPS_TELNO
				, B.CTRTC_FILE_COURS
				, B.CTRTC_FILE
				, B.RM
				, B.FILE_NM
				, B.FILE_EXTSN
				, B.LOCPLC_ZIP
			    , B.LOCPLC_BASS_ADRES
			    , B.LOCPLC_DETAIL_ADRES
			    , B.LOCPLC_ZIP_LNM
			    , B.LOCPLC_BASS_ADRES_LNM
			    , B.LOCPLC_DETAIL_ADRES_LNM
			    , B.BGNN_AR
			    , B.BGNN_UNTPC
			    , B.BGNN_AMOUNT
			    , B.DCSN_AR
			    , B.DCSN_UNTPC
			    , nvl(B.DCSN_AMOUNT,0) as DCSN_AMOUNT
			    , B.ALL_AR
			    , B.REMVL_FLFL_GTN
			    , B.RENT_GTN
			    , B.FYER_RNTCHRG
			    , SFCMP_GET_CODENM('LAD003', B.PRPOS_SE) AS PRPOS_SE_NM
			    , SFSLS_LAD_NM(B.LAD_CODE, 'LAD_NM') AS LAD_NM
			    , (SELECT X.PAY_TMLMT
			         FROM TBSLS_LCNTRCTR_PAY X
			        WHERE X.CNTRCTR_NO = B.CNTRCTR_NO
			          AND X.PAY_CODE = 'S0') AS PAY_TMLMT
			    , TO_CHAR(ADD_MONTHS(TO_DATE(B.CNTRCT_DE, 'YYYYMMDD'), 3), 'YYYYMMDD') AS PAY_TMLMT1
      			, TO_CHAR(ADD_MONTHS(TO_DATE(B.CNTRCT_DE, 'YYYYMMDD'), 6), 'YYYYMMDD') AS PAY_TMLMT2
			    , (nvl(B.DCSN_AMOUNT,0) * 0.1) AS S0
			    , (nvl(B.DCSN_AMOUNT,0) * 0.3) AS S1
			    , (nvl(B.DCSN_AMOUNT,0) * 0.3) AS S2
			    , (nvl(B.DCSN_AMOUNT,0) * 0.3) AS S9
			    , (SELECT COUNT(*) 
  					 FROM TBSLS_LCNTRCTR_NMCHANGE 
					WHERE CNTRCTR_NO = #CNTRCTR_NO#) AS NMCHANGE_NO
				, (
    				    SELECT   SUM(CDIT_TRNSFR_AMOUNT)  AS CDIT_TRNSFR_AMOUNT
    					FROM TBSLS_LCNTRCTR_LON
    				  WHERE
         					CNTRCTR_NO = #CNTRCTR_NO#
         					AND RELIS_DE IS NULL					
				  ) AS CDIT_TRNSFR_AMOUNT
				, (SELECT MAX(TRNSFR_DE) 
  					 FROM TBSLS_LCNTRCTR_LON 
					WHERE CNTRCTR_NO = #CNTRCTR_NO#  
					    AND RELIS_DE IS NULL 
				  ) AS TRNSFR_DE
				, (SELECT
             		SUM(DET_AMOUNT)         AS DET_AMOUNT
         			 FROM
          		     (	
               		 SELECT
                		(CASE WHEN RELIS_DE IS NULL THEN DET_AMOUNT ELSE 0 END) AS DET_AMOUNT
               		 FROM TBSLS_LCNTRCTR_SEIZR
              	     WHERE
                	   CNTRCTR_NO = #CNTRCTR_NO#
                	     AND RELIS_DE IS NULL
           			 ) 
           	       ) AS DET_AMOUNT
				, (SELECT MAX(CDIT_DECSN_DE) 
  					 FROM TBSLS_LCNTRCTR_SEIZR 
					WHERE CNTRCTR_NO = #CNTRCTR_NO# 
					    AND RELIS_DE IS NULL) AS CDIT_DECSN_DE	
				, (SELECT OWNSHIP_BEFORE_DE 
				     FROM TBSLS_LCNTRCTR_ETC_INFO 
				   WHERE CNTRCTR_NO = #CNTRCTR_NO#
				   ) AS OWNSHIP_BEFORE_DE	
				, (SELECT OWNSHIP_RPRSNTV_NM 
				     FROM TBSLS_LCNTRCTR_ETC_INFO 
				   WHERE CNTRCTR_NO = #CNTRCTR_NO#
				   ) AS OWNSHIP_RPRSNTV_NM   
			  FROM TAB_01 A
				, TAB_02 B
			 WHERE 1 = 1
		]]>
			   AND B.LAD_CSTMR_NO = A.LAD_CSTMR_NO
			<isNotEmpty property="LAD_CODE">
			   AND B.LAD_CODE = #LAD_CODE#
			</isNotEmpty>
			<isNotEmpty property="BLCK">
			   AND B.BLCK = #BLCK#
			</isNotEmpty>
			<isNotEmpty property="LOT">
			   AND B.LOT = #LOT#
			</isNotEmpty>
			<isNotEmpty property="LOT_TY">
			   AND B.LOT_TY = #LOT_TY#
			</isNotEmpty>
			   AND B.CNTRCTR_NO = #CNTRCTR_NO#

	</select>
	
	
	<!-- 토지계약번호  -->
	<select id="SLS080201DAO.selectCntrctrNo" parameterClass="java.util.Map" resultClass="String">	
		SELECT SUBSTR(NVL(MAX(CNTRCTR_NO),#LAD_CODE#),1,3)||LPAD(NVL(SUBSTR(MAX(CNTRCTR_NO),4,5),0)+1,5,0)||'01' AS CNTRCTR_NO
		  FROM TBSLS_LCNTRCTR
         WHERE 1 = 1
           AND LAD_CODE = #LAD_CODE#
	</select>
	
	
	<!-- 쿼리명 : 토지계약 상세 입력
	설명 : 토지계약 상세 입력 쿼리
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.10.08
	-->
	<insert id="SLS080201DAO.insertLadLcntrctrInfo" parameterClass="java.util.Map">
		INSERT INTO TBSLS_LCNTRCTR
		(
			  CNTRCTR_NO  				/*계약자번호*/
			, LAD_CODE					/*토지코드*/
			, BLCK						/*블록*/
			, LOT						/*롯트*/
			, LOT_TY					/*롯트타입*/
			, LAD_CSTMR_NO				/*토지고객번호*/
			, CNTRCTR_MTLTY				/*계약자상호*/
			, BDNBR						/*건물번호*/
			, ZIP_DM					/*우편번호_DM*/
			, BASS_ADRES_DM				/*기본주소_DM*/		
			, DETAIL_ADRES_DM			/*상세주소_DM*/
			, BDNBR_DM					/*건물번호_DM*/
			, ETC_CTTPC					/*기타연락처*/
			, FAXNO						/*팩스번호*/
			, RM						/*비고*/
			, CNTRCT_DE					/*계약일자*/
			, RENT_BGNDE				/*임대시작일자*/
			, RENT_ENDDE				/*임대종료일자*/
			, SUPLY_SE					/*공급구분*/
			, CNTRCT_TY					/*계약타입*/
			, CANCL_DE					/*해약일자*/
			, NMCHANGE_CNNC_CODE		/*명의변경연결코드*/
			, ENTRPS_CHARGER			/*업체담당자*/
			, ENTRPS_DEPT				/*업체부서*/
			, ENTRPS_TELNO				/*업체전화번호*/
			, CTRTC_FILE_COURS			/*계약서파일경로*/
			, CTRTC_FILE				/*계약서파일*/
			, REGISTER_ID				/*등록자ID*/
			, REGIST_DT					/*등록일시*/	
			, UPDUSR_ID					/*수정자ID*/
			, UPDT_DT					/*수정일시*/
		) VALUES (
			  #CNTRCTR_NO#
			, #LAD_CODE#
			, #BLCK#
			, #LOT#
			, #LOT_TY#
			, #LAD_CSTMR_NO#
			, #CNTRCTR_MTLTY#
			, #BDNBR#
			, #ZIP_DM#
			, #BASS_ADRES_DM#
			, #DETAIL_ADRES_DM#
			, #BDNBR_DM#
			, #ETC_CTTPC#
			, #FAXNO#
			, #RM#
			, #CNTRCT_DE#
			, #RENT_BGNDE#
			, #RENT_ENDDE#
			, #SUPLY_SE#
			, #CNTRCT_TY#
			, #CANCL_DE#
			, #NMCHANGE_CNNC_CODE#
			, #ENTRPS_CHARGER#
			, #ENTRPS_DEPT#
			, #ENTRPS_TELNO#
			, #CTRTC_FILE_COURS#
			, #CTRTC_FILE#
			, #S_USER_ID#
			, SYSDATE
			, #S_USER_ID#
			, SYSDATE
		)
	</insert>
		
	<!-- 쿼리명 : 토지상세정보 수정
	설명 : 토지상세정보 수정 쿼리
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.10.08
	-->
	<update id="SLS080201DAO.updateLadDetailInfo" parameterClass="java.util.Map">
		UPDATE TBSLS_LAD_DETAIL_INFO
		   SET LAD_SE = '01'
		 WHERE 1 = 1
		   AND LAD_CODE = #LAD_CODE#
		   AND BLCK = #BLCK#
		   AND LOT = #LOT#
		   AND LOT_TY = #LOT_TY#
	</update>

	
	<!-- 쿼리명 : 토지계약 상세 수정
	설명 : 토지계약 상세 수정 쿼리
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.10.08
	-->
	<update id="SLS080201DAO.updateLadLcntrctrInfo" parameterClass="java.util.Map">
	
		UPDATE TBSLS_LCNTRCTR
		   SET
			  CNTRCTR_MTLTY = #CNTRCTR_MTLTY#
			, BDNBR = #BDNBR#
			, ZIP_DM = #ZIP_DM#
			, BASS_ADRES_DM = #BASS_ADRES_DM#
			, DETAIL_ADRES_DM = #DETAIL_ADRES_DM#
			, BDNBR_DM = #BDNBR_DM#
			, ETC_CTTPC = #ETC_CTTPC#
			, FAXNO = #FAXNO#
			, RM = #RM#
			, CNTRCT_DE = #CNTRCT_DE#
			, RENT_BGNDE = #RENT_BGNDE#
			, RENT_ENDDE = #RENT_ENDDE#
			, SUPLY_SE = #SUPLY_SE#
			, CNTRCT_TY = #CNTRCT_TY#
			, CANCL_DE = #CANCL_DE#
			, NMCHANGE_CNNC_CODE = #NMCHANGE_CNNC_CODE#
			, ENTRPS_CHARGER = #ENTRPS_CHARGER#
			, ENTRPS_DEPT = #ENTRPS_DEPT#
			, ENTRPS_TELNO = #ENTRPS_TELNO#
			, CTRTC_FILE_COURS = #CTRTC_FILE_COURS#
			, FILE_SN = #FILE_SN#
			, CTRTC_FILE = #CTRTC_FILE#
			, UPDUSR_ID = #S_USER_ID#
			, UPDT_DT = SYSDATE
		 WHERE 1 = 1
		   AND CNTRCTR_NO = #CNTRCTR_NO#
		   AND LAD_CODE = #LAD_CODE#
		   AND BLCK = #BLCK#
		   AND LOT = #LOT#
		   AND LOT_TY = #LOT_TY#
	</update>
	
	<!-- 토지계약 상세수정 토지고객 정보 수정 --> 
	<update id="SLS080201DAO.updateLadCstmr" parameterClass="java.util.Map">
		UPDATE TBSLS_LAD_CSTMR 
			SET 
				TELNO = #TELNO#
				, MBTLNO = #MBTLNO# 
			WHERE 1=1
				AND LAD_CSTMR_NO = 
				(SELECT 
					LAD_CSTMR_NO FROM TBSLS_LCNTRCTR 
				WHERE 1=1
				AND CNTRCTR_NO = #CNTRCTR_NO#
		   		AND LAD_CODE = #LAD_CODE#
		   		AND BLCK = #BLCK#
			    AND LOT = #LOT#
			    AND LOT_TY = #LOT_TY#)
	</update>
	
	<!-- 쿼리명 : 약정사항(tabpage1) 조회
	설명 : 약정사항(tabpage1) 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.10	최승락	최초생성
	작성자 : 최승락
	최초작성일 : 2015.10.10
	-->
	<select id="SLS080201DAO.selectLcntrctrPayList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<!-- <![CDATA[
			SELECT
				  T1.CNTRCTR_NO
				, T1.PAY_NO
				, T1.RQEST_YM
				, T1.PAY_CODE
				, T1.PAY_ODR
				, T1.PAY_SE
				, T1.INSTLMT_SE
				, T1.PAYAMT
				, T1.PAY_SUPLY_AMOUNT
				, T1.PAY_VAT
				, T1.INSTLMT_INTR
				, T1.INSTLMT_INTR_SUPLY_AMOUNT
				, T1.INSTLMT_INTR_VAT
				, T1.ARRRG_AMOUNT
				, T1.PREPAY_DSCNT_AMOUNT
				, T1.PAY_TMLMT
				, T1.PAY_STDR_DE
				, T1.NHT_OUTPT_DE
				, T1.PAYMTHD
				, T1.BANK_CODE
				, T1.OCR_NO
				, T1.MDAT_DE
				, T1.OPETR_ID
				, T1.LEV_DECSN_NO
				, T1.RM
				, T1.USE_AT
				, T1.RCIV_DECSN_NO
				, T1.LTTOT_RENT_SE
				, T1.TMPR_RCIV_DE
				, T1.TMPR_RCIV_AMOUNT
				, T1.RDCAMT_AMOUNT
				, T1.ARRRG_DSCNT_SE
				, T1.ARRRG_DSCNT_AMOUNT
				, T1.ARRRG_DSCNT_SUPLY_AMOUNT
				, T1.ARRRG_DSCNT_VAT
				, T1.ARRRG_DSCNT_DAYCNT
				, T1.ARRRG_DSCNT_INTRT
				, T1.RCIV_DE
				, T2.RCIV_AMOUNT AS R_RCIV_AMOUNT
				, (NVL(T1.PAYAMT,0) + NVL(T1.INSTLMT_INTR,0)) AS TOT_PAYAMT
				, CASE
					WHEN INSTLMT_SE = '3' THEN
						NVL(T1.PAYAMT,0) + NVL(T1.INSTLMT_INTR,0) + NVL(T1.ARRRG_AMOUNT,0) + NVL(T1.RDCAMT_AMOUNT,0)
					ELSE
						NVL(T1.PAYAMT,0) + NVL(T1.INSTLMT_INTR,0) + NVL(T1.ARRRG_AMOUNT,0) + NVL(T1.PREPAY_DSCNT_AMOUNT,0) + NVL(RDCAMT_AMOUNT,0)
				  END AS PAYAMT_SM
				, CASE 
					WHEN INSTLMT_SE = '3' THEN
						NVL(T1.PAYAMT,0) + NVL(T1.INSTLMT_INTR,0) + NVL(T1.ARRRG_AMOUNT,0) + NVL(T1.RDCAMT_AMOUNT,0) - NVL(T2.RCIV_AMOUNT,0)
					ELSE
						NVL(T1.PAYAMT,0) + NVL(T1.INSTLMT_INTR,0) + NVL(T1.ARRRG_AMOUNT,0) + NVL(T1.PREPAY_DSCNT_AMOUNT,0) + NVL(RDCAMT_AMOUNT,0) - NVL(T2.RCIV_AMOUNT,0)
				  END AS UNCLAMT
				, T2.RCIV_DE AS R_RCIV_DE
				, T2.OPETR_ID
				,T1.RENT_ODR /* 임대 재계약 차수 */
				,T1.RENT_BGNDE /* 임대시작일자 */
				,T1.RENT_ENDDE /* 임대종료일자 */
			  FROM TBSLS_LCNTRCTR_PAY T1
				, TBSLS_LAD_RCIV_PSTMRK T2
			 WHERE 1 = 1
		]]>
			   AND T1.CNTRCTR_NO = T2.CNTRCTR_NO(+)
			   AND T1.PAY_NO = T2.PAY_NO(+)
			<isNotEmpty property="CNTRCTR_NO">
			   AND T1.CNTRCTR_NO = #CNTRCTR_NO#
			</isNotEmpty>
			<isNotEmpty property="LTTOT_RENT_SE">
			   AND T1.LTTOT_RENT_SE = #LTTOT_RENT_SE#
			</isNotEmpty>
			 ORDER BY T1.PAY_CODE, T1.PAY_TMLMT DESC , T1.RENT_ODR -->
			 
			 
			 
			<![CDATA[
			SELECT
				  T1.CNTRCTR_NO
				, T1.PAY_NO
				, T1.RQEST_YM
				, T1.PAY_CODE
				, T1.PAY_ODR
				, T1.PAY_SE
				, T1.INSTLMT_SE
				, T1.PAYAMT
				, T1.PAY_SUPLY_AMOUNT
				, T1.PAY_VAT
				, T1.INSTLMT_INTR
				, T1.INSTLMT_INTR_SUPLY_AMOUNT
				, T1.INSTLMT_INTR_VAT
				, T1.ARRRG_AMOUNT
				, T1.PREPAY_DSCNT_AMOUNT
				, T1.PAY_TMLMT
				, T1.PAY_STDR_DE
				, T1.NHT_OUTPT_DE
				, T1.PAYMTHD
				, T1.BANK_CODE
				, T1.OCR_NO
				, T1.MDAT_DE
				, T1.OPETR_ID
				, T1.LEV_DECSN_NO
				, T1.RM
				, T1.USE_AT
				, T1.RCIV_DECSN_NO
				, T1.LTTOT_RENT_SE
				, T1.TMPR_RCIV_DE
				, T1.TMPR_RCIV_AMOUNT
				, T1.RDCAMT_AMOUNT
				, T1.ARRRG_DSCNT_SE
				, T1.ARRRG_DSCNT_AMOUNT
				, T1.ARRRG_DSCNT_SUPLY_AMOUNT
				, T1.ARRRG_DSCNT_VAT
				, T1.ARRRG_DSCNT_DAYCNT
				, T1.ARRRG_DSCNT_INTRT
				, T1.RCIV_DE
				, T2.RCIV_AMOUNT AS R_RCIV_AMOUNT
				, (NVL(T1.PAYAMT,0) + NVL(T1.INSTLMT_INTR,0)) AS TOT_PAYAMT
				, (NVL(T1.PAYAMT,0) + NVL(T1.INSTLMT_INTR,0) + NVL(T1.ARRRG_AMOUNT,0) + NVL(T1.PREPAY_DSCNT_AMOUNT,0) + NVL(RDCAMT_AMOUNT,0)) AS PAYAMT_SM
				, CASE WHEN T1.PAY_CODE = 'SE' AND T1.PAYAMT < 0 THEN 0
				           ELSE  (NVL(T1.PAYAMT,0) + NVL(T1.INSTLMT_INTR,0) + NVL(T1.ARRRG_AMOUNT,0) + NVL(T1.PREPAY_DSCNT_AMOUNT,0) + NVL(RDCAMT_AMOUNT,0) - NVL(T2.RCIV_AMOUNT,0)) 
				  END AS UNCLAMT
				, T2.RCIV_DE AS R_RCIV_DE
				, T2.OPETR_ID
				,T1.RENT_ODR /* 임대 재계약 차수 */
				,T1.RENT_BGNDE /* 임대시작일자 */
				,T1.RENT_ENDDE /* 임대종료일자 */
			  FROM TBSLS_LCNTRCTR_PAY T1
				, TBSLS_LAD_RCIV_PSTMRK T2
			 WHERE 1 = 1
		     ]]>
			   AND T1.CNTRCTR_NO = T2.CNTRCTR_NO(+)
			   AND T1.PAY_NO = T2.PAY_NO(+)
			<isNotEmpty property="CNTRCTR_NO">
			   AND T1.CNTRCTR_NO = #CNTRCTR_NO#
			</isNotEmpty>
			<isEmpty property="LTTOT_RENT_SE">
			   AND T1.LTTOT_RENT_SE IN ('S' , 'R')
			</isEmpty>   
			<isNotEmpty property="LTTOT_RENT_SE">
			   AND T1.LTTOT_RENT_SE = #LTTOT_RENT_SE#
			</isNotEmpty>
			 ORDER BY T1.PAY_CODE, T1.PAY_ODR , T1.PAY_TMLMT,  T1.PAY_SE	 			 
	</select>
	
		
	<!-- 쿼리명 : 공유자(tabpage2) 조회
	설명 : 공유자(tabpage2) 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.13	최승락	최초생성
	작성자 : 최승락
	최초작성일 : 2015.10.13
	-->
	<select id="SLS080201DAO.selectCstmrConrList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			WITH
			TAB_01 AS
			(
			SELECT 
				  T1.CNTRCTR_NO
				, T1.COCNR_SN
				, T1.LAD_CSTMR_NO_COCNR
				, T1.COCNR_CNNC_SN     
				, T2.CSTMR_NM
				, SFCOM_DEC_ALL(T2.IHIDNUM) AS IHIDNUM
				, T2.TELNO
				, T2.MBTLNO
				, T2.ZIP
				, T2.ADRES
				, T2.ADRES_DETAIL
				, T2.EMAIL
				, T1.RM
				, T1.BDNBR
				, T1.QOTA
				, T1.RELIS_DE
			  FROM TBSLS_LCNTRCTR_COCNR T1
				, TBSLS_LAD_CSTMR T2
			 WHERE 1 = 1
			   AND T1.LAD_CSTMR_NO_COCNR = T2.LAD_CSTMR_NO
			   AND T1.CNTRCTR_NO = #CNTRCTR_NO#
			)
			, 
			TAB_02 AS
			(
			SELECT 
				  T1.CNTRCTR_NO
				, T1.COCNR_SN AS SLER_COCNR_SN
				, T1.LAD_CSTMR_NO_SLER
				, T1.COCNR_CNNC_SN AS SLER_COCNR_CNNC_SN
				, T2.CSTMR_NM AS SLER_NM
				, SFCOM_DEC_ALL(T2.IHIDNUM) AS SLER_IHIDNUM
				, T2.TELNO AS SLER_TELNO
				, T2.MBTLNO AS SLER_MBTLNO
				, T2.ZIP AS SLER_ZIP
				, T2.ADRES AS SLER_ADRES
				, T2.ADRES_DETAIL AS SLER_ADRES_DETAIL
				, T2.EMAIL AS SLER_EMAIL
				, T1.SLER_RM
				, T1.SLER_BDNBR
				, T1.SLER_QOTA
				, T1.CHANGE_DE 
				, T1.CHGHY
			  FROM TBSLS_LCNTRCTR_COCNR T1
				, TBSLS_LAD_CSTMR T2
			 WHERE 1 = 1
			   AND T1.LAD_CSTMR_NO_SLER = T2.LAD_CSTMR_NO
			   AND T1.CNTRCTR_NO = #CNTRCTR_NO#
			)
			SELECT 
				  A.CNTRCTR_NO
				, A.COCNR_SN
				, A.COCNR_CNNC_SN
				, A.CSTMR_NM
				, A.IHIDNUM
				, A.TELNO
				, A.MBTLNO
				, A.ZIP
				, A.ADRES
				, A.ADRES_DETAIL
				, A.EMAIL
				, A.RM
				, A.BDNBR
				, A.QOTA
				, A.RELIS_DE
				, A.LAD_CSTMR_NO_COCNR
				, B.LAD_CSTMR_NO_SLER
				, B.SLER_COCNR_SN
				, B.SLER_NM
				, B.SLER_IHIDNUM
				, B.SLER_TELNO
				, B.SLER_MBTLNO
				, B.SLER_ZIP
				, B.SLER_ADRES
				, B.SLER_ADRES_DETAIL
				, B.SLER_EMAIL
				, B.SLER_RM
				, B.SLER_BDNBR
				, B.SLER_QOTA
				, B.CHANGE_DE
				, B.CHGHY
			  FROM TAB_01 A
				, TAB_02 B
			 WHERE 1 = 1
		]]>
			   AND A.CNTRCTR_NO = B.CNTRCTR_NO(+)
			   AND A.COCNR_CNNC_SN = B.SLER_COCNR_CNNC_SN(+)
			<isNotEmpty property="CNTRCTR_NO">
			   AND A.CNTRCTR_NO = #CNTRCTR_NO#
			</isNotEmpty>
			   AND A.COCNR_SN = B.SLER_COCNR_SN(+)
	</select>
	
	<!-- 쿼리명 : 사업자(tabpage3) 조회
	설명 : 사업자(tabpage3) 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.10	최승락	최초생성
	작성자 : 최승락
	최초작성일 : 2015.10.10
	-->
	<select id="SLS080201DAO.selectLcntrctrBsnmList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			SELECT
				  T1.CNTRCTR_NO
				, T1.LAD_CSTMR_NO
				, T1.BSNM_SN
				, T1.BIZRNO
				, T1.MTLTY_NM
				, T2.CSTMR_NM
				, SFCOM_DEC_ALL(T2.IHIDNUM) AS IHIDNUM
				, T1.BIZCND
				, T1.INDUTY
				, T1.BDNBR
				, T1.USE_AT
				, T1.RM
				, T2.ZIP
				, T2.ADRES
				, T2.ADRES_DETAIL
			  FROM TBSLS_LCNTRCTR_BSNM T1
				, TBSLS_LAD_CSTMR T2
			 WHERE 1 = 1
		]]>
			   AND T1.LAD_CSTMR_NO = T2.LAD_CSTMR_NO
			<isNotEmpty property="CNTRCTR_NO">
			   AND T1.CNTRCTR_NO = #CNTRCTR_NO#
			</isNotEmpty>
	</select>
	
	
	<!-- 쿼리명 : 기타정보(tabpage4) 조회
	설명 : 기타정보(tabpage4) 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.10	최승락	최초생성
	작성자 : 최승락
	최초작성일 : 2015.10.10
	-->
	<select id="SLS080201DAO.selectLcntrctrEtcInfo" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			SELECT
				  CNTRCTR_NO
				, OWNSHIP_BEFORE_DE
				, OWNSHIP_RPRSNTV_NM
				, OWNSHIP_LNDCGR
				, REPRCHS_SPCCNTR_RELIS_DE
				, REPRCHS_RGHPSN
				, REPRCHS_RGIST_DE
				, REPRCHS_RGIST_NO
				, REPRCHS_ADRES
				, REPRCHS_RPRSNTV_NM
				, USE_CONFM_ISSU_DE
				, USE_CONFM_ISSU_PRPOS
			  FROM TBSLS_LCNTRCTR_ETC_INFO
			 WHERE 1 = 1
		]]>
			<isNotEmpty property="CNTRCTR_NO">
			   AND CNTRCTR_NO = #CNTRCTR_NO#
			</isNotEmpty>
	</select>
	
	<!-- 쿼리명 : 토지상세정보 조회
	설명 : 토지상세정보 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.10	최승락	SQL 수정
	작성자 : 최승락
	최초작성일 : 2015.10.10
	-->
	<select id="SLS080201DAO.selectLadInfo" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
		SELECT
			  LAD_CODE
			, BLCK
			, LOT
			, LOT_TY
			, LAD_SE
			, LOCPLC_ZIP
			, LOCPLC_BASS_ADRES
			, LOCPLC_DETAIL_ADRES
			, LOCPLC_ZIP_LNM
			, LOCPLC_BASS_ADRES_LNM
			, LOCPLC_DETAIL_ADRES_LNM
			, PRPOS_SE
			, CLASSIFICATION_SE
			, CNTNT_SE
			, BGNN_AR
			, BGNN_UNTPC
			, BGNN_AMOUNT
			, DCSN_AR
			, DCSN_UNTPC
			, nvl(DCSN_AMOUNT,0) DCSN_AMOUNT
			, REMVL_FLFL_GTN
			, RENT_GTN
			, FYER_RNTCHRG
			, ATCH_FLPTH
			, ATCH_FILE
			, RM
			, REMNDR_LAD_SE
			, SUPLY_CODE
			, CNTRCT_STTUS
			, BDNBR
			, ALL_AR
			, REAL_BLCK
            , REAL_LOT
            , REAL_LOT_TY
		  FROM TBSLS_LAD_DETAIL_INFO
		 WHERE 1 = 1
		]]>
		<isNotEmpty property="LAD_CODE">
		   AND LAD_CODE = #LAD_CODE#
		</isNotEmpty>
		<isNotEmpty property="BLCK">
		   AND BLCK = #BLCK#
		</isNotEmpty>
		<isNotEmpty property="LOT">
		   AND LOT = #LOT#
		</isNotEmpty>
		<isNotEmpty property="LOT_TY">
		   AND LOT_TY = #LOT_TY#
		</isNotEmpty>
	</select>
	

	<!-- 쿼리명 : 가상계좌(tabpage5) 조회
	설명 : 가상계좌(tabpage5) 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.10	최승락	SQL 수정
	작성자 : 최승락
	최초작성일 : 2015.10.10
	-->
	<select id="SLS080201DAO.selectVirtlAcnutList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			SELECT 
				  '0' AS CHK
				, BANK_CD
				, VACCT_NO
				, STAT_CD
				, NVL(OPT1,'0') AS OPT1 /* 입대료지정계좌 */
				, NVL(OPT2,'0') AS OPT2 /* 보증금지정계좌 */
				, NVL(OPT3,'0') AS OPT3 /* 주거급여전용계좌 */
				, LAST_ENTRY
				, LAST_DATE
			  FROM VA_MAST
			 WHERE 1 = 1
		]]>
			<isNotEmpty property="CNTRCTR_NO">
			   AND CUST_CD = #CNTRCTR_NO#
			</isNotEmpty>
	</select>
	
	
	<!-- 쿼리명 : 약정정보 조회
	설명 : 약정정보 조회 쿼리
	수정일  		수정자  	수정내용
	2015.12.17	최승락	최초작성
	작성자 : 최승락
	최초작성일 : 2015.12.17
	-->
	<select id="SLS080201DAO.selectLcntrctrPayPopList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			SELECT
				  '0' AS CHK
				, T1.CNTRCTR_NO
				, T1.PAY_NO
				, T1.RQEST_YM
				, T1.PAY_CODE
				, T1.PAY_ODR
				, T1.PAY_SE
				, T1.INSTLMT_SE
				, T1.PAYAMT
				, T1.PAY_SUPLY_AMOUNT
				, T1.PAY_VAT
				, T1.INSTLMT_INTR
				, T1.INSTLMT_INTR_SUPLY_AMOUNT
				, T1.INSTLMT_INTR_VAT
				, T1.ARRRG_AMOUNT
				, T1.PREPAY_DSCNT_AMOUNT
				, T1.PAY_TMLMT
				, T1.PAY_STDR_DE
				, T1.NHT_OUTPT_DE
				, T1.PAYMTHD
				, T1.BANK_CODE
				, T1.OCR_NO
				, T1.MDAT_DE
				, T1.OPETR_ID
				, T1.LEV_DECSN_NO
				, T1.RM
				, T1.USE_AT
				, T1.RCIV_DECSN_NO
				, T1.LTTOT_RENT_SE
				, T1.TMPR_RCIV_DE
				, T1.TMPR_RCIV_AMOUNT
				, T1.RDCAMT_AMOUNT
				, T1.ARRRG_DSCNT_SE
				, T1.ARRRG_DSCNT_AMOUNT
				, T1.ARRRG_DSCNT_SUPLY_AMOUNT
				, T1.ARRRG_DSCNT_VAT
				, T1.ARRRG_DSCNT_DAYCNT
				, T1.ARRRG_DSCNT_INTRT
				, T1.RCIV_DE
				, CASE
					WHEN T1.INSTLMT_SE = '3' THEN
						(NVL(T1.PAYAMT, 0) + NVL(T1.INSTLMT_INTR, 0) + NVL(T1.ARRRG_AMOUNT, 0) + NVL(T1.RDCAMT_AMOUNT, 0))
					ELSE
						(NVL(T1.PAYAMT, 0) + NVL(T1.INSTLMT_INTR, 0) + NVL(T1.ARRRG_AMOUNT, 0) + NVL(T1.PREPAY_DSCNT_AMOUNT, 0) + NVL(T1.RDCAMT_AMOUNT, 0))
				  END AS PAYAMT_SM
				, CASE
					WHEN T1.INSTLMT_SE = '3' THEN
						(NVL(T1.PAYAMT, 0) + NVL(T1.INSTLMT_INTR, 0) + NVL(T1.ARRRG_AMOUNT, 0) + NVL(T1.PREPAY_DSCNT_AMOUNT, 0) + NVL(T1.RDCAMT_AMOUNT, 0) - NVL(T2.RCIV_AMOUNT, 0))
					ELSE
						(NVL(T1.PAYAMT, 0) + NVL(T1.INSTLMT_INTR, 0) + NVL(T1.ARRRG_AMOUNT, 0) + NVL(T1.PREPAY_DSCNT_AMOUNT, 0) + NVL(T1.RDCAMT_AMOUNT, 0) - NVL(T2.RCIV_AMOUNT, 0))
				  END AS UNCLAMT
				, T2.RCIV_AMOUNT AS R_RCIV_AMOUNT
				, T2.RCIV_DE AS R_RCIV_DE
				, T2.PAYMTHD AS R_RCIV_MTH
				, T2.BANK_CODE AS R_BANK_CODE
				, T2.OCR_NO AS R_OCR_NO
				, T2.OPETR_ID AS R_OPETR_ID
				
				,T1.RENT_ODR /* 임대 재계약 차수 */
				,T1.RENT_BGNDE /* 임대시작일자 */
				,T1.RENT_ENDDE /* 임대종료일자 */
			  FROM TBSLS_LCNTRCTR_PAY T1
				, TBSLS_LAD_RCIV_PSTMRK T2
			 WHERE 1 = 1
		]]>
			  AND T1.CNTRCTR_NO = T2.CNTRCTR_NO(+)
			  AND T1.PAY_NO = T2.PAY_NO(+)
			<isNotEmpty property="CNTRCTR_NO">
			  AND T1.CNTRCTR_NO = #CNTRCTR_NO#
			</isNotEmpty>
			<isNotEmpty property="PAY_CODE">
			  AND T1.PAY_CODE = 'HC'
			</isNotEmpty>
			<isNotEmpty property="LTTOT_RENT_SE">
				<isEqual property="LTTOT_RENT_SE" compareValue="S">
					AND T1.PAY_CODE != 'RN'
					AND T1.LTTOT_RENT_SE = 'S'
				</isEqual>
				<isEqual property="LTTOT_RENT_SE" compareValue="R">
					AND T1.PAY_CODE = 'RN'
					AND T1.LTTOT_RENT_SE = 'R'
				</isEqual>
			</isNotEmpty>
			<isNotEmpty property="PAY_NO">
			  AND T1.PAY_NO like '%'||#PAY_NO#||'%'
			</isNotEmpty>
			 ORDER BY T1.PAY_CODE, T1.PAY_ODR , T1.PAY_TMLMT,  T1.PAY_SE
	</select>
	
	
	<!-- 쿼리명 : 납부정보 입력
	설명 : 납부정보 입력 쿼리
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.18
	-->
	<insert id="SLS080201DAO.insertLcntrctrPayPopList" parameterClass="java.util.Map">
		INSERT INTO TBSLS_LCNTRCTR_PAY
		(
			  CNTRCTR_NO
			, PAY_NO
			, RQEST_YM
			, PAY_CODE
			, PAY_ODR
			, PAY_SE
			, INSTLMT_SE
			, PAYAMT
			, PAY_SUPLY_AMOUNT
			, PAY_VAT
			, INSTLMT_INTR
			, INSTLMT_INTR_SUPLY_AMOUNT
			, INSTLMT_INTR_VAT
			, ARRRG_AMOUNT
			, PREPAY_DSCNT_AMOUNT
			, PAY_TMLMT
			, PAY_STDR_DE
			, NHT_OUTPT_DE
			, PAYMTHD
			, BANK_CODE
			, OCR_NO
			, MDAT_DE
			, OPETR_ID
			, LEV_DECSN_NO
			, RM
			, USE_AT
			, RCIV_DECSN_NO
			, LTTOT_RENT_SE
			, TMPR_RCIV_DE
			, TMPR_RCIV_AMOUNT
			, RDCAMT_AMOUNT
			, ARRRG_DSCNT_SE
			, ARRRG_DSCNT_AMOUNT
			, ARRRG_DSCNT_SUPLY_AMOUNT
			, ARRRG_DSCNT_VAT
			, ARRRG_DSCNT_DAYCNT
			, ARRRG_DSCNT_INTRT
			, RCIV_DE
			, REGISTER_ID
			, REGIST_DT
			, UPDUSR_ID
			, UPDT_DT
			
			,RENT_ODR /* 임대 재계약 차수 */
			,RENT_BGNDE /* 임대시작일자 */
			,RENT_ENDDE /* 임대종료일자 */
			
		) VALUES (
			  #CNTRCTR_NO#
			, #PAY_NO#
			, #RQEST_YM#
			, #PAY_CODE#
			, #PAY_ODR#
			, #PAY_SE#
			, #INSTLMT_SE#
			, #PAYAMT#
			, #PAY_SUPLY_AMOUNT#
			, #PAY_VAT#
			, #INSTLMT_INTR#
			, #INSTLMT_INTR# - SFSLS_LAD_VAT_CAL(#INSTLMT_INTR#)
			, SFSLS_LAD_VAT_CAL(#INSTLMT_INTR#)
			, #ARRRG_AMOUNT#
			, #PREPAY_DSCNT_AMOUNT#
			, #PAY_TMLMT#
			, #PAY_STDR_DE#
			, #NHT_OUTPT_DE#
			, #PAYMTHD#
			, #BANK_CODE#
			, #OCR_NO#
			, #MDAT_DE#
			, #OPETR_ID#
			, #LEV_DECSN_NO#
			, #RM#
			, '0'
			, #RCIV_DECSN_NO#
			, #LTTOT_RENT_SE#
			, #TMPR_RCIV_DE#
			, #TMPR_RCIV_AMOUNT#
			, #RDCAMT_AMOUNT#
			, #ARRRG_DSCNT_SE#
			, #ARRRG_DSCNT_AMOUNT#
			, #ARRRG_DSCNT_SUPLY_AMOUNT#
			, #ARRRG_DSCNT_VAT#
			, #ARRRG_DSCNT_DAYCNT#
			, #ARRRG_DSCNT_INTRT#
			, #RCIV_DE#
			, #S_USER_ID#
			, SYSDATE
			, #S_USER_ID#
			, SYSDATE
			
			,NVL(#RENT_ODR#,0) /* 임대 재계약 차수 */
			,#RENT_BGNDE# /* 임대시작일자 */
			,#RENT_ENDDE# /* 임대종료일자 */

		)
	</insert>
	
	

	
	


	<!-- 쿼리명 : 납부정보 수정
	설명 : 납부정보 수정 쿼리
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.20
	-->
	<update id="SLS080201DAO.updateLcntrctrPayPopList" parameterClass="java.util.Map">
		UPDATE TBSLS_LCNTRCTR_PAY
		   SET
			  RQEST_YM = #RQEST_YM#
			, PAY_CODE = #PAY_CODE#
			, PAY_ODR = #PAY_ODR#
			, PAY_SE = #PAY_SE#
			, INSTLMT_SE = #INSTLMT_SE#
			, PAYAMT = #PAYAMT#
			, PAY_SUPLY_AMOUNT = #PAY_SUPLY_AMOUNT#
			, PAY_VAT = #PAY_VAT#
			, INSTLMT_INTR = #INSTLMT_INTR#
			, INSTLMT_INTR_SUPLY_AMOUNT= (#INSTLMT_INTR# - SFSLS_LAD_VAT_CAL(#INSTLMT_INTR#))
			, INSTLMT_INTR_VAT = SFSLS_LAD_VAT_CAL(#INSTLMT_INTR#)
			, ARRRG_AMOUNT = #ARRRG_AMOUNT#
			, PREPAY_DSCNT_AMOUNT = #PREPAY_DSCNT_AMOUNT#
			, PAY_TMLMT = #PAY_TMLMT#
			, PAY_STDR_DE = #PAY_STDR_DE#
			, NHT_OUTPT_DE = #NHT_OUTPT_DE#
			, PAYMTHD = #PAYMTHD#
			, BANK_CODE = #BANK_CODE#
			, OCR_NO = #OCR_NO#
			, MDAT_DE = #MDAT_DE#
			, OPETR_ID = #OPETR_ID#
			, LEV_DECSN_NO = #LEV_DECSN_NO#
			, RM = #RM#
			, USE_AT = #USE_AT#
			, RCIV_DECSN_NO = #RCIV_DECSN_NO#
			, LTTOT_RENT_SE = #LTTOT_RENT_SE#
			, TMPR_RCIV_DE = #TMPR_RCIV_DE#
			, TMPR_RCIV_AMOUNT = #TMPR_RCIV_AMOUNT#
			, RDCAMT_AMOUNT = #RDCAMT_AMOUNT#
			, ARRRG_DSCNT_SE = #ARRRG_DSCNT_SE#
			, ARRRG_DSCNT_AMOUNT = #ARRRG_DSCNT_AMOUNT#
			, ARRRG_DSCNT_SUPLY_AMOUNT = #ARRRG_DSCNT_SUPLY_AMOUNT#
			, ARRRG_DSCNT_VAT = #ARRRG_DSCNT_VAT#
			, ARRRG_DSCNT_DAYCNT = #ARRRG_DSCNT_DAYCNT#
			, ARRRG_DSCNT_INTRT = #ARRRG_DSCNT_INTRT#
			, RCIV_DE = #RCIV_DE#
			, UPDUSR_ID = #S_USER_ID#
			, UPDT_DT = SYSDATE
			, RENT_BGNDE = #RENT_BGNDE# /* 임대시작일자 */
			, RENT_ENDDE = #RENT_ENDDE# /* 임대종료일자 */			
		 WHERE 1 = 1
		   AND CNTRCTR_NO = #CNTRCTR_NO#
		   AND PAY_NO = #PAY_NO#
	</update>
	
	
		
	<!-- 쿼리명 : 기타정보등록
	설명 : 기타정보 등록 쿼리
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.18
	-->
	<insert id="SLS080201DAO.insertEtcInfo" parameterClass="java.util.Map">
		INSERT INTO TBSLS_LCNTRCTR_ETC_INFO
		(
			  CNTRCTR_NO               /* 계약자번호 */
			, OWNSHIP_BEFORE_DE        /* 소유권이전일자 */
			, OWNSHIP_RPRSNTV_NM       /* 소유권대표자명 */
			, OWNSHIP_LNDCGR           /* 소유권지목 */
			, REPRCHS_SPCCNTR_RELIS_DE /* 환매특약해제일자 */
			, REPRCHS_RGHPSN           /* 환매권리자 */
			, REPRCHS_RGIST_DE         /* 환매등기일자 */
			, REPRCHS_RGIST_NO         /* 환매등기번호 */
			, REPRCHS_ADRES            /* 환매주소 */
			, REPRCHS_RPRSNTV_NM       /* 환매대표자명 */
			, USE_CONFM_ISSU_DE        /* 사용승낙발급일자 */
			, USE_CONFM_ISSU_PRPOS     /* 사용승낙발급용도 */
			, REGISTER_ID              /* 등록자ID */
			, REGIST_DT                /* 등록일시 */
			, UPDUSR_ID                /* 수정자ID */
			, UPDT_DT                  /* 수정일시 */
		) VALUES (
			  #CNTRCTR_NO#
			, #OWNSHIP_BEFORE_DE#
			, #OWNSHIP_RPRSNTV_NM#
			, #OWNSHIP_LNDCGR#
			, #REPRCHS_SPCCNTR_RELIS_DE#
			, #REPRCHS_RGHPSN#
			, #REPRCHS_RGIST_DE#
			, #REPRCHS_RGIST_NO#
			, #REPRCHS_ADRES#
			, #REPRCHS_RPRSNTV_NM#
			, #USE_CONFM_ISSU_DE#
			, #USE_CONFM_ISSU_PRPOS#
			, #S_USER_ID#
			, SYSDATE
			, #S_USER_ID#
			, SYSDATE
		)
	</insert>
	
	
	<!-- 쿼리명 : 기타정보 수정
	설명 : 기타정보 수정 쿼리
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.20
	-->
	<update id="SLS080201DAO.updateEtcInfo" parameterClass="java.util.Map">
		UPDATE TBSLS_LCNTRCTR_ETC_INFO
		   SET
			  OWNSHIP_BEFORE_DE = #OWNSHIP_BEFORE_DE#
			, OWNSHIP_RPRSNTV_NM = #OWNSHIP_RPRSNTV_NM#
			, OWNSHIP_LNDCGR = #OWNSHIP_LNDCGR#
			, REPRCHS_SPCCNTR_RELIS_DE = #REPRCHS_SPCCNTR_RELIS_DE#
			, REPRCHS_RGHPSN = #REPRCHS_RGHPSN#
			, REPRCHS_RGIST_DE = #REPRCHS_RGIST_DE#
			, REPRCHS_RGIST_NO = #REPRCHS_RGIST_NO#
			, REPRCHS_ADRES = #REPRCHS_ADRES#
			, REPRCHS_RPRSNTV_NM = #REPRCHS_RPRSNTV_NM#
			, USE_CONFM_ISSU_DE = #USE_CONFM_ISSU_DE#
			, USE_CONFM_ISSU_PRPOS = #USE_CONFM_ISSU_PRPOS#
			, UPDUSR_ID = #S_USER_ID#
			, UPDT_DT = SYSDATE
		 WHERE 1 = 1
		   AND CNTRCTR_NO = #CNTRCTR_NO#
	</update>
	
	
	
	
	


	<!-- 쿼리명 : 납부정보 삭제
	설명 : 납부정보 삭제 쿼리
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.20
	-->
	<delete id="SLS080201DAO.deleteLcntrctrPayPopList" parameterClass="java.util.Map">
		DELETE
		  FROM TBSLS_LCNTRCTR_PAY
		 WHERE 1 = 1
		   AND CNTRCTR_NO = #CNTRCTR_NO#
		   AND PAY_NO = #PAY_NO#
	</delete>

	<!-- 쿼리명 : 납부코드 조회
	설명 : 납부코드 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.12	최승락	최초작성
	작성자 : 최승락
	최초작성일 : 2015.10.12
	-->
	<select id="SLS080201DAO.selectLadPayCodeList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			SELECT
				  CODE
				, GRP_CODE_SN
				, CODE_NM
				, '['||CODE||']'||CODE_NM AS ALL_CODE_NM
				, GRP_CODE
				, OLD_GRP_CODE
				, CODE_CN
				, CODE_ORDR
				, CHRCTR_PREPAR_VALUE_0
				, CHRCTR_PREPAR_VALUE_1
				, CHRCTR_PREPAR_VALUE_2
				, CHRCTR_PREPAR_VALUE_3
				, CHRCTR_PREPAR_VALUE_4
				, INTGR_PREPAR_VALUE
				, MSTK_PREPAR_VALUE
				, CODE_ETC_1
				, CODE_ETC_2
				, CODE_ETC_3
				, USE_AT
			  FROM TBCOM_CMMN_CODE
			 WHERE 1 = 1
		]]>
			<isNotEmpty property="GRP_CODE">
			   AND GRP_CODE = #GRP_CODE#
			</isNotEmpty>

			<isNotEmpty property="CHRCTR_PREPAR_VALUE_1">
	           <iterate property="CHRCTR_PREPAR_VALUE_1" open="AND CHRCTR_PREPAR_VALUE_1 IN (" close=") " conjunction=",">
	           #CHRCTR_PREPAR_VALUE_1[]#
	           </iterate>
	         </isNotEmpty>
			
			<isNotEmpty property="USE_AT">
			   AND USE_AT = #USE_AT#
			</isNotEmpty>
			 <!--  AND CODE != 'RN' -->
			 ORDER BY CODE_ORDR
	</select>
	
	
	<!-- 쿼리명 : 당초금액 조회
	설명 : 당초금액 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.13	최승락	최초작성
	작성자 : 최승락
	최초작성일 : 2015.10.13
	-->
	<select id="SLS080201DAO.selectLadDetailInfoForBgnnAmount" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			SELECT (case when nvl(DCSN_AMOUNT,0) = 0 then BGNN_AMOUNT else nvl(DCSN_AMOUNT,0) end) AS BGNN_AMOUNT
			  FROM TBSLS_LAD_DETAIL_INFO
			 WHERE 1 = 1
		]]>
			<isNotEmpty property="LAD_CODE">
			   AND LAD_CODE = #LAD_CODE#
			</isNotEmpty>
			<isNotEmpty property="BLCK">
			   AND BLCK = #BLCK#
			</isNotEmpty>
			<isNotEmpty property="LOT">
			   AND LOT = #LOT#
			</isNotEmpty>
			<isNotEmpty property="LOT_TY">
			   AND LOT_TY = #LOT_TY#
			</isNotEmpty>
	</select>
	
	
	<!-- 쿼리명 : 납부비율 조회
	설명 : 납부비율 조회 쿼리
	수정일  		수정자  	수정내용
	2015.12.16	최승락	최초작성
	작성자 : 최승락
	최초작성일 : 2015.12.16
	-->
	<select id="SLS080201DAO.selectLadPayStdrList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			SELECT 
                  #CNTRCTR_NO# AS CNTRCTR_NO
                , T1.PAY_CODE
                , T1.PAY_TMLMT
                , T1.PAY_RATE
                , SFCOM_CODE_NM(#GRP_CODE#, T1.PRPOS_SE) AS SFCOM_CODE_NM
              FROM TBSLS_LAD_PAY_RATE T1
                , TBCOM_CMMN_CODE T2
             WHERE 1 = 1
               AND T1.PAY_CODE = T2.CODE
               AND T1.LAD_CODE = #LAD_CODE#
               AND T2.GRP_CODE = #GRP_CODE#
               AND T1.PRPOS_SE = #PRPOS_SE#
               AND T1.SUPLY_SE = #SUPLY_SE#
             ORDER BY T2.CODE_ORDR

		]]>
	</select>
	
	
	<!-- 부가세 계산 -->
	<select id="SLS080201DAO.selectPayVat" parameterClass="java.util.HashMap" resultClass="String">
		SELECT SFSLS_LAD_VAT_CAL(#PAYAMT#)
  		  FROM DUAL
	</select>

	<!-- 쿼리명 : 납부번호 앞자리(1자리)
	설명 : 납부번호 앞자리(1자리) 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.12	최승락	최초작성
	작성자 : 최승락
	최초작성일 : 2015.10.12
	-->
	<select id="SLS080201DAO.selectPayNumHead" parameterClass="java.util.HashMap" resultClass="String">
		SELECT CHRCTR_PREPAR_VALUE_0
		  FROM TBCOM_CMMN_CODE
		 WHERE 1 = 1
		   AND GRP_CODE = 'LAD0A1'
		   AND CODE = #PAY_CODE#
	</select>
	
	<!-- 쿼리명 : 납부번호 뒷자리(4자리)
	설명 : 납부번호 앞자리(4자리) 조회 쿼리
	수정일  		수정자  	수정내용
	2015.10.12	최승락	최초작성
	작성자 : 최승락
	최초작성일 : 2015.10.12
	-->
	<select id="SLS080201DAO.selectPayNumTail" parameterClass="java.util.HashMap" resultClass="String">
		SELECT LPAD(NVL(MAX(SUBSTR(PAY_NO, 2, 3) + 1), 1), 3, '0')||'0'
		  FROM TBSLS_LCNTRCTR_PAY
		 WHERE 1 = 1
		   AND CNTRCTR_NO = #CNTRCTR_NO#
		   AND PAY_NO LIKE #PAY_NO_HEAD#||'%'
	</select>
	
	<!-- 쿼리명 : 분납 납부번호 생성 
	설명 : 분납 납부번호 생성 쿼리
	수정일  		수정자  	수정내용
	2015.12.23	최승락	최초작성
	작성자 : 최승락
	최초작성일 : 2015.12.23
	-->	
	<select id="SLS080201DAO.selectInspyPayNo" parameterClass="java.util.HashMap" resultClass="String">
		SELECT SUBSTR(#PAY_NO#, 1, 4) || TO_CHAR( NVL( MAX( SUBSTR( PAY_NO , 5, 1 ) ) + 1, 1 ) )
		  FROM TBSLS_LCNTRCTR_PAY
		 WHERE 1 = 1
		   AND CNTRCTR_NO = #CNTRCTR_NO#
		   AND PAY_NO LIKE SUBSTR(#PAY_NO#, 1, 4) || '%'
	</select>
	
	
	<!-- 쿼리명 : 납부금액계산 및 적용
	설명 : 납부금액계산 및 적용 쿼리
	수정일  		수정자  	수정내용
	2015.12.26	최승락	최초작성
	작성자 : 최승락
	최초작성일 : 2015.12.26
	-->
	<select id="SLS080201DAO.selectLttotInspyIntrInfo" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		SELECT SFSLS_LAD_INSTALLMENT(#SE#, #LAD_CODE#, #TO_DAY#, #PAY_TMLMT#, #PAYAMT#, #CNTRCTR_NO#, #CAL_SE#) AS PAYAMT
		  FROM DUAL
	</select>	
	
	
	
	<!-- 쿼리명 : 토지고객 공유자 수정
	설명 : 토지고객 공유자 수정
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.20
	-->
	<update id="SLS080201DAO.saveCocnr" parameterClass="java.util.Map">
		UPDATE 
           TBSLS_LCNTRCTR_COCNR
       SET  
            LAD_CSTMR_NO_COCNR = #LAD_CSTMR_NO_COCNR#
           ,RM = #RM#
           ,BDNBR = #BDNBR#
           ,QOTA = #QOTA#
           ,RELIS_DE = #RELIS_DE#
       WHERE 1=1 
            AND CNTRCTR_NO = #CNTRCTR_NO#
            AND COCNR_SN = #COCNR_SN#    
	</update>
	
	<!-- 쿼리명 : 토지고객 개인정보 수정
	설명 : 토지고객 공유자 개인정보 수정
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.20
	-->
	<update id="SLS080201DAO.saveCocnr2" parameterClass="java.util.Map">
		UPDATE 
           TBSLS_LAD_CSTMR
       SET 
            CSTMR_NM = #CSTMR_NM#
           ,IHIDNUM = SFCOM_ENC_ALL(#IHIDNUM#)
           ,TELNO = #TELNO#
           ,MBTLNO = #MBTLNO#
           ,ZIP = #ZIP#
           ,ADRES = #ADRES#
           ,ADRES_DETAIL = #ADRES_DETAIL#
           ,EMAIL = #EMAIL#
       WHERE 1=1 
            AND LAD_CSTMR_NO = #LAD_CSTMR_NO#
	</update>
	
	
	
	<!-- 쿼리명 : 토지고객 공유자 수정
	설명 : 토지고객 매도자 수정
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.20
	-->
	<update id="SLS080201DAO.saveCocnrSler" parameterClass="java.util.Map">
		UPDATE 
           TBSLS_LCNTRCTR_COCNR
       SET 
            LAD_CSTMR_NO_SLER = #LAD_CSTMR_NO_SLER#
           ,SLER_RM = #SLER_RM#
           ,SLER_BDNBR = #SLER_BDNBR#
           ,SLER_QOTA = #SLER_QOTA#
           ,CHANGE_DE = #CHANGE_DE#
           ,CHGHY = #CHGHY#
       WHERE 1=1 
            AND CNTRCTR_NO = #CNTRCTR_NO#
            AND COCNR_SN = #COCNR_SN#    
	</update>
	
	<!-- 쿼리명 : 토지고객 매도자 수정
	설명 : 토지고객 매도자 개인정보 수정
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.20
	-->
	<update id="SLS080201DAO.saveCocnrSler2" parameterClass="java.util.Map">
		UPDATE 
           TBSLS_LAD_CSTMR
       SET 
            CSTMR_NM = #SLER_NM#
           ,IHIDNUM = SFCOM_ENC_ALL(#SLER_IHIDNUM#)
           ,TELNO = #SLER_TELNO#
           ,MBTLNO = #SLER_MBTLNO#
           ,ZIP = #SLER_ZIP#
           ,ADRES = #SLER_ADRES#
           ,ADRES_DETAIL = #SLER_ADRES_DETAIL#
           ,EMAIL = #SLER_EMAIL#
       WHERE 1=1 
            AND LAD_CSTMR_NO = #LAD_CSTMR_NO_SLER#
	</update>
	
	<!-- 쿼리명 : 토지공유자,매도자 정보 입력
	설명 : 토지공유자 정보 쿼리
	수정일  수정자  수정내용	
	작성자 : 변승우
	최초작성일 : 2015.10.12
	-->
		<insert id="SLS080201DAO.insertLcntrctrCocnr" parameterClass="java.util.HashMap">
		INSERT INTO TBSLS_LCNTRCTR_COCNR
		(
			 CNTRCTR_NO										
			,COCNR_SN            								
			,LAD_CSTMR_NO_COCNR       					
			,LAD_CSTMR_NO_SLER
			,BDNBR       										
			,QOTA         										
			,RM  												
			,RELIS_DE         									
			,COCNR_CNNC_SN		
			,CHANGE_DE
			,CHGHY
			,SLER_BDNBR
			,SLER_QOTA
			,SLER_RM						
			,REGISTER_ID											
			,REGIST_DT											
			,UPDUSR_ID											
			,UPDT_DT												
		) 		
		VALUES 
		(
			#CNTRCTR_NO#								
			,SQ_TBSLS_LCNTRCTR_COCNR_1.NEXTVAL	
			,#LAD_CSTMR_NO_COCNR#						
			,#LAD_CSTMR_NO_SLER#                   
			,#BDNBR#   											
			,#QOTA#         									
			,#RM#  											
			,#RELIS_DE#         										
			,(SELECT DECODE(MAX(COCNR_CNNC_SN), NULL, 1, MAX(COCNR_CNNC_SN)+1) FROM TBSLS_LCNTRCTR_COCNR)		
			,#CHANGE_DE#
			,#CHGHY#
			,#SLER_BDNBR#
			,#SLER_QOTA#
			,#SLER_RM#	
			,#S_USER_ID#								
			,SYSDATE										
			,#S_USER_ID#										
			,SYSDATE 										
		)
	</insert>
	
	
	<!-- 쿼리명 : 토지고객 번호 Max값
	설명 : 토지고객 번호 Max값 가져오기
	수정일  		수정자  	수정내용
	2015.12.23	최승락	최초작성
	작성자 : 최승락
	최초작성일 : 2015.12.23
	-->	
	<select id="SLS080201DAO.selectMaxCstmrNo" parameterClass="java.util.HashMap" resultClass="String">
		select SQ_TBSLS_LAD_CSTMR_1.CURRVAL as MAX_CSTMR_NO from dual
	</select>
	
	
	<select id="SLS080201DAO.selectMaxCocnrSnNo" parameterClass="java.util.HashMap" resultClass="String">
		select MAX(COCNR_SN) from TBSLS_LCNTRCTR_COCNR where CNTRCTR_NO = #CNTRCTR_NO#
	</select>



	<!-- 쿼리명 : 토지고객 공유자/매도자 키 삭제
	설명 : 토지고객 공유자/매도자 키 삭제
	수정일  수정자  수정내용
	
	작성자 : 최승락
	최초작성일 : 2015.12.20
	-->
	<delete id="SLS080201DAO.removeCocnr" parameterClass="java.util.Map">
		DELETE 
           FROM TBSLS_LCNTRCTR_COCNR
       WHERE 1=1 
            AND CNTRCTR_NO = #CNTRCTR_NO#
            AND COCNR_SN = #COCNR_SN#    
	</delete>
	
	
	
	<!-- 토지계약자압류 단건 조회  -->
	<select id="SLS080201DAO.selectLcntrctrSeizr" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		
		SELECT '0' AS CHK
				,'SEIZR' AS GBN
		      	,CNTRCTR_NO              
				,SEIZR_SN                
				,CRDTR_NM                
				,CRDTR_ADRES             
				,CRDTR_TELNO             
				,CRDTR_TELNO_2           
				,CDIT_DECSN_DE           
				,CDIT_RCEPT_DE           
				,INCDNT_CN               
				,CDIT_CN                 
				,SEIZR_SE                
				,DET_AMOUNT              
				,RELIS_RCEPT_DE          
				,RELIS_DE                
				,PRCAFS_CHARGER          
				,PRCAFS_CHRG_DEPT        
				,PRCAFS_CHRG_CTTPC       
				,PRCAFS_CHRG_EMAIL       
				,RM
				,SEIZR_ATCHMNFL_COURS                      
				,SEIZR_ATCHMNFL
				,(SELECT F.ORGINL_FILE_NM FROM TBCOM_CMMN_ATCHMNFL F /* 공통첨부파일 */
			      	 WHERE F.FILE_SN = SEIZR_ATCHMNFL AND F.FILE_ORDR = SEIZR_ATCHMNFL_COURS) AS ORGINL_FILE_NM	/* 원본파일명 */
			    ,SEIZR_ATCHMNFL_COURS AS FILE_ORDR                     
				,SEIZR_ATCHMNFL
				,REGISTER_ID             
				,REGIST_DT              
				,UPDUSR_ID               
				,UPDT_DT                
				,FILE_SN          
		  FROM TBSLS_LCNTRCTR_SEIZR /* 토지계약자압류 */
		 WHERE 1 = 1      
		   AND CNTRCTR_NO = #CNTRCTR_NO#
           AND SEIZR_SN = #SEIZR_SN#
	</select>
	
	
	
	<!-- 토지계약자대출 단건 조회  -->
	<select id="SLS080201DAO.selectLcntrctrLon" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		SELECT '0' AS CHK
				,'LON' AS GBN
		      	,CNTRCTR_NO        
				,LON_SN            
				,LON_SE            
				,TRNSFR_DE         
				,CDIT_TRNSFR_AMOUNT
				,CDIT_GRNTE_BANK   
				,BANK_ADRES        
				,RELIS_DE          
				,RM                
				,PRCAFS_CHARGER    
				,PRCAFS_CHRG_DEPT  
				,PRCAFS_CHRG_CTTPC
				,'' AS PRCAFS_CHRG_EMAIL 
				,LON_ATCHMNFL_COURS				
				,LON_ATCHMNFL  
				,(SELECT F.ORGINL_FILE_NM FROM TBCOM_CMMN_ATCHMNFL F /* 공통첨부파일 */
			      	 WHERE TO_CHAR(F.FILE_SN) = LON_ATCHMNFL AND TO_CHAR(F.FILE_ORDR) = LON_ATCHMNFL_COURS) AS ORGINL_FILE_NM	/* 원본파일명 */
			    ,LON_ATCHMNFL_COURS AS FILE_ORDR                     
				,LON_ATCHMNFL
				,REGISTER_ID       
				,REGIST_DT         
				,UPDUSR_ID         
				,UPDT_DT       
				,FILE_SN    
		  FROM TBSLS_LCNTRCTR_LON /* 토지계약자대출 */
		 WHERE 1 = 1      
		   AND CNTRCTR_NO = #CNTRCTR_NO#
           AND LON_SN = #LON_SN#
	</select>
	
	
		
	<!-- 토지계약자압류 Max 일련번호 조회  -->
	<select id="SLS080201DAO.selectMaxSeizrSn" parameterClass="java.util.HashMap" resultClass="String">
		
		SELECT             
				MAX(SEIZR_SN) AS   SEIZR_SN             
      
		  FROM TBSLS_LCNTRCTR_SEIZR /* 토지계약자압류 */
		 WHERE 1 = 1      
		   AND CNTRCTR_NO = #CNTRCTR_NO#
           
	</select>
	
	
	<!-- 주택계약자대출 Max 일련번호 조회  -->
	<select id="SLS080201DAO.selectMaxLonSn" parameterClass="java.util.HashMap" resultClass="String">
		
		SELECT             
				MAX(LON_SN) AS   LON_SN             
      
		  FROM TBSLS_LCNTRCTR_LON /* 토지계약자대출 */
		 WHERE 1 = 1      
		   AND CNTRCTR_NO = #CNTRCTR_NO#
           
	</select>
	
	
	
	
   <!-- 쿼리명 : 압류 첨부파일 삭제
	설명 : 압류 첨부파일 삭제
	수정일  수정자  수정내용
	
	작성자 : 최인석
	최초작성일 : 2016.07.28
	-->	
	<delete id="SLS080201DAO.atchSeizrDelete" parameterClass="java.util.Map">
	 UPDATE TBSLS_LCNTRCTR_SEIZR
	    SET FILE_SN = NULL
	  WHERE 1=1
    	 AND CNTRCTR_NO = #CNTRCTR_NO#	
    	 AND SEIZR_SN = #SEIZR_SN#	
	</delete>



	<!-- 쿼리명 : 대출 첨부파일 삭제
	설명 : 대출 첨부파일 삭제
	수정일  수정자  수정내용
	
	작성자 : 최인석
	최초작성일 : 2016.07.28
	-->	
	<delete id="SLS080201DAO.atchLonDelete" parameterClass="java.util.Map">
	 UPDATE TBSLS_LCNTRCTR_LON
	    SET FILE_SN = NULL
	  WHERE 1=1
    	 AND CNTRCTR_NO = #CNTRCTR_NO#	
    	 AND LON_SN = #LON_SN#	
	</delete>
	
	
	
	<!-- 쿼리명 : 압류 파일정보 수정
	설명 : 압류 파일정보 수정
	수정일  		수정자  	수정내용
	2016.07.28	최인석		최초생성
	작성자 : 최인석
	최초작성일 : 2016.07.28
	-->
    <insert id="SLS080201DAO.atchSeizrCUD" parameterClass="java.util.HashMap">
    	UPDATE /* SLS080201DAO.atchSeizrCUD */
    	       TBSLS_LCNTRCTR_SEIZR  		
    	   SET SEIZR_ATCHMNFL_COURS = #ATCH_FLPTH#	
             , SEIZR_ATCHMNFL = #ATCH_FILE#		
             , FILE_SN = #FILE_SN#			
             , UPDT_DT = SYSDATE			
             , UPDUSR_ID = #S_USER_ID#		
    	 WHERE 1 = 1
    	   AND CNTRCTR_NO = #CNTRCTR_NO#	
    	   AND SEIZR_SN = #SEIZR_SN#	
    </insert>
    
    <!-- 쿼리명 : 대출 파일정보 수정
	설명 : 대출  파일정보 수정
	수정일  		수정자  	수정내용
	2016.07.28	최인석		최초생성
	작성자 : 최인석
	최초작성일 : 2016.07.28
	-->
    <insert id="SLS080201DAO.atchLonCUD" parameterClass="java.util.HashMap">
    	UPDATE /* SLS080201DAO.atchLonCUD */
    	       TBSLS_LCNTRCTR_LON  		
    	   SET LON_ATCHMNFL = #ATCH_FILE#		
             , FILE_SN = #FILE_SN#			
             , UPDT_DT = SYSDATE			
             , UPDUSR_ID = #S_USER_ID#		
    	 WHERE 1 = 1
    	   AND CNTRCTR_NO = #CNTRCTR_NO#	
    	   AND LON_SN = #LON_SN#	
    </insert>
    
	
		   	
</sqlMap>