<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="SLS130201SQL">	


	<!-- 온비드 물건정보 최종 Trans_id 조회 -->
	<select id="SLS130301DAO.selectPlnmRgstTransId" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
         SELECT TRNS_ID,
                 ORG_PLNM_NO
           FROM ONB_IF_PLNM_RGST_I a
           WHERE STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
             AND TRNS_ID = (SELECT MAX(TRNS_ID)
                              FROM ONB_IF_PLNM_RGST_I z
                               WHERE STND_LNK_ORG_NO = #STND_LNK_ORG_NO#) 
             AND ORG_PLNM_NO = (SELECT MAX(ORG_PLNM_NO)
                                  FROM ONB_IF_PLNM_RGST_I z
                                  WHERE TRNS_ID = a.TRNS_ID
                                    AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#)
	</select>
	
	<!-- 온비드 공고정보 조회 -->
	<select id="SLS130301DAO.selectPlnmRgst" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
          SELECT TRNS_ID,
                 STND_LNK_ORG_NO,
                 ORG_PLNM_NO,
                 MSG_ID,
                 PLNM_KIND_CD,
                 PLNM_DT,
                 PLNM_YR,
                 PLNM_SEQ,
                 PRPT_DVSN_CD,
                 AST_DVSN_CD,
                 DPSL_MTD_CD,
                 PLNM_NM,
                 PSCG_NM,
                 PSCG_EMAL_ADRS,
                 RSBY_DEPT,
                 PSCG_TPNO,
                 RGST_USR_NO,
                 RGST_ORG_NO,
                 RGST_DEPT_NO,
                 PTCT_QLFC,
                 PTCT_CMSN,
                 TPLT_WRTG_MTD_VAL,
                 PLNM_DOC,
                 BID_DVSN_CD,
                 BID_MTD_CD,
                 CPTN_MTD_CD,
                 TOT_AMT_UNPC_DVSN_CD,
                 UNPC_QNTY_DVSN_CD,
                 COMN_BID_PMSN_YN,
                 COMN_BID_DOC_SBMT_MTD_CD,
                 ELTR_GRT_DOC_USE_YN,
                 ELTR_GRT_DOC_USE_APLC_RNG_CD,
                 SUBT_BID_PMSN_YN,
                 TWPS_LSTH_USBD_YN,
                 TWPS_LSTH_USBD_APLC_RNG_CD,
                 TWTM_GTHR_BID_PSBL_YN,
                 TDPS_BASC_CD,
                 NEXT_RNK_RQST_PSBL_YN,
                 NEXT_RNK_PRGN_APLC_RNG_CD,
                 PRFB_RQST_PSBL_YN,
                 PRFB_RQST_PSBL_APLC_RNG_CD,
                 BID_AMT_MKPB_YN,
                 ASES_SYS_PRC_RT,
                 ASES_SYS_SCR_RT,
                 ASES_SYS_BID_DCRT,
                 ASES_BEGN_DTM,
                 ASES_END_DTM,
                 OTHR_CLTR_BID_PSBL_YN,
                 BID_PSBL_CLTR_CNT,
                 USE_YN,
                 RGST_DTM,
                 NVL((SELECT PROC_ST FROM TX_TRNS_INFO WHERE TRNS_ID = #TRNS_ID#), 'Z') AS PROC_ST
           FROM ONB_IF_PLNM_RGST_I
           WHERE TRNS_ID = #TRNS_ID#
             AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
             AND ORG_PLNM_NO = #ORG_PLNM_NO#
	</select>
	
		<!-- 온비드 공고 내역 조회 -->
	<select id="SLS130301DAO.selectPlnmRgstList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
          SELECT TRNS_ID,
                 STND_LNK_ORG_NO,
                 ORG_PLNM_NO,
                 MSG_ID,
                 PLNM_KIND_CD,
                 PLNM_DT,
                 PLNM_YR,
                 PLNM_SEQ,
                 PRPT_DVSN_CD,
                 AST_DVSN_CD,
                 DPSL_MTD_CD,
                 PLNM_NM,
                 PSCG_NM,
                 PSCG_EMAL_ADRS,
                 RSBY_DEPT,
                 PSCG_TPNO,
                 RGST_USR_NO,
                 RGST_ORG_NO,
                 RGST_DEPT_NO,
                 PTCT_QLFC,
                 PTCT_CMSN,
                 TPLT_WRTG_MTD_VAL,
                 PLNM_DOC,
                 BID_DVSN_CD,
                 BID_MTD_CD,
                 CPTN_MTD_CD,
                 TOT_AMT_UNPC_DVSN_CD,
                 UNPC_QNTY_DVSN_CD,
                 COMN_BID_PMSN_YN,
                 COMN_BID_DOC_SBMT_MTD_CD,
                 ELTR_GRT_DOC_USE_YN,
                 ELTR_GRT_DOC_USE_APLC_RNG_CD,
                 SUBT_BID_PMSN_YN,
                 TWPS_LSTH_USBD_YN,
                 TWPS_LSTH_USBD_APLC_RNG_CD,
                 TWTM_GTHR_BID_PSBL_YN,
                 TDPS_BASC_CD,
                 NEXT_RNK_RQST_PSBL_YN,
                 NEXT_RNK_PRGN_APLC_RNG_CD,
                 PRFB_RQST_PSBL_YN,
                 PRFB_RQST_PSBL_APLC_RNG_CD,
                 BID_AMT_MKPB_YN,
                 ASES_SYS_PRC_RT,
                 ASES_SYS_SCR_RT,
                 ASES_SYS_BID_DCRT,
                 ASES_BEGN_DTM,
                 ASES_END_DTM,
                 OTHR_CLTR_BID_PSBL_YN,
                 BID_PSBL_CLTR_CNT,
                 USE_YN,
                 RGST_DTM,
                 TO_CHAR(RGST_DTM, 'YYYYMMDD') AS RGST_DT,
                 NVL((SELECT PROC_ST FROM TX_TRNS_INFO WHERE TRNS_ID = a.TRNS_ID), 'Z') AS PROC_ST
           FROM ONB_IF_PLNM_RGST_I a
           WHERE STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
           ORDER BY TRNS_ID DESC
	</select>
	
	<!-- 온비드 물건정보 조회 -->
	<select id="SLS130301DAO.selectOnbCltrRlstRgst" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
          SELECT TRNS_ID,
                STND_LNK_ORG_NO,
                CLTR_MNMT_NO,
                MSG_ID,
                CTGR_ID,
                (SELECT CTGR_NM
                   FROM ONB_IF_CLTR_CTGR_I z
                   WHERE STND_LNK_ORG_NO = a.STND_LNK_ORG_NO
                     AND CTGR_ID = a.CTGR_ID
                     AND TRNS_ID = (SELECT MAX(TRNS_ID)
                                      FROM ONB_IF_CLTR_CTGR_I)) CTGR_NM,
                CLTR_NM || ' / ' || nvl(CLTR_LDNM_ADRS,CLTR_NMRD_ADRS) CLTR_NM ,
                PRPT_DVSN_CD,
                RGST_USR_NO,
                RGST_ORG_NO,
                RGST_DEPT_NO,
                PSCG_NM,
                PSCG_TPNO,
                PSCG_EMAL_ADRS,
                QNTY,
                SRCH_WORD_TAG,
                APSL_ASES_AVG_AMT,
                CLTR_LDNM_ADRS,
                CLTR_NMRD_ADRS,
                DLVR_RSBY,
                ICDL_CDTN,
                ETC_DTL_CNTN,
                BLD_SQMS,
                LAND_SQMS,
                ATCT_IVST_DT,
                POSI_ENV_PSCD,
                UTLZ_PSCD,
                ELVT_YN,
                ESCT_YN,
                PKLT_YN,
                SHR_YN,
                RGST_DTM,
                NVL((SELECT PROC_ST FROM TX_TRNS_INFO WHERE TRNS_ID = a.TRNS_ID), 'Z') AS PROC_ST
           FROM ONB_IF_CLTR_RLST_RGST_I a
          WHERE STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
            AND TRNS_ID IN (SELECT TRNS_ID FROM TX_TRNS_INFO 
                             /*WHERE PROC_ST IN ('S', 'O', 'C')*/
                            )
	</select>
	
	<!-- 온비드 공매물건정보 조회 -->
	<select id="SLS130301DAO.selectPbctCltrRgst" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
	      SELECT TRNS_ID,
				 STND_LNK_ORG_NO,
				 BID_MNMT_NO,
				 MSG_ID,
				 CLTR_MNMT_NO,
				 USE_YN,
				 (SELECT CLTR_NM || ' / ' || nvl(CLTR_LDNM_ADRS,CLTR_NMRD_ADRS)
				     FROM ONB_IF_CLTR_RLST_RGST_I z
				     WHERE CLTR_MNMT_NO = a.CLTR_MNMT_NO  )CLTR_NM,
				 RGST_DTM
	        FROM ONB_IF_PBCT_CLTR_RGST_I a
	        WHERE TRNS_ID = #TRNS_ID#
	        
	</select>
	
	<!-- 온비드 기관정보 tranid 채번 -->
	<select id="SLS130301DAO.selectGetTransId" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
         
         SELECT CASE WHEN TODAY = TO_CHAR(SYSDATE,'YYYYMMDD')
                         THEN TRAN_ID || LPAD(TO_NUMBER(SN) + 1,11,'0')
                     ELSE  TRAN_ID || LPAD('1',11,'0')
                 END TRNS_ID,
                 ' ' ORG_PLNM_NO  
           FROM(SELECT MAX(TODAY) TODAY,
                       MAX(SN) SN,
                       MAX(TRAN_ID) TRAN_ID
                   FROM(SELECT substr(MAX(TRNS_ID),3,8) TODAY,
                               substr(MAX(TRNS_ID),20,30) SN,
                               '' TRAN_ID
                         FROM ONB_IF_PLNM_RGST_I
                       
                       UNION ALL
                       
                       SELECT  '',
                               '',
                               '05' || TO_CHAR(systimestamp,'YYYYMMDDHH24MISSFF3')
                        FROM DUAL))
	</select>
	
	<!-- 온비드 기관공고 번호 채번 -->
	<select id="SLS130301DAO.selectOrgPlnmNo" parameterClass="java.util.HashMap" resultClass="java.util.HashMap"> 
	 SELECT   'TX_P01' 
	           || #STND_LNK_ORG_NO# 
	           || #PLNM_YR# 
	           || LPAD(#PLNM_SEQ#,4,'0') 
	           || '001' AS ORG_PLNM_NO
	       FROM  DUAL
	</select>
	
	<!-- 온비드  공고회차 채번 -->
	<select id="SLS130301DAO.selectOrgPlnmSeq" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
	     SELECT NVL((SELECT MAX(PLNM_SEQ) 
	                  FROM ONB_IF_PLNM_RGST_I
	                   WHERE RGST_ORG_NO = #RGST_ORG_NO#                                                                                                                                                                                                                                                                                                                  
	                     AND PLNM_YR = #PLNM_YR#),0) + 1 PLNM_SEQ                                                                                                                                                                                                                                                                                      
	       FROM DUAL 
	</select>
	
	<!-- 공고정보 등록 -->
	<insert id="SLS130301DAO.insertPlnmRgst" parameterClass="java.util.Map">
	    INSERT INTO ONB_IF_PLNM_RGST_I
                         (TRNS_ID,
                          STND_LNK_ORG_NO,
                          ORG_PLNM_NO,
                          MSG_ID,
                          PLNM_KIND_CD,
                          PLNM_DT,
                          PLNM_YR,
                          PLNM_SEQ,
                          PRPT_DVSN_CD,
                          AST_DVSN_CD,
                          DPSL_MTD_CD,
                          PLNM_NM,
                          PSCG_NM,
                          PSCG_EMAL_ADRS,
                          RSBY_DEPT,
                          PSCG_TPNO,
                          RGST_USR_NO,
                          RGST_ORG_NO,
                          RGST_DEPT_NO,
                          PTCT_QLFC,
                          PTCT_CMSN,
                          TPLT_WRTG_MTD_VAL,
                          PLNM_DOC,
                          BID_DVSN_CD,
                          BID_MTD_CD,
                          CPTN_MTD_CD,
                          TOT_AMT_UNPC_DVSN_CD,
                          UNPC_QNTY_DVSN_CD,
                          COMN_BID_PMSN_YN,
                          COMN_BID_DOC_SBMT_MTD_CD,
                          ELTR_GRT_DOC_USE_YN,
                          ELTR_GRT_DOC_USE_APLC_RNG_CD,
                          SUBT_BID_PMSN_YN,
                          TWPS_LSTH_USBD_YN,
                          TWPS_LSTH_USBD_APLC_RNG_CD,
                          TWTM_GTHR_BID_PSBL_YN,
                          TDPS_BASC_CD,
                          NEXT_RNK_RQST_PSBL_YN,
                          NEXT_RNK_PRGN_APLC_RNG_CD,
                          PRFB_RQST_PSBL_YN,
                          PRFB_RQST_PSBL_APLC_RNG_CD,
                          BID_AMT_MKPB_YN,
                          ASES_SYS_PRC_RT,
                          ASES_SYS_SCR_RT,
                          ASES_SYS_BID_DCRT,
                          ASES_BEGN_DTM,
                          ASES_END_DTM,
                          OTHR_CLTR_BID_PSBL_YN,
                          BID_PSBL_CLTR_CNT,
                          USE_YN,
                          RGST_DTM)
                 VALUES(#TRNS_ID#,
                        #STND_LNK_ORG_NO#,
                        #ORG_PLNM_NO#,
                        #MSG_ID#,
                        #PLNM_KIND_CD#,
                        #PLNM_DT#,
                        #PLNM_YR#,
                        #PLNM_SEQ#,
                        #PRPT_DVSN_CD#,
                        #AST_DVSN_CD#,
                        #DPSL_MTD_CD#,
                        #PLNM_NM#,
                        #PSCG_NM#,
                        #PSCG_EMAL_ADRS#,
                        #RSBY_DEPT#,
                        #PSCG_TPNO#,
                        #RGST_USR_NO#,
                        #RGST_ORG_NO#,
                        #RGST_DEPT_NO#,
                        #PTCT_QLFC#,
                        #PTCT_CMSN#,
                        #TPLT_WRTG_MTD_VAL#,
                        #PLNM_DOC#,
                        #BID_DVSN_CD#,
                        #BID_MTD_CD#,
                        #CPTN_MTD_CD#,
                        #TOT_AMT_UNPC_DVSN_CD#,
                        #UNPC_QNTY_DVSN_CD#,
                        #COMN_BID_PMSN_YN#,
                        #COMN_BID_DOC_SBMT_MTD_CD#,
                        #ELTR_GRT_DOC_USE_YN#,
                        #ELTR_GRT_DOC_USE_APLC_RNG_CD#,
                        #SUBT_BID_PMSN_YN#,
                        #TWPS_LSTH_USBD_YN#,
                        #TWPS_LSTH_USBD_APLC_RNG_CD#,
                        #TWTM_GTHR_BID_PSBL_YN#,
                        #TDPS_BASC_CD#,
                        #NEXT_RNK_RQST_PSBL_YN#,
                        #NEXT_RNK_PRGN_APLC_RNG_CD#,
                        #PRFB_RQST_PSBL_YN#,
                        #PRFB_RQST_PSBL_APLC_RNG_CD#,
                        #BID_AMT_MKPB_YN#,
                        #ASES_SYS_PRC_RT#,
                        #ASES_SYS_SCR_RT#,
                        #ASES_SYS_BID_DCRT#,
                        #ASES_BEGN_DTM#,
                        #ASES_END_DTM#,
                        #OTHR_CLTR_BID_PSBL_YN#,
                        #BID_PSBL_CLTR_CNT#,
                        #USE_YN#,
                        SYSDATE)
	   
	</insert>
	
	<!-- 공고정보 수정 -->
	<update id="SLS130301DAO.updatePlnmRgst" parameterClass="java.util.Map"> 
	       UPDATE ONB_IF_PLNM_RGST_I
             SET  MSG_ID                                  =   #MSG_ID# ,
                  PLNM_KIND_CD                            =   #PLNM_KIND_CD#,
                  PLNM_DT                                 =   TO_DATE(SUBSTR(#PLNM_DT#,1,8),'YYYYMMDD') ,
                  PLNM_YR                                 =   #PLNM_YR# ,
                  PLNM_SEQ                                =   #PLNM_SEQ# ,
                  PRPT_DVSN_CD                            =   #PRPT_DVSN_CD# ,
                  AST_DVSN_CD                             =   #AST_DVSN_CD# ,
                  DPSL_MTD_CD                             =   #DPSL_MTD_CD# ,
                  PLNM_NM                                 =   #PLNM_NM# ,
                  PSCG_NM                                 =   #PSCG_NM# ,
                  PSCG_EMAL_ADRS                          =   #PSCG_EMAL_ADRS# ,
                  RSBY_DEPT                               =   #RSBY_DEPT# ,
                  PSCG_TPNO                               =   #PSCG_TPNO# ,
                  RGST_USR_NO                             =   #RGST_USR_NO# ,
                  RGST_ORG_NO                             =   #RGST_ORG_NO# ,
                  RGST_DEPT_NO                            =   #RGST_DEPT_NO# ,
                  PTCT_QLFC                               =   #PTCT_QLFC# ,
                  PTCT_CMSN                               =   #PTCT_CMSN# ,
                  TPLT_WRTG_MTD_VAL                       =   #TPLT_WRTG_MTD_VAL# ,
                  PLNM_DOC                                =   #PLNM_DOC# ,
                  BID_DVSN_CD                             =   #BID_DVSN_CD# ,
                  BID_MTD_CD                              =   #BID_MTD_CD# ,
                  CPTN_MTD_CD                             =   #CPTN_MTD_CD# ,
                  TOT_AMT_UNPC_DVSN_CD                    =   #TOT_AMT_UNPC_DVSN_CD# ,
                  UNPC_QNTY_DVSN_CD                       =   #UNPC_QNTY_DVSN_CD# ,
                  COMN_BID_PMSN_YN                        =   #COMN_BID_PMSN_YN# ,
                  COMN_BID_DOC_SBMT_MTD_CD                =   #COMN_BID_DOC_SBMT_MTD_CD# ,
                  ELTR_GRT_DOC_USE_YN                     =   #ELTR_GRT_DOC_USE_YN# ,
                  ELTR_GRT_DOC_USE_APLC_RNG_CD            =   #ELTR_GRT_DOC_USE_APLC_RNG_CD# ,
                  SUBT_BID_PMSN_YN                        =   #SUBT_BID_PMSN_YN# ,
                  TWPS_LSTH_USBD_YN                       =   #TWPS_LSTH_USBD_YN# ,
                  TWPS_LSTH_USBD_APLC_RNG_CD              =   #TWPS_LSTH_USBD_APLC_RNG_CD# ,
                  TWTM_GTHR_BID_PSBL_YN                   =   #TWTM_GTHR_BID_PSBL_YN# ,
                  TDPS_BASC_CD                            =   #TDPS_BASC_CD# ,
                  NEXT_RNK_RQST_PSBL_YN                   =   #NEXT_RNK_RQST_PSBL_YN# ,
                  NEXT_RNK_PRGN_APLC_RNG_CD               =   #NEXT_RNK_PRGN_APLC_RNG_CD# ,
                  PRFB_RQST_PSBL_YN                       =   #PRFB_RQST_PSBL_YN# ,
                  PRFB_RQST_PSBL_APLC_RNG_CD              =   #PRFB_RQST_PSBL_APLC_RNG_CD# ,
                  BID_AMT_MKPB_YN                         =   #BID_AMT_MKPB_YN# ,
                  ASES_SYS_PRC_RT                         =   #ASES_SYS_PRC_RT# ,
                  ASES_SYS_SCR_RT                         =   #ASES_SYS_SCR_RT# ,
                  ASES_SYS_BID_DCRT                       =   #ASES_SYS_BID_DCRT# ,
                  ASES_BEGN_DTM                           =   TO_DATE(SUBSTR(#ASES_BEGN_DTM#,1,8),'YYYYMMDD'),
                  ASES_END_DTM                            =   TO_DATE(SUBSTR(#ASES_END_DTM#,1,8),'YYYYMMDD'),
                  OTHR_CLTR_BID_PSBL_YN                   =   #OTHR_CLTR_BID_PSBL_YN# ,
                  BID_PSBL_CLTR_CNT                       =   #BID_PSBL_CLTR_CNT# ,
                  USE_YN                                  =   #USE_YN# 
          WHERE   TRNS_ID                                 =   #TRNS_ID#
            AND   STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO#
            AND   ORG_PLNM_NO                             =   #ORG_PLNM_NO#                          
	</update>
	
	<!-- 공고정보  삭제 -->
	<delete id="SLS130301DAO.deletePlnmRgst" parameterClass="java.util.HashMap">
	      DELETE FROM ONB_IF_CLTR_RLST_DTLS_RGST_I
	       WHERE TRNS_ID         = #TRNS_ID#
			 AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
			 AND CLTR_MNMT_NO    = #CLTR_MNMT_NO#
	</delete>
	
	<!-- 온비드 공매목록 조회 -->
	<select id="SLS130301DAO.selectPbctRgstList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
           SELECT TRNS_ID,
                  STND_LNK_ORG_NO,
                  ORG_PLNM_NO,
                  PBCT_YR,
                  PBCT_SEQ,
                  PBCT_DGR,
                  MSG_ID,
                  RGST_DEPT_NO,
                  TDPS_RT,
                  TO_CHAR(PBCT_BEGN_DTM, 'YYYYMMDDHH24MISS') AS PBCT_BEGN_DTM,
                  TO_CHAR(PBCT_CLS_DTM, 'YYYYMMDDHH24MISS') AS PBCT_CLS_DTM,
                  TO_CHAR(PBCT_EXCT_DTM, 'YYYYMMDDHH24MISS') AS PBCT_EXCT_DTM,
                  OPBD_PLC_CNTN,
                  TO_CHAR(SPOT_BID_DTM, 'YYYYMMDDHH24MISS') AS SPOT_BID_DTM,
                  SPOT_BID_PLC_CNTN,
                  TO_CHAR(SPOT_BID_END_DTM, 'YYYYMMDDHH24MISS') SPOT_BID_END_DTM,
                  EXCT_STAT_CD,
                  PTCT_CMSN,
                  TO_CHAR(DPSL_DCSN_DTM, 'YYYYMMDDHH24MISS') DPSL_DCSN_DTM,
                  REFN_PBCT_NO,
                  USE_YN,
                  NVL((SELECT PROC_ST FROM TX_TRNS_INFO WHERE TRNS_ID = a.TRNS_ID), 'Z') AS PROC_ST,
                  TO_CHAR(RGST_DTM, 'YYYYMMDD') AS RGST_DT
            FROM ONB_IF_PBCT_RGST_I a
            WHERE STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
              AND ORG_PLNM_NO = #ORG_PLNM_NO#
              ORDER BY RGST_DTM DESC
	</select>

	<!-- 온비드 공매정보 조회 -->
	<select id="SLS130301DAO.selectPbctRgst" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
       
           SELECT TRNS_ID,
                  STND_LNK_ORG_NO,
                  ORG_PLNM_NO,
                  PBCT_YR,
                  PBCT_SEQ,
                  PBCT_DGR,
                  MSG_ID,
                  RGST_DEPT_NO,
                  TDPS_RT,
                  TO_CHAR(PBCT_BEGN_DTM, 'YYYYMMDDHH24MISS') AS PBCT_BEGN_DTM,
                  TO_CHAR(PBCT_CLS_DTM, 'YYYYMMDDHH24MISS') AS PBCT_CLS_DTM,
                  TO_CHAR(PBCT_EXCT_DTM, 'YYYYMMDDHH24MISS') AS PBCT_EXCT_DTM,
                  OPBD_PLC_CNTN,
                  TO_CHAR(SPOT_BID_DTM, 'YYYYMMDDHH24MISS') AS SPOT_BID_DTM,
                  SPOT_BID_PLC_CNTN,
                  TO_CHAR(SPOT_BID_END_DTM, 'YYYYMMDDHH24MISS') SPOT_BID_END_DTM,
                  EXCT_STAT_CD,
                  PTCT_CMSN,
                  TO_CHAR(DPSL_DCSN_DTM, 'YYYYMMDDHH24MISS') DPSL_DCSN_DTM,
                  REFN_PBCT_NO,
                  USE_YN
            FROM ONB_IF_PBCT_RGST_I a
            WHERE TRNS_ID         = #TRNS_ID#
              AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
              AND ORG_PLNM_NO     = #ORG_PLNM_NO#
              AND PBCT_YR         = #PBCT_YR#
              AND PBCT_SEQ        = #PBCT_SEQ#
              AND PBCT_DGR        = #PBCT_DGR#
              /*
              AND PBCT_YR =  (SELECT MAX(PBCT_YR)
                                FROM ONB_IF_PBCT_RGST_I)
              AND PBCT_SEQ = (SELECT MAX(PBCT_SEQ)
                                FROM ONB_IF_PBCT_RGST_I z
                                WHERE PBCT_YR = a.PBCT_YR)
              AND PBCT_DGR = (SELECT MAX(PBCT_DGR)
                                FROM ONB_IF_PBCT_RGST_I z
                                WHERE PBCT_YR = a.PBCT_YR
                                  AND PBCT_SEQ = a.PBCT_SEQ)
              */              
	</select>
			
	<!-- 공매회차 -->
	<select id="SLS130301DAO.selectPbctSeq" parameterClass="java.util.HashMap" resultClass="java.util.HashMap"> 
	  SELECT NVL((SELECT MAX(PBCT_SEQ)
                   FROM ONB_IF_PBCT_RGST_I
                   WHERE STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
                     AND ORG_PLNM_NO = #ORG_PLNM_NO#
                     AND PBCT_YR = #PBCT_YR#),0) + 1 PBCT_SEQ,
             1 PBCT_DGR
        FROM DUAL
	</select>
	
	<!-- 공매차수 -->
	<select id="SLS130301DAO.selectPbctDgr" parameterClass="java.util.HashMap" resultClass="java.util.HashMap"> 
     SELECT NVL((SELECT MAX(PBCT_DGR)
                FROM ONB_IF_PBCT_RGST_I
                WHERE STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
                  AND ORG_PLNM_NO = #ORG_PLNM_NO#
                  AND PBCT_YR = #PBCT_YR#
                  AND PBCT_SEQ = #PBCT_SEQ#),0) + 1 PBCT_DGR
      FROM DUAL
	</select>
	
	<!-- 공매정보 등록 -->
	<insert id="SLS130301DAO.insertPbctRgst" parameterClass="java.util.Map">
	  INSERT INTO ONB_IF_PBCT_RGST_I
                 (TRNS_ID,
                  STND_LNK_ORG_NO,
                  ORG_PLNM_NO,
                  PBCT_YR,
                  PBCT_SEQ,
                  PBCT_DGR,
                  MSG_ID,
                  RGST_DEPT_NO,
                  TDPS_RT,
                  PBCT_BEGN_DTM,
                  PBCT_CLS_DTM,
                  PBCT_EXCT_DTM,
                  OPBD_PLC_CNTN,
                  SPOT_BID_DTM,
                  SPOT_BID_PLC_CNTN,
                  SPOT_BID_END_DTM,
                  EXCT_STAT_CD,
                  PTCT_CMSN,
                  DPSL_DCSN_DTM,
                  REFN_PBCT_NO,
                  USE_YN,
                  RGST_DTM)
          VALUES( #TRNS_ID#,
                  #STND_LNK_ORG_NO#,
                  #ORG_PLNM_NO#,
                  #PBCT_YR#,
                  #PBCT_SEQ#,
                  #PBCT_DGR#,
                  #MSG_ID#,
                  #RGST_DEPT_NO#,
                  #TDPS_RT#,
                  TO_DATE(#PBCT_BEGN_DTM#, 'YYYYMMDDHH24MISS'),
                  TO_DATE(#PBCT_CLS_DTM#, 'YYYYMMDDHH24MISS'),
                  TO_DATE(#PBCT_EXCT_DTM#, 'YYYYMMDDHH24MISS'),
                  #OPBD_PLC_CNTN#,
                  TO_DATE(#SPOT_BID_DTM#, 'YYYYMMDDHH24MISS'),
                  #SPOT_BID_PLC_CNTN#,
                  TO_DATE(#SPOT_BID_END_DTM#, 'YYYYMMDDHH24MISS'),
                  #EXCT_STAT_CD#,
                  #PTCT_CMSN#,
                  TO_DATE(#DPSL_DCSN_DTM#, 'YYYYMMDDHH24MISS'),
                  #REFN_PBCT_NO#,
                  #USE_YN#,
                  SYSDATE)  
	</insert>
	
	<!-- 공매정보 수정 -->
	<update id="SLS130301DAO.updatePbctRgst" parameterClass="java.util.Map"> 
	    UPDATE ONB_IF_PBCT_RGST_I
           SET MSG_ID                                  =   #MSG_ID# ,
               RGST_DEPT_NO                            =   #RGST_DEPT_NO# ,
               TDPS_RT                                 =   #TDPS_RT# ,
               PBCT_BEGN_DTM                           =   TO_DATE(#PBCT_BEGN_DTM#, 'YYYYMMDDHH24MISS') ,
               PBCT_CLS_DTM                            =   TO_DATE(#PBCT_CLS_DTM#, 'YYYYMMDDHH24MISS') ,
               PBCT_EXCT_DTM                           =   TO_DATE(#PBCT_EXCT_DTM#, 'YYYYMMDDHH24MISS') ,
               OPBD_PLC_CNTN                           =   #OPBD_PLC_CNTN# ,
               SPOT_BID_DTM                            =   TO_DATE(#SPOT_BID_DTM#, 'YYYYMMDDHH24MISS') ,
               SPOT_BID_PLC_CNTN                       =   #SPOT_BID_PLC_CNTN# ,
               SPOT_BID_END_DTM                        =   TO_DATE(#SPOT_BID_END_DTM#, 'YYYYMMDDHH24MISS') ,
               EXCT_STAT_CD                            =   #EXCT_STAT_CD# ,
               PTCT_CMSN                               =   #PTCT_CMSN# ,
               DPSL_DCSN_DTM                           =   TO_DATE(#DPSL_DCSN_DTM#, 'YYYYMMDDHH24MISS') , 
               REFN_PBCT_NO                            =   #REFN_PBCT_NO# ,
               USE_YN                                  =   #USE_YN# 
         WHERE TRNS_ID                                 =   #TRNS_ID# 
           AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
           AND ORG_PLNM_NO                             =   #ORG_PLNM_NO# 
           AND PBCT_YR                                 =   #PBCT_YR# 
           AND PBCT_SEQ                                =   #PBCT_SEQ# 
           AND PBCT_DGR                                =   #PBCT_DGR#                         
  </update>
	
	<!-- 공매정보  삭제 -->
	<delete id="SLS130301DAO.deletePbctRgst" parameterClass="java.util.HashMap">
	      DELETE FROM ONB_IF_PBCT_RGST_I
           WHERE TRNS_ID                                 =   #TRNS_ID# 
             AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
             AND ORG_PLNM_NO                             =   #ORG_PLNM_NO# 
             AND PBCT_YR                                 =   #PBCT_YR# 
             AND PBCT_SEQ                                =   #PBCT_SEQ# 
             AND PBCT_DGR                                =   #PBCT_DGR# 
	</delete>
	
	<!-- 집행권한 등록 -->
	<insert id="SLS130301DAO.insertExctAuthRgst" parameterClass="java.util.Map">
	  INSERT INTO ONB_IF_EXCT_AUTH_RGST_I
                 (TRNS_ID,
                  STND_LNK_ORG_NO,
                  PBCT_YR,
                  PBCT_SEQ,
                  PBCT_DGR,
                  AUTH_CD,
                  USR_NO,
                  RGST_DTM)
          VALUES (#TRNS_ID#,
                  #STND_LNK_ORG_NO#,
                  #PBCT_YR#,
                  #PBCT_SEQ#,
                  #PBCT_DGR#,
                  #AUTH_CD#,
                  #USR_NO#,
                  SYSDATE)
	  
	</insert>
	
	<!-- 집행권한  삭제 -->
	<delete id="SLS130301DAO.deleteExctAuthRgst" parameterClass="java.util.HashMap">
	     DELETE FROM ONB_IF_EXCT_AUTH_RGST_I
	       WHERE TRNS_ID                                 =   #TRNS_ID# 
			 AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
			 AND PBCT_YR                                 =   #PBCT_YR# 
			 AND PBCT_SEQ                                =   #PBCT_SEQ# 
			 AND PBCT_DGR                                =   #PBCT_DGR# 
	</delete>
	
	<!-- 입찰조건 등록 -->
	<insert id="SLS130301DAO.insertPbctCdtnRgst" parameterClass="java.util.Map">
	   INSERT INTO ONB_IF_PBCT_CDTN_RGST_I
                  (TRNS_ID,
                   STND_LNK_ORG_NO,
                   PBCT_YR,
                   PBCT_SEQ,
                   PBCT_DGR,
                   BID_MNMT_NO,
                   MSG_ID,
                   ELTR_GRT_DOC_USE_YN,
                   TWPS_LSTH_USBD_YN,
                   NEXT_RNK_RQST_PSBL_YN,
                   PRFB_RQST_PSBL_YN,
                   PCMT_PYMT_MTD_CNTN,
                   PCMT_PYMT_EPDT_CNTN,
                   MIN_BID_PRC,
                   MIN_BID_PRC_HIDE_DVSN_CD,
                   MIN_BID_PRC_IPT_YN,
                   STFC_MKPB_YN,
                   SMNS_AMT_BID_ATMT_DCSN_YN,
                   ASKP_MIN_ICRS_AMT,
                   PBCT_QNTY,
                   WIN_PS_CNT,
                   RSV_WIN_PS_CNT,
                   UNPC_MIN_BID_QNTY,
                   UNPC_UNIT_CD,
                   UNPC_MIN_BID_PRC,
                   BATC_BID_YN,
                   ICDL_CDTN,
                   USE_YN,
                   RGST_DTM)
           VALUES (#TRNS_ID#,
                   TO_NUMBER(#STND_LNK_ORG_NO#),
                   #PBCT_YR#,
                   #PBCT_SEQ#,
                   #PBCT_DGR#,
                   TO_CHAR(NVL((SELECT MAX(BID_MNMT_NO)
                          FROM ONB_IF_PBCT_CDTN_RGST_I),0) + 1) ,
                   #MSG_ID#,
                   #ELTR_GRT_DOC_USE_YN#,
                   #TWPS_LSTH_USBD_YN#,
                   #NEXT_RNK_RQST_PSBL_YN#,
                   #PRFB_RQST_PSBL_YN#,
                   #PCMT_PYMT_MTD_CNTN#,
                   #PCMT_PYMT_EPDT_CNTN#,
                   #MIN_BID_PRC#,
                   #MIN_BID_PRC_HIDE_DVSN_CD#,
                   #MIN_BID_PRC_IPT_YN#,
                   #STFC_MKPB_YN#,
                   #SMNS_AMT_BID_ATMT_DCSN_YN#,
                   #ASKP_MIN_ICRS_AMT#,
                   #PBCT_QNTY#,
                   #WIN_PS_CNT#,
                   #RSV_WIN_PS_CNT#,
                   #UNPC_MIN_BID_QNTY#,
                   #UNPC_UNIT_CD#,
                   #UNPC_MIN_BID_PRC#,
                   #BATC_BID_YN#,
                   #ICDL_CDTN#,
                   #USE_YN#,
                   SYSDATE)
	</insert>
	
	<!-- 입찰조건 수정 -->
	<update id="SLS130301DAO.updatePbctCdtnRgst" parameterClass="java.util.Map"> 
	       UPDATE ONB_IF_PBCT_CDTN_RGST_I
              SET ELTR_GRT_DOC_USE_YN                     =   #ELTR_GRT_DOC_USE_YN# ,
                  TWPS_LSTH_USBD_YN                       =   #TWPS_LSTH_USBD_YN# ,
                  NEXT_RNK_RQST_PSBL_YN                   =   #NEXT_RNK_RQST_PSBL_YN# ,
                  PRFB_RQST_PSBL_YN                       =   #PRFB_RQST_PSBL_YN# ,
                  PCMT_PYMT_MTD_CNTN                      =   #PCMT_PYMT_MTD_CNTN# ,
                  PCMT_PYMT_EPDT_CNTN                     =   #PCMT_PYMT_EPDT_CNTN# ,
                  MIN_BID_PRC                             =   #MIN_BID_PRC# ,
                  MIN_BID_PRC_HIDE_DVSN_CD                =   #MIN_BID_PRC_HIDE_DVSN_CD# ,
                  MIN_BID_PRC_IPT_YN                      =   #MIN_BID_PRC_IPT_YN# ,
                  STFC_MKPB_YN                            =   #STFC_MKPB_YN# ,
                  SMNS_AMT_BID_ATMT_DCSN_YN               =   #SMNS_AMT_BID_ATMT_DCSN_YN# ,
                  ASKP_MIN_ICRS_AMT                       =   #ASKP_MIN_ICRS_AMT# ,
                  PBCT_QNTY                               =   #PBCT_QNTY# ,
                  WIN_PS_CNT                              =   #WIN_PS_CNT# ,
                  RSV_WIN_PS_CNT                          =   #RSV_WIN_PS_CNT# ,
                  UNPC_MIN_BID_QNTY                       =   #UNPC_MIN_BID_QNTY# ,
                  UNPC_UNIT_CD                            =   #UNPC_UNIT_CD# ,
                  UNPC_MIN_BID_PRC                        =   #UNPC_MIN_BID_PRC# ,
                  BATC_BID_YN                             =   #BATC_BID_YN# ,
                  ICDL_CDTN                               =   #ICDL_CDTN# ,
                  USE_YN                                  =   #USE_YN# 
            WHERE TRNS_ID                                 =   #TRNS_ID# 
              AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
              AND PBCT_YR                                 =   #PBCT_YR# 
              AND PBCT_SEQ                                =   #PBCT_SEQ# 
              AND PBCT_DGR                                =   #PBCT_DGR# 
              AND BID_MNMT_NO                             =   #BID_MNMT_NO#               
	</update>
	
	<!-- 입찰조건  삭제 -->
	<delete id="SLS130301DAO.deletePbctCdtnRgst" parameterClass="java.util.HashMap">
	      DELETE FROM ONB_IF_PBCT_CDTN_RGST_I
           WHERE TRNS_ID                                 =   #TRNS_ID# 
             AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
             AND PBCT_YR                                 =   #PBCT_YR# 
             AND PBCT_SEQ                                =   #PBCT_SEQ# 
             AND PBCT_DGR                                =   #PBCT_DGR# 
             AND BID_MNMT_NO                             =   #BID_MNMT_NO# 
	</delete>
	
	
	<!-- 온비드 집행권한 조회 -->
	<select id="SLS130301DAO.selectExctAuthRgst" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
        
        SELECT a.TRNS_ID,
               a.STND_LNK_ORG_NO,
               a.PBCT_YR,
               a.PBCT_SEQ,
               a.PBCT_DGR,
               MAX(DECODE(a.AUTH_CD,'0001',a.USR_NO,'')) USR_NO_1,
               MAX(DECODE(a.AUTH_CD,'0002',a.USR_NO,'')) USR_NO_2,
               MAX(DECODE(a.AUTH_CD,'0003',a.USR_NO,'')) USR_NO_3,
               MAX(CASE WHEN a.AUTH_CD = '0001' THEN (SELECT USR_NM
                                                        FROM ONB_IF_USR_I z
                                                        WHERE TRNS_ID = (SELECT MAX(TRNS_ID)
                                                                           FROM ONB_IF_USR_I WHERE RGNO = z.RGNO)
                                                          AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
                                                          AND USR_NO = a.USR_NO)
                                                 ELSE ''
                   END)  USR_NM_1,
               MAX(CASE WHEN a.AUTH_CD = '0002' THEN (SELECT USR_NM
                                                        FROM ONB_IF_USR_I z
                                                       WHERE TRNS_ID = (SELECT MAX(TRNS_ID)
                                                                          FROM ONB_IF_USR_I WHERE RGNO = z.RGNO)
                                                         AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
                                                         AND USR_NO = a.USR_NO)
                                                 ELSE ''
                   END)  USR_NM_2,
               MAX(CASE WHEN a.AUTH_CD = '0003' THEN (SELECT USR_NM
                                                         FROM ONB_IF_USR_I z
                                                        WHERE TRNS_ID = (SELECT MAX(TRNS_ID)
                                                                           FROM ONB_IF_USR_I WHERE RGNO = z.RGNO)
                                                          AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
                                                          AND USR_NO = a.USR_NO)
                                                 ELSE ''
                    END)  USR_NM_3,
              '0001' AUTH_CD_1,
              '0002' AUTH_CD_2,
              '0003' AUTH_CD_3
         FROM ONB_IF_EXCT_AUTH_RGST_I a
         WHERE TRNS_ID = #TRNS_ID#
           AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
           AND PBCT_YR  = #PBCT_YR#
           AND PBCT_SEQ = #PBCT_SEQ#
           AND PBCT_DGR = #PBCT_DGR#
         GROUP BY TRNS_ID,
                  STND_LNK_ORG_NO,
                  PBCT_YR,
                  PBCT_SEQ,
                  PBCT_DGR
<!-- 
        SELECT a.TRNS_ID,
               a.STND_LNK_ORG_NO,
               a.PBCT_YR,
               a.PBCT_SEQ,
               a.PBCT_DGR,
               a.AUTH_CD AS AUTH_CD_1,
               a.USR_NO AS USR_NO_1,
               (SELECT USR_NM
                  FROM ONB_IF_USR_I z
                  WHERE TRNS_ID = (SELECT MAX(TRNS_ID)
                                     FROM ONB_IF_USR_I WHERE RGNO = z.RGNO)
                    AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
                    AND USR_NO = a.USR_NO) AS USR_NM_1
         FROM ONB_IF_EXCT_AUTH_RGST_I a
         WHERE TRNS_ID = #TRNS_ID#
           AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
           AND PBCT_YR  = #PBCT_YR#
           AND PBCT_SEQ = #PBCT_SEQ#
           AND PBCT_DGR = #PBCT_DGR#
 -->                   
	</select>
	
	<!-- 온비드 공매입찰조건 조회 -->
	<select id="SLS130301DAO.selectPbctCdtnRgst" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
       
             SELECT TRNS_ID,
			        STND_LNK_ORG_NO,
			        PBCT_YR,
			        PBCT_SEQ,
			        PBCT_DGR,
			        BID_MNMT_NO,
			        MSG_ID,
			        ELTR_GRT_DOC_USE_YN,
			        TWPS_LSTH_USBD_YN,
			        NEXT_RNK_RQST_PSBL_YN,
			        PRFB_RQST_PSBL_YN,
			        PCMT_PYMT_MTD_CNTN,
			        PCMT_PYMT_EPDT_CNTN,
			        MIN_BID_PRC,
			        MIN_BID_PRC_HIDE_DVSN_CD,
			        MIN_BID_PRC_IPT_YN,
			        STFC_MKPB_YN,
			        SMNS_AMT_BID_ATMT_DCSN_YN,
			        ASKP_MIN_ICRS_AMT,
			        PBCT_QNTY,
			        WIN_PS_CNT,
			        RSV_WIN_PS_CNT,
			        UNPC_MIN_BID_QNTY,
			        UNPC_UNIT_CD,
			        UNPC_MIN_BID_PRC,
			        BATC_BID_YN,
			        ICDL_CDTN,
			        USE_YN
			   FROM ONB_IF_PBCT_CDTN_RGST_I
			   WHERE TRNS_ID  = #TRNS_ID#
			     AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
			     AND PBCT_YR  = #PBCT_YR#
			     AND PBCT_SEQ = #PBCT_SEQ#
			     AND PBCT_DGR = #PBCT_DGR#
	</select>
	
	<!-- 입찰가능지역 조회 -->
	<select id="SLS130301DAO.selectPsblAreaRgst" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
         SELECT TRNS_ID,
				STND_LNK_ORG_NO,
				BID_MNMT_NO,
				BID_PSBL_AREA_SEQ,
				MSG_ID,
				BID_PSBL_AREA,
				RGST_DTM
           FROM ONB_IF_PSBL_AREA_RGST_I
           WHERE TRNS_ID = #TRNS_ID#
             AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
             AND BID_MNMT_NO = #BID_MNMT_NO#
	</select>
		<!-- 입찰가능대상자 조회 -->
	<select id="SLS130301DAO.selectPsblRcpnRgs" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
         SELECT TRNS_ID,
				STND_LNK_ORG_NO,
				BID_MNMT_NO,
				PBCT_CLTR_BID_LMT_PS_SEQ,
				MSG_ID,
				PSNL_YN,
				RGNO,
				BRNO,
				FRNM_NM,
				RGST_DTM
		   FROM ONB_IF_PSBL_RCPN_RGST_I
		   WHERE TRNS_ID = #TRNS_ID#
             AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
             AND BID_MNMT_NO = #BID_MNMT_NO#
	</select>
		<!-- 입찰참가조건 조회 -->
	<select id="SLS130301DAO.selectBidPtctCdtnRgst" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
         SELECT TRNS_ID,
				STND_LNK_ORG_NO,
				BID_MNMT_NO,
				MSG_ID,
				BSMN_BID_PSBL_YN,
				ETC_CDTN_STUP_CNTN,
				RGST_DTM
		   FROM ONB_IF_BID_PTCT_CDTN_RGST_I
		   WHERE TRNS_ID = #TRNS_ID#
             AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
             AND BID_MNMT_NO = #BID_MNMT_NO#
	</select>
		<!-- 입찰참가제한자 조회 -->
	<select id="SLS130301DAO.selectPbctCltrLmtRgst" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
         SELECT TRNS_ID,
				STND_LNK_ORG_NO,
				BID_MNMT_NO,
				PBCT_CLTR_BID_LMT_PS_SEQ,
				MSG_ID,
				PSNL_YN,
				RGNO,
				BRNO,
				/* CRNO, */
				FRNM_NM,
				RGST_DTM
		  FROM ONB_IF_PBCT_CLTR_LMT_RGST_I
		   WHERE TRNS_ID = #TRNS_ID#
             AND STND_LNK_ORG_NO = #STND_LNK_ORG_NO#
             AND BID_MNMT_NO = #BID_MNMT_NO# 
	</select>
	
	<!-- 입찰가능지역 등록 -->
	<insert id="SLS130301DAO.insertPsblAreaRgst" parameterClass="java.util.Map">
	     
	     INSERT INTO ONB_IF_PSBL_AREA_RGST_I
                     (TRNS_ID,
                      STND_LNK_ORG_NO,
                      BID_MNMT_NO,
                      BID_PSBL_AREA_SEQ,
                      MSG_ID,
                      BID_PSBL_AREA,
                      RGST_DTM)
              VALUES (#TRNS_ID#,
                      #STND_LNK_ORG_NO#,
                      #BID_MNMT_NO#,
                      #BID_PSBL_AREA_SEQ#,
                      #MSG_ID#,
                      #BID_PSBL_AREA#,
                      SYSDATE)
	</insert>
	
	<!-- 입찰가능지역  삭제 -->
	<delete id="SLS130301DAO.deletePsblAreaRgst" parameterClass="java.util.HashMap">
	        DELETE ONB_IF_PSBL_AREA_RGST_I
	         WHERE TRNS_ID                                 =   #TRNS_ID# 
               AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
               AND BID_MNMT_NO                             =   #BID_MNMT_NO# 
	</delete>
	
	
	<!-- 입찰가능대상자 등록 -->
	<insert id="SLS130301DAO.insertPsblRcpnRgst" parameterClass="java.util.Map">
	    
	     INSERT INTO ONB_IF_PSBL_RCPN_RGST_I
                     (TRNS_ID,
                      STND_LNK_ORG_NO,
                      BID_MNMT_NO,
                      PBCT_CLTR_BID_LMT_PS_SEQ,
                      MSG_ID,
                      PSNL_YN,
                      RGNO,
                      BRNO,
                      FRNM_NM,
                      RGST_DTM)
              VALUES (#TRNS_ID#,
                      #STND_LNK_ORG_NO#,
                      #BID_MNMT_NO#,
                      #PBCT_CLTR_BID_LMT_PS_SEQ#,
                      #MSG_ID#,
                      #PSNL_YN#,
                      #RGNO#,
                      #BRNO#,
                      #FRNM_NM#,
                      SYSDATE)
	</insert>
	
	<!-- 입찰가능대상자  삭제 -->
	<delete id="SLS130301DAO.deletePsblRcpnRgst" parameterClass="java.util.HashMap">
	        DELETE ONB_IF_PSBL_RCPN_RGST_I
	         WHERE TRNS_ID                                 =   #TRNS_ID# 
               AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
               AND BID_MNMT_NO                             =   #BID_MNMT_NO# 
	</delete>
	
	<!-- 입찰참가조건 등록 -->
	<insert id="SLS130301DAO.insertBidPtctCdtnRgst" parameterClass="java.util.Map">
	       INSERT INTO ONB_IF_BID_PTCT_CDTN_RGST_I
                     (TRNS_ID,
                      STND_LNK_ORG_NO,
                      BID_MNMT_NO,
                      MSG_ID,
                      BSMN_BID_PSBL_YN,
                      ETC_CDTN_STUP_CNTN,
                      RGST_DTM)
              VALUES (#TRNS_ID#,
                      #STND_LNK_ORG_NO#,
                      #BID_MNMT_NO#,
                      #MSG_ID#,
                      #BSMN_BID_PSBL_YN#,
                      #ETC_CDTN_STUP_CNTN#,
                      SYSDATE)  
	</insert>
	
	<!-- 입찰참가조건 수정 -->
	<update id="SLS130301DAO.updateBidPtctCdtnRgst" parameterClass="java.util.Map"> 
	        UPDATE ONB_IF_BID_PTCT_CDTN_RGST_I
               SET BSMN_BID_PSBL_YN                        =   #BSMN_BID_PSBL_YN# ,
                   ETC_CDTN_STUP_CNTN                      =   #ETC_CDTN_STUP_CNTN# 
             WHERE TRNS_ID                                 =   #TRNS_ID# 
               AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
               AND BID_MNMT_NO                             =   #BID_MNMT_NO#             
	</update>
	
	<!-- 입찰조건  삭제 -->
	<delete id="SLS130301DAO.deleteBidPtctCdtnRgst" parameterClass="java.util.HashMap">
	        DELETE ONB_IF_BID_PTCT_CDTN_RGST_I
	         WHERE TRNS_ID                                 =   #TRNS_ID# 
               AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
               AND BID_MNMT_NO                             =   #BID_MNMT_NO# 
	</delete>
	
	<!-- 입찰참가제한자 등록 -->
	<insert id="SLS130301DAO.insertPbctCltrLmtRgst" parameterClass="java.util.Map">
		     INSERT INTO ONB_IF_PBCT_CLTR_LMT_RGST_I
		                    (TRNS_ID,
		                     STND_LNK_ORG_NO,
		                     BID_MNMT_NO,
		                     PBCT_CLTR_BID_LMT_PS_SEQ,
		                     MSG_ID,
		                     PSNL_YN,
		                     RGNO,
		                     BRNO,
		                     FRNM_NM,
		                     RGST_DTM)
		             VALUES (#TRNS_ID#,
		                     #STND_LNK_ORG_NO#,
		                     #BID_MNMT_NO#,
		                     #PBCT_CLTR_BID_LMT_PS_SEQ#,
		                     #MSG_ID#,
		                     #PSNL_YN#,
		                     #RGNO#,
		                     #BRNO#,
		                     #FRNM_NM#,
		                     SYSDATE)
	    
	</insert>
	
	<!-- 입찰참가제한자  삭제 -->
	<delete id="SLS130301DAO.deletePbctCltrLmtRgst" parameterClass="java.util.HashMap">
	        DELETE ONB_IF_PBCT_CLTR_LMT_RGST_I
	         WHERE TRNS_ID                                 =   #TRNS_ID# 
               AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
               AND BID_MNMT_NO                             =   #BID_MNMT_NO# 
	</delete>
	
	<!-- 공매물건 등록 -->
	<insert id="SLS130301DAO.insertPbctCltrRgst" parameterClass="java.util.Map">
	       INSERT INTO ONB_IF_PBCT_CLTR_RGST_I
                     (TRNS_ID,
                      STND_LNK_ORG_NO,
                      BID_MNMT_NO,
                      MSG_ID,
                      CLTR_MNMT_NO,
                      USE_YN,
                      RGST_DTM)
               VALUES(#TRNS_ID#,
                      #STND_LNK_ORG_NO#,
                      NVL((SELECT MAX(BID_MNMT_NO)
                            FROM ONB_IF_PBCT_CLTR_RGST_I),0) + 1 ,
                      #MSG_ID#,
                      #CLTR_MNMT_NO#,
                      'Y',
                      SYSDATE)
	</insert>
	
	<!-- 공매물건  삭제 -->
	<delete id="SLS130301DAO.deletePbctCltrRgst" parameterClass="java.util.HashMap">
	        DELETE ONB_IF_PBCT_CLTR_RGST_I
	         WHERE TRNS_ID                                 =   #TRNS_ID# 
               AND STND_LNK_ORG_NO                         =   #STND_LNK_ORG_NO# 
               AND BID_MNMT_NO                             =   #BID_MNMT_NO# 
	</delete>
	
	<!-- 온비드 첨부파일 기관공고번호 업데이트 수정  -->
	<update id="SLS130301DAO.updateOnbidFileRefn" parameterClass="java.util.HashMap">
		UPDATE ONB_IF_ATCH_FILE_I
		   SET REFN_KEY = (SELECT MIN(ORG_PLNM_NO) FROM ONB_IF_PLNM_RGST_I 
		                    WHERE TRNS_ID = #TRNS_ID#)
		 WHERE TRNS_ID = #TRNS_ID#
	</update>		
</sqlMap>