<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="SAL050209_SQL">	
	
	<!-- 연말정산결과정보 목록조회 -->
	<select id="SAL050209DAO.selectYndResultList" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[			 
	       SELECT 
			     A.EXCCLC_YEAR
				,A.EXCCLC_SE
				,A.EMPNO
				,A.EMPNM
				,A.CLSF_CODE
				,A.EXCCLC_BGNDE
				,A.EXCCLC_ENDDE
				,A.DEPT_CODE
				,A.DEPT_NM
				,A.SRCLS
				,A.OFCPS_CODE
				,A.ECNY_SE
				,A.ECNY_DE
				,A.RETIRE_DE
				,A.LAYOFF_BEGIN_DE
				,A.LAYOFF_ENDDE
				,SUBSTR(A.ZIP,1,3) || '-' || SUBSTR(A.ZIP,4,3)  AS ZIP
				,A.ADRES
				,A.EMPL_SE
				,TO_CHAR(A.NOW_WORK_SALARY_AMOUNT)  AS NOW_WORK_SALARY_AMOUNT
				,TO_CHAR(A.NOW_WORK_BNS_AMOUNT)  AS NOW_WORK_BNS_AMOUNT
				,TO_CHAR(A.NOW_WORK_RCOGN_BNS_AMOUNT)  AS NOW_WORK_RCOGN_BNS_AMOUNT
				,TO_CHAR(A.BEFORE_WORK_1_SALARY)  AS BEFORE_WORK_1_SALARY
				,TO_CHAR(A.BEFORE_WORK_1_BNS)  AS BEFORE_WORK_1_BNS
				,TO_CHAR(A.BEFORE_WORK_1_RCOGN_BNS)  AS BEFORE_WORK_1_RCOGN_BNS
				,TO_CHAR(A.BEFORE_WORK_2_SALARY)  AS BEFORE_WORK_2_SALARY
				,TO_CHAR(A.BEFORE_WORK_2_BNS)  AS BEFORE_WORK_2_BNS
				,TO_CHAR(A.BEFORE_WORK_2_RCOGN_BNS)  AS BEFORE_WORK_2_RCOGN_BNS
				,TO_CHAR(A.TAXXMPT_OUTNATN_INCOME)  AS TAXXMPT_OUTNATN_INCOME
				,TO_CHAR(A.TAXXMPT_NIGHT_ERNM)  AS TAXXMPT_NIGHT_ERNM
				,TO_CHAR(A.ETC_TAXXMPT)  AS ETC_TAXXMPT
				,TO_CHAR(A.SALARY_TOT_AMOUNT)  AS  SALARY_TOT_AMOUNT
				,TO_CHAR(A.BNS_TOT_AMOUNT)  AS BNS_TOT_AMOUNT
				,TO_CHAR(A.RCOGN_BNS_TOT_AMOUNT)  AS RCOGN_BNS_TOT_AMOUNT
				,TO_CHAR(A.ERNM_INCME_AMOUNT)  AS ERNM_INCME_AMOUNT
				,TO_CHAR(A.ERNM_DDC)  AS ERNM_DDC
				,TO_CHAR(A.ERNM_AMOUNT)  AS ERNM_AMOUNT
				,TO_CHAR(A.BSIS_DDC)  AS BSIS_DDC
				,TO_CHAR(A.SPOUSE_DDC)  AS SPOUSE_DDC
				,TO_CHAR(A.DNTMY_DDC)  AS DNTMY_DDC
				,TO_CHAR(A.COURS_PVLTRT_DDC_65)  AS COURS_PVLTRT_DDC_65
				,TO_CHAR(A.COURS_PVLTRT_DDC_70)  AS COURS_PVLTRT_DDC_70
				,TO_CHAR(A.DSPSN_DDC)  AS DSPSN_DDC
				,TO_CHAR(A.LADY_HSHLDR_DDC)  AS LADY_HSHLDR_DDC
				,TO_CHAR(A.MNYCH_BRP_DDC)  AS MNYCH_BRP_DDC
				,TO_CHAR(A.CHLDBRTH_ADP_DDC)  AS CHLDBRTH_ADP_DDC
				,TO_CHAR(A.MNYCH_DDC)  AS MNYCH_DDC
				,TO_CHAR(A.PARNTS_1_DDC)  AS PARNTS_1_DDC
				,TO_CHAR(A.HN_DDC_AMOUNT_SM)  AS HN_DDC_AMOUNT_SM
				,TO_CHAR(A.IRNCF_DDC)  AS IRNCF_DDC
				,TO_CHAR(A.MCP_DDC)  AS MCP_DDC
				,TO_CHAR(A.EDCCT_DDC)  AS EDCCT_DDC
				,TO_CHAR(A.CASH_RCIPT_AMOUNT)  AS CASH_RCIPT_AMOUNT
				,TO_CHAR(A.LFSTS_INTR)  AS LFSTS_INTR
				,TO_CHAR(A.PNINT_RPAY_AMOUNT)  AS PNINT_RPAY_AMOUNT
				,TO_CHAR(A.BRRW_INTR_RPAY_AMOUNT)  AS BRRW_INTR_RPAY_AMOUNT
				,TO_CHAR(A.HOUSE_PREPRTN_SVINGS)  AS HOUSE_PREPRTN_SVINGS
				,TO_CHAR(A.MTHT_AM)  AS MTHT_AM
				,TO_CHAR(A.HOUSE_CPTAL_DDC)  AS HOUSE_CPTAL_DDC
				,TO_CHAR(A.CTBNY_DDC)  AS CTBNY_DDC
				,TO_CHAR(A.MRRG_INTR_FNRL_DDC)  AS MRRG_INTR_FNRL_DDC
				,TO_CHAR(A.STD_DDC)  AS STD_DDC
				,TO_CHAR(A.ANNTY_IRNCF)  AS ANNTY_IRNCF
				,TO_CHAR(A.DDCT_INCOME_AMOUNT)  AS DDCT_INCOME_AMOUNT
				,TO_CHAR(A.INDVDL_ANNTY_SVINGS_INCOME_DDC)  AS INDVDL_ANNTY_SVINGS_INCOME_DDC
				,TO_CHAR(A.ANNTY_SVINGS_INCOME_DDC)  AS ANNTY_SVINGS_INCOME_DDC
				,TO_CHAR(A.SPT_HNF_TCHNLGY_DDC)  AS SPT_HNF_TCHNLGY_DDC
				,TO_CHAR(A.INVT_MXTR_INCOME_DDC)  AS INVT_MXTR_INCOME_DDC
				,TO_CHAR(A.CREDTCARD_DDC)  AS CREDTCARD_DDC
				,TO_CHAR(A.GNRLZ_STDTAX)  AS GNRLZ_STDTAX
				,TO_CHAR(A.COMPUT_TAXAMT)  AS COMPUT_TAXAMT
				,TO_CHAR(A.ERNM_TAXAMT_DDC_AMOUNT)  AS ERNM_TAXAMT_DDC_AMOUNT
				,TO_CHAR(A.TAXAMT_DDC_6_BELOW)  AS TAXAMT_DDC_6_BELOW
				,TO_CHAR(A.RETIRE_ANNTY)  AS RETIRE_ANNTY
				,TO_CHAR(A.RETIRE_ANNTY_DDC)  AS RETIRE_ANNTY_DDC
				,TO_CHAR(A.DSPSN_GRNT_INSRNC)  AS DSPSN_GRNT_INSRNC
				,TO_CHAR(A.DSPSN_GRNT_INSRNC_DDC)  AS DSPSN_GRNT_INSRNC_DDC
				,TO_CHAR(A.HOUSE_BRRW_AMOUNT)  AS HOUSE_BRRW_AMOUNT
				,TO_CHAR(A.FRNTN_PAY)  AS FRNTN_PAY
				,TO_CHAR(A.CNTR_POLITC_CPTAL)  AS CNTR_POLITC_CPTAL
				,TO_CHAR(A.LABRR_STOCK_SVINGS)  AS LABRR_STOCK_SVINGS
				,TO_CHAR(A.INORG_STOCK_SVINGS)  AS INORG_STOCK_SVINGS
				,TO_CHAR(A.TAXAMT_DDC_SM)  AS TAXAMT_DDC_SM
				,TO_CHAR(A.RDCXPT_TAXAMT)  AS RDCXPT_TAXAMT
				,TO_CHAR(A.DECSN_TAXAMT_INCMTAX)  AS DECSN_TAXAMT_INCMTAX
				,TO_CHAR(A.DECSN_TAXAMT_AGSPT)  AS DECSN_TAXAMT_AGSPT
				,TO_CHAR(A.DECSN_TAXAMT_LCLTY_INCMTAX)  AS DECSN_TAXAMT_LCLTY_INCMTAX
				,TO_CHAR(A.DECSN_TAXAMT_EMPLYMINSRNC)  AS DECSN_TAXAMT_EMPLYMINSRNC
				,TO_CHAR(A.DECSN_TAXAMT_ENCRG_ENDW)  AS DECSN_TAXAMT_ENCRG_ENDW
				,TO_CHAR(A.BEFORE_WORK_INCMTAX)  AS BEFORE_WORK_INCMTAX
				,TO_CHAR(A.BEFORE_WORK_AGSPT)  AS BEFORE_WORK_AGSPT
				,TO_CHAR(A.BEFORE_WORK_LCLTY_INCMTAX)  AS BEFORE_WORK_LCLTY_INCMTAX
				,TO_CHAR(A.NOW_LEV_PREARNGE_INCMTAX)  AS NOW_LEV_PREARNGE_INCMTAX
				,TO_CHAR(A.NOW_LEV_PREARNGE_AGSPT)  AS NOW_LEV_PREARNGE_AGSPT
				,TO_CHAR(A.NOW_LEV_PREARNGE_LCLTY_INCMTAX)  AS NOW_LEV_PREARNGE_LCLTY_INCMTAX
				,TO_CHAR(A.NOW_LEV_PREARNGE_EMPLYMINSRNC)  AS NOW_LEV_PREARNGE_EMPLYMINSRNC
				,TO_CHAR(A.NOW_LEV_PREARNGE_ENCRG_ENDW)  AS NOW_LEV_PREARNGE_ENCRG_ENDW
				,TO_CHAR(A.NOW_LEV_RESULT_INCMTAX)  AS NOW_LEV_RESULT_INCMTAX
				,TO_CHAR(A.NOW_LEV_RESULT_AGSPT)  AS NOW_LEV_RESULT_AGSPT
				,TO_CHAR(A.NOW_LEV_RESULT_LCLTY_INCMTAX)  AS NOW_LEV_RESULT_LCLTY_INCMTAX
				,TO_CHAR(A.NOW_LEV_RESULT_EMPLYMINSRNC)  AS NOW_LEV_RESULT_EMPLYMINSRNC
				,TO_CHAR(A.NOW_LEV_RESULT_ENCRG_ENDW)  AS NOW_LEV_RESULT_ENCRG_ENDW
				,TO_CHAR(A.DDCT_LEV_INCMTAX)  AS DDCT_LEV_INCMTAX
				,TO_CHAR(A.DDCT_LEV_AGSPT)  AS DDCT_LEV_AGSPT
				,TO_CHAR(A.DDCT_LEV_LCLTY_INCMTAX)  AS DDCT_LEV_LCLTY_INCMTAX
				,TO_CHAR(A.DDCT_LEV_EMPLYMINSRNC)  AS DDCT_LEV_EMPLYMINSRNC
				,TO_CHAR(A.DDCT_LEV_ENCRG_ENDW)  AS DDCT_LEV_ENCRG_ENDW
				,TO_CHAR(A.DDCT_RETUN_INCMTAX)  AS DDCT_RETUN_INCMTAX
				,TO_CHAR(A.DDCT_RETUN_AGSPT)  AS DDCT_RETUN_AGSPT
				,TO_CHAR(A.DDCT_RETUN_LCLTY_INCMTAX)  AS DDCT_RETUN_LCLTY_INCMTA
				,TO_CHAR(A.DDCT_RETUN_EMPLYMINSRNC)  AS DDCT_RETUN_EMPLYMINSRNC
				,TO_CHAR(A.DDCT_RETUN_ENCRG_ENDW)  AS DDCT_RETUN_ENCRG_ENDW
				,TO_CHAR(A.CNTR_CYFD)  AS CNTR_CYFD
				,TO_CHAR(A.ETC_INCOME_DDC_SM)  AS ETC_INCOME_DDC_SM
				,TO_CHAR(A.GNRLZ_LMT_EXCESS_AMOUNT)  AS GNRLZ_LMT_EXCESS_AMOUNT
				
				,TO_CHAR(A.ANNTY_SVINGS_TAXAMT)  AS ANNTY_SVINGS_TAXAMT
				,TO_CHAR(A.IRNCF_TAXAMT)  AS IRNCF_TAXAMT
				,TO_CHAR(A.MCP_TAXAMT)  AS MCP_TAXAMT
				,TO_CHAR(A.EDCCT_TAXAMT)  AS EDCCT_TAXAMT
				,TO_CHAR(A.CNTR_POLITC_TAXAMT)  AS CNTR_POLITC_TAXAMT
				,TO_CHAR(A.CNTR_POLITC_UP)  AS CNTR_POLITC_UP
				,TO_CHAR(A.CNTR_POLITC_UP_TAXAMT)  AS CNTR_POLITC_UP_TAXAMT
				,TO_CHAR(A.LEGAL_CNTR)  AS LEGAL_CNTR
				,TO_CHAR(A.LEGAL_CNTR_TAXAMT)  AS LEGAL_CNTR_TAXAMT
				,TO_CHAR(A.APPN_CNTR)  AS APPN_CNTR
				,TO_CHAR(A.APPN_CNTR_TAXAMT)  AS APPN_CNTR_TAXAMT
				,TO_CHAR(A.MTHT_AM_TAXAMT)  AS MTHT_AM_TAXAMT
                    						
				,TO_CHAR(A.GRNT_IRNCF)  AS GRNT_IRNCF
				
				,H_DECRYPT(A.IHIDNUM_ENCPT)  AS IHIDNUM_ENCPT
				,TO_CHAR(A.PNINT_RPAY_FNNC)  AS PNINT_RPAY_FNNC
				,TO_CHAR(A.PNINT_RPAY_RESIDNT)  AS PNINT_RPAY_RESIDNT
				,TO_CHAR(A.SUBSCRPT_SVINGS)  AS SUBSCRPT_SVINGS
				,TO_CHAR(A.HOUSE_SUBSCRPT_GNRLZ)  AS HOUSE_SUBSCRPT_GNRLZ
				,TO_CHAR(A.LABRR_HOUSE_PREPRTN)  AS LABRR_HOUSE_PREPRTN
				,TO_CHAR(A.SPECL_INCOME_DDC)  AS SPECL_INCOME_DDC
				,TO_CHAR(A.SPECL_TAXAMT_DDC_SM)  AS SPECL_TAXAMT_DDC_SM
				,SFHRM_GET_OFCPSCD(A.EMPNO, C.JSSFC_SE, C.PAY_CLSF_SE, C.ECNY_DE)  AS OFCPS   /* 직위 */
				,C.JSSFC_SE  AS  EMPL_SE   /* 직종  */
				,D.IHIDNUM
				,(SELECT TO_CHAR(NVL(SUPORTR_20,0) + NVL(SUPORTR_60,0)) 
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  SUPORTR
				,(SELECT TO_CHAR(HSHLDR_AT) 
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  HSHLDR_AT
				,(SELECT TO_CHAR(COURS_PVLTRT_70) 
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  COURS_PVLTRT_70
				,(SELECT TO_CHAR(DSPSN_CO) 
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  DSPSN_CO
				,(SELECT TO_CHAR(NPN) 
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  NPN
				,(SELECT TO_CHAR(HLTHINS) 
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  HLTHINS
				,(SELECT TO_CHAR(EMPLYMINSRNC) 
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  EMPLYMINSRNC
				,(SELECT TO_CHAR(HOUSE_HIRE_INTR_RPAY) 
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  HOUSE_HIRE_INTR_RPAY
				,(SELECT TO_CHAR(PNINT_RPAY_RESIDNT) 
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  PNINT_RPAY_RESIDNT
				,(SELECT TO_CHAR(HOUSE_MRTG_BRRW_INTR_14)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  HOUSE_MRTG_BRRW_INTR_14  
				,(SELECT TO_CHAR(HOUSE_MRTG_BRRW_INTR_29)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  HOUSE_MRTG_BRRW_INTR_29
				,(SELECT TO_CHAR(HOUSE_MRTG_BRRW_INTR_30)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  HOUSE_MRTG_BRRW_INTR_30
				,(SELECT TO_CHAR(HOUSE_MRTG_BRRW_INTR_FIXING)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  HOUSE_MRTG_BRRW_INTR_FIXING  
				,(SELECT TO_CHAR(HOUSE_MRTG_BRRW_INTR_ETC)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  HOUSE_MRTG_BRRW_INTR_ETC 
				,(SELECT TO_CHAR(SMALL_CRNTY_DDC)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  SMALL_CRNTY_DDC
				,(SELECT TO_CHAR(SUBSCRPT_SVINGS)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  SUBSCRPT_SVINGS 
				,(SELECT TO_CHAR(HOUSE_SUBSCRPT_GNRLZ)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  HOUSE_SUBSCRPT_GNRLZ 
				,(SELECT TO_CHAR(LABRR_HOUSE_PREPRTN)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  LABRR_HOUSE_PREPRTN 
				,(SELECT TO_CHAR(INVT_MXTR)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  INVT_MXTR
				,(SELECT TO_CHAR(MNYCH)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  MNYCH  
				,(SELECT TO_CHAR(CHLDRN_6_BELOW)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  CHLDRN_6_BELOW
				,(SELECT TO_CHAR(CHLDBRTH_ADP_CHLDRN)
				  FROM TBSAL_YND_EXCCLC_BSIS WHERE EXCCLC_YEAR = A.EXCCLC_YEAR AND EXCCLC_SE = A.EXCCLC_SE AND EMPNO = A.EMPNO)  AS  CHLDBRTH_ADP_CHLDRN                 
		   FROM TBSAL_YND_EXCCLC_DETAIL A
		       ,TBHRM_HR_MASTR C
			   ,VWHRM_DEPT B
			   ,TBSAL_TEMP D
		   WHERE A.EXCCLC_YEAR = #EXCCLC_YEAR#
		   AND A.EXCCLC_SE = #EXCCLC_SE#
		   AND A.EMPNO = C.EMPNO
		   AND A.DEPT_CODE = B.DEPT_CODE
		   /* AND B.USE_AT = '1' */
		   AND B.DEPT_LEVEL_SE IN('1','2')
		   AND A.EMPNO = D.EMPNO
		   AND D.GUBUN = '1'
		]]>
		<isNotEmpty property="EMPNO">
	 	   AND A.EMPNO = #EMPNO#
		</isNotEmpty>  		   
		   ORDER BY  C.RSPOFC_SE, SFHRM_GET_OFCPSCD(A.EMPNO,C.JSSFC_SE,C.HR_CLSF_SE,C.ECNY_DE), C.PAY_CLSF_SE,  A.EMPNO,C.JSSFC_SE 
			
    </select>  
    
   

</sqlMap>